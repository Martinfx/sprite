%!PS-Adobe-1.0
%%Creator: treason.Berkeley.EDU:mgbaker (Mary Baker,477E,9669,548-6875)
%%Title: stdin (ditroff)
%%CreationDate: Mon Dec 14 11:38:52 1992
%%EndComments
%	@(#)psdit.pro	1.3 4/15/88
% lib/psdit.pro -- prolog for psdit (ditroff) files
% Copyright (c) 1984, 1985 Adobe Systems Incorporated. All Rights Reserved.
% last edit: shore Sat Nov 23 20:28:03 1985
% RCSID: $Header: /sprite/lib/ps/RCS/psdit.pro,v 1.1 91/06/07 18:21:34 shirriff Exp Locker: shirriff $

% Changed by Edward Wang (edward@ucbarpa.berkeley.edu) to handle graphics,
% 17 Feb, 87.

/$DITroff 180 dict def $DITroff begin

%% Psfig additions
/DocumentInitState [ matrix currentmatrix currentlinewidth currentlinecap
currentlinejoin currentdash currentgray currentmiterlimit ] cvx def

/startFig {
	/SavedState save def
	userdict maxlength dict begin
	currentpoint transform

	DocumentInitState setmiterlimit setgray setdash setlinejoin setlinecap
		setlinewidth setmatrix

	itransform moveto

	/ury exch def
	/urx exch def
	/lly exch def
	/llx exch def
	/y exch 72 mul resolution div def
	/x exch 72 mul resolution div def
	
	currentpoint /cy exch def /cx exch def

	/sx x urx llx sub div def 	% scaling for x
	/sy y ury lly sub div def	% scaling for y

	sx sy scale			% scale by (sx,sy)

	cx sx div llx sub
	cy sy div ury sub translate
	
	/DefFigCTM matrix currentmatrix def

	/initmatrix {
		DefFigCTM setmatrix
	} def
	/defaultmatrix {
		DefFigCTM exch copy
	} def

	/initgraphics {
		DocumentInitState setmiterlimit setgray setdash 
			setlinejoin setlinecap setlinewidth setmatrix
		DefFigCTM setmatrix
	} def

	/showpage {
		initgraphics
	} def

} def
% Args are llx lly urx ury (in figure coordinates)
/clipFig {
	currentpoint 6 2 roll
	newpath 4 copy
	4 2 roll moveto
	6 -1 roll exch lineto
	exch lineto
	exch lineto
	closepath clip
	newpath
	moveto
} def
% doclip, if called, will always be just after a `startfig'
/doclip { llx lly urx ury clipFig } def
/endFig {
	end SavedState restore
} def
/globalstart {
	% Push details about the enviornment on the stack.
	fontnum fontsize fontslant fontheight firstpage 
	mh my resolution slotno currentpoint 
	pagesave restore gsave 
} def
/globalend {
	grestore moveto
	/slotno exch def /resolution exch def /my exch def
	/mh exch def /firstpage exch def /fontheight exch def
	/fontslant exch def /fontsize exch def /fontnum exch def
	F
	/pagesave save def
} def

%% end XMOD additions

/fontnum 1 def /fontsize 10 def /fontheight 10 def /fontslant 0 def
/xi{0 72 11 mul translate 72 resolution div dup neg scale 0 0 moveto
 /fontnum 1 def /fontsize 10 def /fontheight 10 def /fontslant 0 def F
 /pagesave save def}def
/PB{save /psv exch def currentpoint translate 
 resolution 72 div dup neg scale 0 0 moveto}def
/PE{psv restore}def
/arctoobig 90 def /arctoosmall .05 def
/m1 matrix def /m2 matrix def /m3 matrix def /oldmat matrix def
/tan{dup sin exch cos div}def
/point{resolution 72 div mul}def
/dround	{transform round exch round exch itransform}def
/xT{/devname exch def}def
/xr{/mh exch def /my exch def /resolution exch def}def
/xp{}def
/xs{docsave restore end}def
/xt{}def
/xf{/fontname exch def /slotno exch def fontnames slotno get fontname eq not
 {fonts slotno fontname findfont put fontnames slotno fontname put}if}def
/xH{/fontheight exch def F}def
/xS{/fontslant exch def F}def
/s{/fontsize exch def /fontheight fontsize def F}def
/f{/fontnum exch def F}def
/F{fontheight 0 le{/fontheight fontsize def}if
 fonts fontnum get fontsize point 0 0 fontheight point neg 0 0 m1 astore
 fontslant 0 ne{1 0 fontslant tan 1 0 0 m2 astore m3 concatmatrix}if
 makefont setfont .04 fontsize point mul 0 dround pop setlinewidth}def
/X{exch currentpoint exch pop moveto show}def
/N{3 1 roll moveto show}def
/Y{exch currentpoint pop exch moveto show}def
/S{show}def
/ditpush{}def/ditpop{}def
/AX{3 -1 roll currentpoint exch pop moveto 0 exch ashow}def
/AN{4 2 roll moveto 0 exch ashow}def
/AY{3 -1 roll currentpoint pop exch moveto 0 exch ashow}def
/AS{0 exch ashow}def
/MX{currentpoint exch pop moveto}def
/MY{currentpoint pop exch moveto}def
/MXY{moveto}def
/cb{pop}def	% action on unknown char -- nothing for now
/n{}def/w{}def
/p{pop showpage pagesave restore /pagesave save def}def
/Dt{/Dlinewidth exch def}def 1 Dt
/Ds{/Ddash exch def}def -1 Ds
/Di{/Dstipple exch def}def 1 Di
/Dsetlinewidth{2 Dlinewidth mul setlinewidth}def
/Dsetdash{Ddash 4 eq{[8 12]}{Ddash 16 eq{[32 36]}
 {Ddash 20 eq{[32 12 8 12]}{[]}ifelse}ifelse}ifelse 0 setdash}def
/Dstroke{gsave Dsetlinewidth Dsetdash 1 setlinecap stroke grestore
 currentpoint newpath moveto}def
/Dl{rlineto Dstroke}def
/arcellipse{/diamv exch def /diamh exch def oldmat currentmatrix pop
 currentpoint translate 1 diamv diamh div scale /rad diamh 2 div def
 currentpoint exch rad add exch rad -180 180 arc oldmat setmatrix}def
/Dc{dup arcellipse Dstroke}def
/De{arcellipse Dstroke}def
/Da{/endv exch def /endh exch def /centerv exch def /centerh exch def
 /cradius centerv centerv mul centerh centerh mul add sqrt def
 /eradius endv endv mul endh endh mul add sqrt def
 /endang endv endh atan def
 /startang centerv neg centerh neg atan def
 /sweep startang endang sub dup 0 lt{360 add}if def
 sweep arctoobig gt
 {/midang startang sweep 2 div sub def /midrad cradius eradius add 2 div def
  /midh midang cos midrad mul def /midv midang sin midrad mul def
  midh neg midv neg endh endv centerh centerv midh midv Da
  Da}
 {sweep arctoosmall ge
  {/controldelt 1 sweep 2 div cos sub 3 sweep 2 div sin mul div 4 mul def
   centerv neg controldelt mul centerh controldelt mul
   endv neg controldelt mul centerh add endh add
   endh controldelt mul centerv add endv add
   centerh endh add centerv endv add rcurveto Dstroke}
  {centerh endh add centerv endv add rlineto Dstroke}
  ifelse}
 ifelse}def
/Dpatterns[
[%cf[widthbits]
[8<0000000000000010>]
[8<0411040040114000>]
[8<0204081020408001>]
[8<0000103810000000>]
[8<6699996666999966>]
[8<0000800100001008>]
[8<81c36666c3810000>]
[8<0f0e0c0800000000>]
[8<0000000000000010>]
[8<0411040040114000>]
[8<0204081020408001>]
[8<0000001038100000>]
[8<6699996666999966>]
[8<0000800100001008>]
[8<81c36666c3810000>]
[8<0f0e0c0800000000>]
[8<0042660000246600>]
[8<0000990000990000>]
[8<0804020180402010>]
[8<2418814242811824>]
[8<6699996666999966>]
[8<8000000008000000>]
[8<00001c3e363e1c00>]
[8<0000000000000000>]
[32<00000040000000c00000004000000040000000e0000000000000000000000000>]
[32<00000000000060000000900000002000000040000000f0000000000000000000>]
[32<000000000000000000e0000000100000006000000010000000e0000000000000>]
[32<00000000000000002000000060000000a0000000f00000002000000000000000>]
[32<0000000e0000000000000000000000000000000f000000080000000e00000001>]
[32<0000090000000600000000000000000000000000000007000000080000000e00>]
[32<00010000000200000004000000040000000000000000000000000000000f0000>]
[32<0900000006000000090000000600000000000000000000000000000006000000>]]
[%ug
[8<0000020000000000>]
[8<0000020000002000>]
[8<0004020000002000>]
[8<0004020000402000>]
[8<0004060000402000>]
[8<0004060000406000>]
[8<0006060000406000>]
[8<0006060000606000>]
[8<00060e0000606000>]
[8<00060e000060e000>]
[8<00070e000060e000>]
[8<00070e000070e000>]
[8<00070e020070e000>]
[8<00070e020070e020>]
[8<04070e020070e020>]
[8<04070e024070e020>]
[8<04070e064070e020>]
[8<04070e064070e060>]
[8<06070e064070e060>]
[8<06070e066070e060>]
[8<06070f066070e060>]
[8<06070f066070f060>]
[8<060f0f066070f060>]
[8<060f0f0660f0f060>]
[8<060f0f0760f0f060>]
[8<060f0f0760f0f070>]
[8<0e0f0f0760f0f070>]
[8<0e0f0f07e0f0f070>]
[8<0e0f0f0fe0f0f070>]
[8<0e0f0f0fe0f0f0f0>]
[8<0f0f0f0fe0f0f0f0>]
[8<0f0f0f0ff0f0f0f0>]
[8<1f0f0f0ff0f0f0f0>]
[8<1f0f0f0ff1f0f0f0>]
[8<1f0f0f8ff1f0f0f0>]
[8<1f0f0f8ff1f0f0f8>]
[8<9f0f0f8ff1f0f0f8>]
[8<9f0f0f8ff9f0f0f8>]
[8<9f0f0f9ff9f0f0f8>]
[8<9f0f0f9ff9f0f0f9>]
[8<9f8f0f9ff9f0f0f9>]
[8<9f8f0f9ff9f8f0f9>]
[8<9f8f1f9ff9f8f0f9>]
[8<9f8f1f9ff9f8f1f9>]
[8<bf8f1f9ff9f8f1f9>]
[8<bf8f1f9ffbf8f1f9>]
[8<bf8f1fdffbf8f1f9>]
[8<bf8f1fdffbf8f1fd>]
[8<ff8f1fdffbf8f1fd>]
[8<ff8f1fdffff8f1fd>]
[8<ff8f1ffffff8f1fd>]
[8<ff8f1ffffff8f1ff>]
[8<ff9f1ffffff8f1ff>]
[8<ff9f1ffffff9f1ff>]
[8<ff9f9ffffff9f1ff>]
[8<ff9f9ffffff9f9ff>]
[8<ffbf9ffffff9f9ff>]
[8<ffbf9ffffffbf9ff>]
[8<ffbfdffffffbf9ff>]
[8<ffbfdffffffbfdff>]
[8<ffffdffffffbfdff>]
[8<ffffdffffffffdff>]
[8<fffffffffffffdff>]
[8<ffffffffffffffff>]]
[%mg
[8<8000000000000000>]
[8<0822080080228000>]
[8<0204081020408001>]
[8<40e0400000000000>]
[8<66999966>]
[8<8001000010080000>]
[8<81c36666c3810000>]
[8<f0e0c08000000000>]
[16<07c00f801f003e007c00f800f001e003c007800f001f003e007c00f801f003e0>]
[16<1f000f8007c003e001f000f8007c003e001f800fc007e003f001f8007c003e00>]
[8<c3c300000000c3c3>]
[16<0040008001000200040008001000200040008000000100020004000800100020>]
[16<0040002000100008000400020001800040002000100008000400020001000080>]
[16<1fc03fe07df0f8f8f07de03fc01f800fc01fe03ff07df8f87df03fe01fc00f80>]
[8<80>]
[8<8040201000000000>]
[8<84cc000048cc0000>]
[8<9900009900000000>]
[8<08040201804020100800020180002010>]
[8<2418814242811824>]
[8<66999966>]
[8<8000000008000000>]
[8<70f8d8f870000000>]
[8<0814224180402010>]
[8<aa00440a11a04400>]
[8<018245aa45820100>]
[8<221c224180808041>]
[8<88000000>]
[8<0855800080550800>]
[8<2844004482440044>]
[8<0810204080412214>]
[8<00>]]]def
/Dfill{
 transform /maxy exch def /maxx exch def
 transform /miny exch def /minx exch def
 minx maxx gt{/minx maxx /maxx minx def def}if
 miny maxy gt{/miny maxy /maxy miny def def}if
 Dpatterns Dstipple 1 sub get exch 1 sub get
 aload pop /stip exch def /stipw exch def /stiph 128 def
 /imatrix[stipw 0 0 stiph 0 0]def
 /tmatrix[stipw 0 0 stiph 0 0]def
 /minx minx cvi stiph idiv stiph mul def
 /miny miny cvi stipw idiv stipw mul def
 gsave eoclip 0 setgray
 miny stiph maxy{
  tmatrix exch 5 exch put
  minx stipw maxx{
   tmatrix exch 4 exch put tmatrix setmatrix
   stipw stiph true imatrix {stip} imagemask
  }for
 }for
 grestore
}def
/Dp{Dfill Dstroke}def
/DP{Dfill currentpoint newpath moveto}def
end

/ditstart{$DITroff begin
 /nfonts 60 def			% NFONTS makedev/ditroff dependent!
 /fonts[nfonts{0}repeat]def
 /fontnames[nfonts{()}repeat]def
/docsave save def
}def

% character outcalls
/oc{
 /pswid exch def /cc exch def /name exch def
 /ditwid pswid fontsize mul resolution mul 72000 div def
 /ditsiz fontsize resolution mul 72 div def
 ocprocs name known{ocprocs name get exec}{name cb}ifelse
}def
/fractm [.65 0 0 .6 0 0] def
/fraction{
 /fden exch def /fnum exch def gsave /cf currentfont def
 cf fractm makefont setfont 0 .3 dm 2 copy neg rmoveto
 fnum show rmoveto currentfont cf setfont(\244)show setfont fden show 
 grestore ditwid 0 rmoveto
}def
/oce{grestore ditwid 0 rmoveto}def
/dm{ditsiz mul}def
/ocprocs 50 dict def ocprocs begin
(14){(1)(4)fraction}def
(12){(1)(2)fraction}def
(34){(3)(4)fraction}def
(13){(1)(3)fraction}def
(23){(2)(3)fraction}def
(18){(1)(8)fraction}def
(38){(3)(8)fraction}def
(58){(5)(8)fraction}def
(78){(7)(8)fraction}def
(sr){gsave 0 .06 dm rmoveto(\326)show oce}def
(is){gsave 0 .15 dm rmoveto(\362)show oce}def
(->){gsave 0 .02 dm rmoveto(\256)show oce}def
(<-){gsave 0 .02 dm rmoveto(\254)show oce}def
(==){gsave 0 .05 dm rmoveto(\272)show oce}def
(uc){gsave currentpoint 400 .009 dm mul add translate
     8 -8 scale ucseal oce}def
end

% an attempt at a PostScript FONT to implement ditroff special chars
% this will enable us to 
%	cache the little buggers
%	generate faster, more compact PS out of psdit
%	confuse everyone (including myself)!
50 dict dup begin
/FontType 3 def
/FontName /DIThacks def
/FontMatrix [.001 0 0 .001 0 0] def
/FontBBox [-260 -260 900 900] def% a lie but ...
/Encoding 256 array def
0 1 255{Encoding exch /.notdef put}for
Encoding
 dup 8#040/space put %space
 dup 8#110/rc put %right ceil
 dup 8#111/lt put %left  top curl
 dup 8#112/bv put %bold vert
 dup 8#113/lk put %left  mid curl
 dup 8#114/lb put %left  bot curl
 dup 8#115/rt put %right top curl
 dup 8#116/rk put %right mid curl
 dup 8#117/rb put %right bot curl
 dup 8#120/rf put %right floor
 dup 8#121/lf put %left  floor
 dup 8#122/lc put %left  ceil
 dup 8#140/sq put %square
 dup 8#141/bx put %box
 dup 8#142/ci put %circle
 dup 8#143/br put %box rule
 dup 8#144/rn put %root extender
 dup 8#145/vr put %vertical rule
 dup 8#146/ob put %outline bullet
 dup 8#147/bu put %bullet
 dup 8#150/ru put %rule
 dup 8#151/ul put %underline
 pop
/DITfd 100 dict def
/BuildChar{0 begin
 /cc exch def /fd exch def
 /charname fd /Encoding get cc get def
 /charwid fd /Metrics get charname get def
 /charproc fd /CharProcs get charname get def
 charwid 0 fd /FontBBox get aload pop setcachedevice
 2 setlinejoin 40 setlinewidth
 newpath 0 0 moveto gsave charproc grestore
 end}def
/BuildChar load 0 DITfd put
/CharProcs 50 dict def
CharProcs begin
/space{}def
/.notdef{}def
/ru{500 0 rls}def
/rn{0 840 moveto 500 0 rls}def
/vr{0 800 moveto 0 -770 rls}def
/bv{0 800 moveto 0 -1000 rls}def
/br{0 840 moveto 0 -1000 rls}def
/ul{0 -140 moveto 500 0 rls}def
/ob{200 250 rmoveto currentpoint newpath 200 0 360 arc closepath stroke}def
/bu{200 250 rmoveto currentpoint newpath 200 0 360 arc closepath fill}def
/sq{80 0 rmoveto currentpoint dround newpath moveto
    640 0 rlineto 0 640 rlineto -640 0 rlineto closepath stroke}def
/bx{80 0 rmoveto currentpoint dround newpath moveto
    640 0 rlineto 0 640 rlineto -640 0 rlineto closepath fill}def
/ci{500 360 rmoveto currentpoint newpath 333 0 360 arc
    50 setlinewidth stroke}def

/lt{0 -200 moveto 0 550 rlineto currx 800 2cx s4 add exch s4 a4p stroke}def
/lb{0 800 moveto 0 -550 rlineto currx -200 2cx s4 add exch s4 a4p stroke}def
/rt{0 -200 moveto 0 550 rlineto currx 800 2cx s4 sub exch s4 a4p stroke}def
/rb{0 800 moveto 0 -500 rlineto currx -200 2cx s4 sub exch s4 a4p stroke}def
/lk{0 800 moveto 0 300 -300 300 s4 arcto pop pop 1000 sub
    0 300 4 2 roll s4 a4p 0 -200 lineto stroke}def
/rk{0 800 moveto 0 300 s2 300 s4 arcto pop pop 1000 sub
    0 300 4 2 roll s4 a4p 0 -200 lineto stroke}def
/lf{0 800 moveto 0 -1000 rlineto s4 0 rls}def
/rf{0 800 moveto 0 -1000 rlineto s4 neg 0 rls}def
/lc{0 -200 moveto 0 1000 rlineto s4 0 rls}def
/rc{0 -200 moveto 0 1000 rlineto s4 neg 0 rls}def
end

/Metrics 50 dict def Metrics begin
/.notdef 0 def
/space 500 def
/ru 500 def
/br 0 def
/lt 416 def
/lb 416 def
/rt 416 def
/rb 416 def
/lk 416 def
/rk 416 def
/rc 416 def
/lc 416 def
/rf 416 def
/lf 416 def
/bv 416 def
/ob 350 def
/bu 350 def
/ci 750 def
/bx 750 def
/sq 750 def
/rn 500 def
/ul 500 def
/vr 0 def
end

DITfd begin
/s2 500 def /s4 250 def /s3 333 def
/a4p{arcto pop pop pop pop}def
/2cx{2 copy exch}def
/rls{rlineto stroke}def
/currx{currentpoint pop}def
/dround{transform round exch round exch itransform} def
end
end
/DIThacks exch definefont pop
ditstart
(psc)xT
576 1 1 xr
1(Times-Roman)xf 1 f
2(Times-Italic)xf 2 f
3(Times-Bold)xf 3 f
4(Times-BoldItalic)xf 4 f
5(Helvetica)xf 5 f
6(Helvetica-Bold)xf 6 f
7(Courier)xf 7 f
8(Courier-Bold)xf 8 f
9(Symbol)xf 9 f
10(DIThacks)xf 10 f
10 s
1 f
xi
%%EndProlog

%%Page: 1 1
10 s 10 xH 0 xS 1 f
3 f
24 s
1395 888(T)N
1523(h)X
1630(e)X
1763(S)X
1870(p)X
1977(rite)X
2313(R)X
2451(P)X
2568(C)X
2754(In)X
2936(terface)X
1 f
12 s
10 f
720 1131(hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh)N
3 f
720 1443(1.)N
840(Introduction)X
1 f
920 1584(This)N
1134(is)X
1241(a)X
1327(brief)X
1552(summary)X
1953(of)X
2076(the)X
2237(network)X
2595(interface)X
2976(to)X
3095(Sprite.)X
3417(This)X
3632(is)X
3740(done)X
3971(via)X
4133(a)X
720 1692(description)N
1180(of)X
1292(each)X
1501(RPC)X
1714(used)X
1922(in)X
2029(the)X
2178 0.2366(implementation.)AX
2863(Most)X
3091(of)X
3202(the)X
3351(calls)X
3559(have)X
3772(to)X
3878(do)X
4005(with)X
720 1800(the)N
864(\256le)X
1013(system,)X
1330(although)X
1693(there)X
1912(are)X
2056(a)X
2125(few)X
2295(related)X
2584(to)X
2685(process)X
2999(migration,)X
3424(signals,)X
3742(and)X
3908(remote)X
720 1908(waiting.)N
1083(The)X
1259(parameters)X
1708(of)X
1814(each)X
2017(RPC)X
2224(are)X
2367(speci\256ed,)X
2758(and)X
2922(a)X
2990(few)X
3159(words)X
3418(about)X
3657(the)X
3800(use)X
3953(of)X
4058(the)X
720 2016(RPC)N
929(are)X
1075(given.)X
1365(This)X
1564(is)X
1656(only)X
1856(a)X
1928(terse)X
2139(reference)X
2527(guide;)X
2797(there)X
3019(is)X
3112(not)X
3264(necessarily)X
3721(justi\256cation)X
720 2124(or)N
824(explanation)X
1298(included)X
1654(in)X
1753(the)X
1895(descriptions.)X
920 2265(It)N
1010(is)X
1105(important)X
1511(to)X
1617(understand)X
2070(that)X
2247(this)X
2418(RPC)X
2631(interface)X
3001(is)X
3097(between)X
3450(two)X
3626(operating)X
4022(sys-)X
720 2373(tem)N
895(kernels.)X
1251(The)X
1431(terms)X
1675(``client'')X
2048(and)X
2217(``server'')X
2610(refer)X
2822(to)X
2927(instances)X
3310(of)X
3419(the)X
3566(kernel)X
3836(acting)X
4101(in)X
720 2481(these)N
946(roles.)X
1209(The)X
1387(term)X
1592(``application)X
2114(process'')X
2495(will)X
2674(be)X
2794(used)X
2999(when)X
3236(necessary)X
3639(to)X
3743(refer)X
3954(to)X
4058(the)X
720 2589(process)N
1032(triggering)X
1436(the)X
1578(use)X
1730(of)X
1834(an)X
1949(RPC.)X
3 f
720 2901(1.1.)N
912(The)X
1096(RPC)X
1317(Protocol)X
1 f
920 3042(It)N
1009(is)X
1103(useful)X
1368(to)X
1473(review)X
1765(the)X
1913(RPC)X
2124(protocol)X
2475(itself.)X
2746(The)X
2926(main)X
3149(thing)X
3377(to)X
3483(understand)X
3936(is)X
4031(that)X
720 3150(the)N
864(information)X
1345(included)X
1703(in)X
1804(each)X
2007(RPC)X
2214(request)X
2518(and)X
2683(reply)X
2907(is)X
2997(broken)X
3290(into)X
3466(three)X
3685(parts,)X
3921(a)X
3989(stan-)X
720 3258(dard)N
916(RPC)X
1122(header,)X
1428(a)X
1496(parameter)X
1907(area,)X
2117(and)X
2281(a)X
2349(data)X
2535(area.)X
2769(The)X
2944(actual)X
3200(size)X
3375(of)X
3481(the)X
3625(parameter)X
4037(and)X
720 3366(data)N
908(areas)X
1133(are)X
1278(extracted)X
1659(from)X
1873(the)X
2018(packet)X
2297(header)X
2581(and)X
2747(reported)X
3095(to)X
3197(the)X
3342(stub)X
3529(procedures.)X
4026(The)X
720 3474(ID)N
845(of)X
949(the)X
1091(client)X
1330(is)X
1418(also)X
1597(reported)X
1942(to)X
2041(the)X
2184(server-side)X
2631(stub)X
2816(procedures.)X
3311(The)X
3486(stubs)X
3708(have)X
3915(to)X
4015(deal)X
720 3582(with)N
928(the)X
1083(distinct)X
1404(parameter)X
1827(and)X
2002(data)X
2199(areas.)X
2481(The)X
2667(parameter)X
3089(area)X
3286(is)X
3386(restricted)X
3781(to)X
3892(contain)X
720 3690(only)N
920(integers,)X
1278(while)X
1521(the)X
1668(data)X
1858(area)X
2048(can)X
2211(contain)X
2525(arbitrary)X
2887(data.)X
3126(The)X
3306(low-levels)X
3737(of)X
3847(the)X
3995(RPC)X
720 3798(protocol)N
1077(handle)X
1370(communication)X
2006(between)X
2363(hosts)X
2596(of)X
2712(different)X
3080(byte)X
3281(order)X
3519(by)X
3650 0.2813(automatically)AX
720 3906(byteswapping)N
1285(the)X
1434(RPC)X
1646(header)X
1934(and)X
2104(the)X
2253(parameter)X
2670(area)X
2862(when)X
3101(a)X
3175(packet)X
3459(is)X
3555(received)X
3914(from)X
4133(a)X
720 4014(host)N
905(with)X
1101(a)X
1169(different)X
1526(byte)X
1717(order.)X
1993(This)X
2188(means)X
2458(that)X
2627(both)X
2822(the)X
2964(client)X
3203(and)X
3366(server)X
3625(stubs)X
3846(can)X
4004(treat)X
720 4122(the)N
873(parameter)X
1294(area)X
1490(as)X
1605(a)X
1683(C)X
1782(structure)X
2154(\(of)X
2301(integers\),)X
2697(and)X
2872(not)X
3031(worry)X
3296(about)X
3546(alignment)X
3968(prob-)X
720 4230(lems.)N
981(If)X
1076(the)X
1225(data)X
1417(area)X
1609(is)X
1704(used)X
1911(for)X
2054(other)X
2283(than)X
2480(\256le)X
2634(data)X
2826(or)X
2937(strings,)X
3248(then)X
3445(the)X
3594(stub,)X
3809(or)X
3920(even)X
4133(a)X
720 4338(higher-level)N
1210(procedure,)X
1643(has)X
1795(to)X
1894(do)X
2014(its)X
2129(own)X
2318(byteswapping.)X
920 4479(Lastly,)N
1209(there)X
1426(is)X
1514(a)X
1581(return)X
1835(code)X
2041(from)X
2252(each)X
2453(RPC,)X
2682(with)X
10 s
2874(SUCCESS)X
12 s
3244(\(zero\))X
3499(meaning)X
3856(success-)X
720 4587(ful)N
851(completion.)X
1357(Sprite)X
1611(return)X
1865(codes)X
2108(are)X
2250(de\256ned)X
2557(in)X
2656(the)X
2798(\256le)X
2945 0.1387(``/sprite/lib/include/status.h''.)AX
920 4728(The)N
1105(complete)X
1494(set)X
1636(of)X
1751(RPCs)X
2004(used)X
2215(in)X
2325(the)X
2479(Sprite)X
2745 0.2548(implementation)AX
3387(is)X
3487(given)X
3737(in)X
3848(Table)X
4104(1.)X
720 4836(The)N
905(number)X
1234(associated)X
1665(with)X
1871(the)X
2024(RPC)X
2240(is)X
2339(the)X
2491(procedure)X
2910(number)X
3238(used)X
3448(in)X
3557(the)X
3709(RPC)X
3924(packet)X
720 4944(header.)N
1049(The)X
1223(RPCs)X
1465(are)X
1607(described)X
2000(in)X
2099(more)X
2321(detail)X
2560(below.)X
3 f
720 5256(1.2.)N
912(Source)X
1219(Code)X
1456(References)X
1 f
920 5397(The)N
1107(RPC)X
1325(parameters)X
1786(described)X
2193(below)X
2466(are)X
2622(given)X
2874(as)X
2992(C)X
3094(typedefs.)X
3506(These)X
3774(have)X
3994(been)X
720 5505(extracted)N
1108(from)X
1329(the)X
1481(C)X
1579(source)X
1864(code)X
2080(of)X
2194(the)X
2346(Sprite)X
2610 0.2366(implementation.)AX
3298(It)X
3391(may)X
3591(help)X
3790(to)X
3898(consult)X
720 5613(the)N
864(code)X
1073(in)X
1175(order)X
1405(to)X
1507(fully)X
1716(understand)X
2165(the)X
2310(use)X
2465(of)X
2572(a)X
2642(particular)X
3039(RPC.)X
3295(Most)X
3519(of)X
3626(the)X
3771(RPC)X
3979(stubs)X
720 5721(are)N
871(organized)X
1284(so)X
1402(the)X
1553(client)X
1801(and)X
1973(server)X
2241(stub)X
2433(for)X
2577(a)X
2652(given)X
2898(RPC)X
3111(are)X
3261(together)X
3609(along)X
3855(with)X
4058(the)X

2 p
%%Page: 2 2
12 s 12 xH 0 xS 1 f
3 f
1 f
4128 684(2)N
10 f
792 1005(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)N
11 s
1 f
1915 1104(Sprite)N
2148(Remote)X
2445(Procedure)X
2823(Calls)X
12 s
10 f
792 1107(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)N
792 1123(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)N
11 s
1 f
1097 1214(Procedure)N
1785(#)X
2786(Description)X
12 s
10 f
792 1225(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)N
9 s
1 f
840 1324(ECHO_1)N
11 s
1811(1)X
1903(Echo.)X
2150(Performed)X
2543(by)X
2653(server's)X
2952(interrupt)X
3278(handler)X
3564(\(unused\).)X
9 s
840 1423(ECHO_2)N
11 s
1811(2)X
1903(Echo.)X
2150(Performed)X
2543(by)X
2653(Rpc_Server)X
3090(process.)X
9 s
840 1522(SEND)N
11 s
1811(3)X
1903(Send.)X
2145(Like)X
2329(Echo,)X
2554(but)X
2689(data)X
2858(only)X
3037(transferred)X
3439(to)X
3530(server.)X
9 s
840 1621(RECEIVE)N
11 s
1811(4)X
1903(Receive.)X
2253(Data)X
2441(only)X
2620(transferred)X
3022(back)X
3210(to)X
3301(client.)X
9 s
840 1720(GETTIME)N
11 s
1811(5)X
1903(Broadcast)X
2277(RPC)X
2466(to)X
2557(get)X
2687(the)X
2817(current)X
3088(time.)X
9 s
840 1819(FS_PREFIX)N
11 s
1811(6)X
1903(Broadcast)X
2277(RPC)X
2466(to)X
2557(\256nd)X
2716(pre\256x)X
2943(server.)X
9 s
840 1918(FS_OPEN)N
11 s
1811(7)X
1903(Open)X
2115(a)X
2176(\256le)X
2311(system)X
2578(object)X
2816(by)X
2926(name.)X
9 s
840 2017(FS_READ)N
11 s
1811(8)X
1903(Read)X
2106(data)X
2275(from)X
2468(a)X
2529(\256le)X
2664(system)X
2931(object.)X
9 s
840 2116(FS_WRITE)N
11 s
1811(9)X
1903(Write)X
2126(data)X
2295(to)X
2386(a)X
2447(\256le)X
2582(system)X
2849(object.)X
9 s
840 2215(FS_CLOSE)N
11 s
1767(10)X
1903(Close)X
2126(an)X
2231(I/O)X
2370(stream)X
2627(to)X
2718(a)X
2779(\256le)X
2914(system)X
3181(object.)X
9 s
840 2314(FS_UNLINK)N
11 s
1767(11)X
1903(Remove)X
2219(the)X
2349(name)X
2562(of)X
2657(an)X
2762(object.)X
9 s
840 2413(FS_RENAME)N
11 s
1767(12)X
1903(Change)X
2194(the)X
2324(name)X
2537(of)X
2632(an)X
2737(object.)X
9 s
840 2512(FS_MKDIR)N
11 s
1767(13)X
1903(Create)X
2155(a)X
2216(directory.)X
9 s
840 2611(FS_RMDIR)N
11 s
1767(14)X
1903(Remove)X
2219(a)X
2280(directory.)X
9 s
840 2710(FS_MKDEV)N
11 s
1767(15)X
1903(Make)X
2125(a)X
2186(special)X
2453(device)X
2705(\256le.)X
9 s
840 2809(FS_LINK)N
11 s
1767(16)X
1903(Make)X
2125(a)X
2186(directory)X
2526(reference)X
2874(to)X
2965(an)X
3070(existing)X
3372(object.)X
9 s
840 2908(FS_SYM_LINK)N
11 s
1767(17)X
1903(Make)X
2125(a)X
2186(symbolic)X
2532(link)X
2692(to)X
2783(an)X
2888(existing)X
3190(object.)X
9 s
840 3007(FS_GET_ATTR)N
11 s
1767(18)X
1903(Get)X
2052(the)X
2182(attributes)X
2533(of)X
2628(the)X
2758(object)X
2996(behind)X
3258(an)X
3363(I/O)X
3502(stream.)X
9 s
840 3106(FS_SET_ATTR)N
11 s
1767(19)X
1903(Set)X
2038(the)X
2168(attributes)X
2519(of)X
2614(the)X
2744(object)X
2982(behind)X
3244(an)X
3349(I/O)X
3488(stream.)X
9 s
840 3205(FS_GET_ATTR_PATH)N
11 s
1767(20)X
1903(Get)X
2052(the)X
2182(attributes)X
2533(of)X
2628(a)X
2689(named)X
2946(object.)X
9 s
840 3304(FS_SET_ATTR_PATH)N
11 s
1767(21)X
1903(Set)X
2038(the)X
2168(attributes)X
2519(of)X
2614(a)X
2675(named)X
2932(object.)X
9 s
840 3403(FS_GET_IO_ATTR)N
11 s
1767(22)X
1903(Get)X
2052(the)X
2182(attributes)X
2533(kept)X
2707(by)X
2817(the)X
2947(I/O)X
3086(server.)X
9 s
840 3502(FS_SET_IO_ATTR)N
11 s
1767(23)X
1903(Set)X
2038(the)X
2168(attributes)X
2519(kept)X
2693(by)X
2803(the)X
2933(I/O)X
3072(server.)X
9 s
840 3601(FS_DEV_OPEN)N
11 s
1767(24)X
1903(Complete)X
2269(the)X
2399(open)X
2592(of)X
2687(a)X
2748(remote)X
3015(device)X
3267(or)X
3362(pseudo-device.)X
9 s
840 3700(FS_SELECT)N
11 s
1767(25)X
1903(Query)X
2144(the)X
2274(status)X
2497(of)X
2592(a)X
2653(device)X
2905(or)X
3000(pseudo-device.)X
9 s
840 3799(FS_IO_CONTROL)N
11 s
1767(26)X
1903(Perform)X
2213(an)X
2318(object-speci\256c)X
2854(operation.)X
9 s
840 3898(FS_CONSIST)N
11 s
1767(27)X
1903(Request)X
2209(that)X
2364(cache)X
2586(consistency)X
3019(action)X
3257(be)X
3362(performed.)X
9 s
840 3997(FS_CONSIST_REPLY)N
11 s
1767(28)X
1903(Acknowledgement)X
2590(that)X
2745(consistency)X
3178(action)X
3416(completed.)X
9 s
840 4096(FS_COPY_BLOCK)N
11 s
1767(29)X
1903(Copy)X
2116(a)X
2177(block)X
2395(of)X
2490(a)X
2551(swap)X
2753(\256le.)X
9 s
840 4195(FS_MIGRATE)N
11 s
1767(30)X
1903(Tell)X
2068(I/O)X
2207(server)X
2443(that)X
2598(an)X
2703(I/O)X
2842(stream)X
3099(has)X
3238(migrated.)X
9 s
840 4294(FS_RELEASE)N
11 s
1767(31)X
1903(Obsolete.)X
9 s
840 4393(FS_REOPEN)N
11 s
1767(32)X
1903(Recover)X
2218(the)X
2348(state)X
2532(about)X
2750(an)X
2855(I/O)X
2994(stream.)X
9 s
840 4492(FS_RECOVERY)N
11 s
1767(33)X
1903(Signal)X
2151(that)X
2306(recovery)X
2635(actions)X
2907(have)X
3095(completed.)X
9 s
840 4591(FS_DOMAIN_INFO)N
11 s
1767(34)X
1903(Return)X
2165(information)X
2604(about)X
2822(a)X
2883(\256le)X
3018(system)X
3285(domain.)X
9 s
840 4690(PROC_MIG_COMMAND)N
11 s
1767(35)X
1903(Used)X
2105(to)X
2196(transfer)X
2486(process)X
2771(state)X
2955(during)X
3207(migration.)X
9 s
840 4789(PROC_REMOTE_CALL)N
11 s
1767(36)X
1903(Used)X
2105(to)X
2196(forward)X
2495(system)X
2762(call)X
2912(to)X
3003(the)X
3133(home)X
3351(node.)X
9 s
840 4888(PROC_REMOTE_WAIT)N
11 s
1767(37)X
1903(Used)X
2105(to)X
2196(synchronize)X
2643(exit)X
2798(of)X
2893(migrated)X
3229(process.)X
9 s
840 4987(PROC_GETPCB)N
11 s
1767(38)X
1903(Return)X
2165(process)X
2450(table)X
2644(entry)X
2847(for)X
2971(migrated)X
3307(process.)X
9 s
840 5086(REMOTE_WAKEUP)N
11 s
1767(39)X
1903(Wakeup)X
2218(a)X
2279(remote)X
2546(process.)X
9 s
840 5185(SIG_SEND)N
11 s
1767(40)X
1903(Issue)X
2105(a)X
2166(signal)X
2399(to)X
2490(a)X
2551(remote)X
2818(process.)X
9 s
840 5284(FS_RELEASE_NEW)N
11 s
1767(41)X
1903(Tell)X
2068(source)X
2319(of)X
2414(migration)X
2780(to)X
2871(release)X
3137(I/O)X
3276(stream.)X
12 s
10 f
792 5296(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)N
792(c)X
5229(c)Y
5133(c)Y
5037(c)Y
4941(c)Y
4845(c)Y
4749(c)Y
4653(c)Y
4557(c)Y
4461(c)Y
4365(c)Y
4269(c)Y
4173(c)Y
4077(c)Y
3981(c)Y
3885(c)Y
3789(c)Y
3693(c)Y
3597(c)Y
3501(c)Y
3405(c)Y
3309(c)Y
3213(c)Y
3117(c)Y
3021(c)Y
2925(c)Y
2829(c)Y
2733(c)Y
2637(c)Y
2541(c)Y
2445(c)Y
2349(c)Y
2253(c)Y
2157(c)Y
2061(c)Y
1965(c)Y
1869(c)Y
1773(c)Y
1677(c)Y
1581(c)Y
1485(c)Y
1389(c)Y
1293(c)Y
1197(c)Y
1101(c)Y
4104 5296(c)N
5229(c)Y
5133(c)Y
5037(c)Y
4941(c)Y
4845(c)Y
4749(c)Y
4653(c)Y
4557(c)Y
4461(c)Y
4365(c)Y
4269(c)Y
4173(c)Y
4077(c)Y
3981(c)Y
3885(c)Y
3789(c)Y
3693(c)Y
3597(c)Y
3501(c)Y
3405(c)Y
3309(c)Y
3213(c)Y
3117(c)Y
3021(c)Y
2925(c)Y
2829(c)Y
2733(c)Y
2637(c)Y
2541(c)Y
2445(c)Y
2349(c)Y
2253(c)Y
2157(c)Y
2061(c)Y
1965(c)Y
1869(c)Y
1773(c)Y
1677(c)Y
1581(c)Y
1485(c)Y
1389(c)Y
1293(c)Y
1197(c)Y
1101(c)Y
11 s
1 f
880 5677(Table)N
1103(1.)X
1191(The)X
1350(Remote)X
1647(Procedure)X
2025(Calls)X
2229(that)X
2384(are)X
2513(used)X
2696(in)X
2787(the)X
2917(Sprite)X
3150 0.2679(implementation.)AX

3 p
%%Page: 3 3
11 s 11 xH 0 xS 1 f
12 s
3 f
1 f
4128 684(3)N
10 f
1003 876(i)N
1012(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1 f
2006 984(Important)N
2410(Source)X
2701(Files)X
10 f
1003 988(i)N
1012(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1003 1004(i)N
1012(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1 f
1051 1104(fs/fs.h)N
2223(Basic)X
2461(FS)X
2591(de\256nitions.)X
1051 1212(fs/fsNameOps.h)N
2223(De\256nitions)X
2674(for)X
2810(the)X
2952(naming)X
3265(interface.)X
1051 1320(fsrmt/fsNameOpsInt.h)N
2223(More)X
2455(de\256nitions)X
2885(for)X
3021(the)X
3163(naming)X
3476(interface.)X
1051 1428(fsrmt/fsrmtInt.h)N
2223(De\256nitions)X
2674(for)X
2810(the)X
2952(I/O)X
3104(interface.)X
1051 1536(fsrmt/fsSpriteDomain.c)N
2223(RPC)X
2428(stubs)X
2649(for)X
2785(the)X
2927(naming)X
3240(interface.)X
1051 1644(fsrmt/fsSpriteIO.c)N
2223(RPC)X
2428(stubs)X
2649(for)X
2785(the)X
2927(I/O)X
3079(interface)X
1051 1752(fsrmt/fsRmtAttributes.c)N
2223(RPC)X
2428(stubs)X
2649(for)X
2785(attribute)X
3131(handling.)X
1051 1860(fsrmt/fsRmtDevice.)N
2223(RPC)X
2428(stubs)X
2649(for)X
2785(remote)X
3077(devices.)X
1051 1968(fsrmt/fsRmtMigrate.c)N
2223(RPC)X
2428(stubs)X
2649(for)X
2785(migration.)X
1051 2076(fsio/fsStream.c)N
2223(RPC)X
2428(stub)X
2612(for)X
2748(migration)X
3147(callback.)X
1051 2184(fsconsist/fsCacheConsist.c)N
2223(RPC)X
2428(stubs)X
2649(for)X
2785(cache)X
3029(consistency.)X
1051 2292(fsutil/fsRecovery.c)N
2223(RPC)X
2428(stubs)X
2649(for)X
2785(state)X
2986(recovery.)X
10 f
1003 2304(i)N
1012(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1003(c)X
2220(c)Y
2124(c)Y
2028(c)Y
1932(c)Y
1836(c)Y
1740(c)Y
1644(c)Y
1548(c)Y
1452(c)Y
1356(c)Y
1260(c)Y
1164(c)Y
1068(c)Y
972(c)Y
3892 2304(c)N
2220(c)Y
2124(c)Y
2028(c)Y
1932(c)Y
1836(c)Y
1740(c)Y
1644(c)Y
1548(c)Y
1452(c)Y
1356(c)Y
1260(c)Y
1164(c)Y
1068(c)Y
972(c)Y
11 s
1 f
880 2685(Table)N
1107(2.)X
1222(Important)X
1597(source)X
1853(\256les)X
2027(concerning)X
2445(the)X
2580(RPC)X
2774(interface)X
3109(to)X
3205(Sprite.)X
3487(The)X
3651(\256le)X
3791(names)X
880 2784(are)N
1019(relative)X
1316(to)X
1416(the)X
1555(``/sprite/src/kernel'')X
2295(directory.)X
2688(This)X
2876(list)X
3016(isn't)X
3204(guaranteed)X
3621(to)X
3721(be)X
3835(com-)X
880 2883(plete.)N
1123(There)X
1355(are)X
1489(likely)X
1718(to)X
1815(be)X
1926(other)X
2135(de\256nition)X
2502(\256les)X
2677(needed)X
2954(to)X
3051(fully)X
3246(resolve)X
3528(the)X
3664(parameter)X
880 2982(de\256nitions)N
1275(of)X
1370(an)X
1475(RPC.)X
1708(\(All)X
1872(required)X
2187(de\256nitions)X
2582(are)X
2711(given)X
2929(in)X
3020(this)X
3170(appendix.\))X
12 s
720 3219(de\256nition)N
1116(of)X
1223(their)X
1427(parameters.)X
1925(However,)X
2328(these)X
2554(de\256nitions)X
2988(also)X
3171(include)X
3483(structures)X
3885(that)X
4058(are)X
720 3327(common)N
1086(to)X
1190(the)X
1337(rest)X
1505(of)X
1614(the)X
1761 0.2548(implementation)AX
2396(and)X
2564(may)X
2759(be)X
2879(de\256ned)X
3191(elsewhere.)X
3653(Table)X
3901(2)X
3977(has)X
4133(a)X
720 3435(list)N
870(of)X
982(the)X
1132(``.c'')X
1359(\256les)X
1551(that)X
1728(contain)X
2044(most)X
2263(of)X
2375(the)X
2525(RPC)X
2738(stubs)X
2967(and)X
3138(the)X
3288(``.h'')X
3521(\256les)X
3714(that)X
3892(contain)X
720 3543(most)N
932(of)X
1037(the)X
1180(relevant)X
1516(typedefs.)X
1915(Finally,)X
2237(note)X
2428(that)X
2597(these)X
2819(structures)X
3217(are)X
3359(passed)X
3639(around)X
3930(within)X
720 3651(the)N
865(kernel)X
1133(as)X
1240(well)X
1433(as)X
1541(between)X
1890(kernels)X
2196(using)X
2432(RPC,)X
2665(and)X
2832(there)X
3053(are)X
3199(some)X
3430(structure)X
3795(\256elds)X
4031(that)X
720 3759(are)N
862(not)X
1009(valid)X
1226(during)X
1501(an)X
1616(RPC.)X
3 f
720 4071(2.)N
865(ECHO_2)X
1 f
1341(This)X
1561(echoes)X
1872(data)X
2082(off)X
2243(another)X
2581(host.)X
2838(This)X
3058(operation)X
3471(is)X
3584(handled)X
3939(by)X
4085(an)X
720 4179(Rpc_Server)N
1211(process,)X
1560(so)X
1682(it)X
1773(exercises)X
2162(the)X
2316(full)X
2486(execution)X
2897(path)X
3099(involved)X
3472(in)X
3583(a)X
3662(regular)X
3971(RPC.)X
720 4287(\(The)N
935(unsupported)X
10 s
1439(ECHO_1)X
12 s
1770(was)X
1952(used)X
2161(to)X
2269(echo)X
2484(off)X
2630(the)X
2782(interrupt)X
3148(handler.\))X
3551(This)X
3756(is)X
3854(used)X
4064(for)X
720 4395(benchmarking)N
1301(the)X
1449(RPC)X
1659(system,)X
1979(and)X
2147(it)X
2230(is)X
2323(also)X
2507(used)X
2712(by)X
2837(the)X
2984(recovery)X
3350(module)X
3668(to)X
3772(verify)X
4031(that)X
720 4503(another)N
1038(host)X
1227(is)X
1320(up.)X
1470(Equal)X
1725(amounts)X
2081(of)X
2191(data)X
2382(are)X
2530(transferred)X
2977(in)X
3082(both)X
3283(directions.)X
3741(The)X
3921(data)X
4112(is)X
720 4611(uninterpreted,)N
1282(and)X
1445(it)X
1523(is)X
1611(put)X
1758(in)X
1857(the)X
1999(data)X
2184(area)X
2369(of)X
2473(the)X
2615(RPC)X
2820(packet.)X
3 f
720 4815(3.)N
849(SEND)X
1 f
1185(This)X
1389(transmits)X
1775(data)X
1969(to)X
2077(another)X
2399(host.)X
2641(This)X
2846(is)X
2944(just)X
3117(used)X
3327(for)X
3473(benchmarking)X
4058(the)X
720 4923(RPC)N
925(system.)X
1264(Data)X
1470(is)X
1558(only)X
1753(transferred)X
2194(one)X
2357(way,)X
2565(from)X
2776(the)X
2918(client)X
3157(to)X
3256(the)X
3398(server.)X
3 f
720 5127(4.)N
846(RECEIVE)X
1 f
1360(This)X
1561(receives)X
1907(data)X
2098(from)X
2315(another)X
2634(host.)X
2872(This)X
3073(is)X
3167(only)X
3368(used)X
3574(for)X
3716(benchmark-)X
720 5235(ing)N
867(the)X
1009(RPC)X
1214(system.)X
3 f
720 5439(5.)N
851(GETTIME)X
1 f
1393(This)X
1599(is)X
1698(a)X
1776(broadcast)X
2180(RPC)X
2396(used)X
2607(to)X
2717(get)X
2870(the)X
3023(time-of-day.)X
3561(This)X
3768(is)X
3868(used)X
4080(by)X
720 5547(hosts)N
951(during)X
1236(boot)X
1441(strap)X
1662(in)X
1771(order)X
2008(to)X
2117(set)X
2258(their)X
2469(clocks.)X
2797(The)X
2981(clock)X
3224(value)X
3467(is)X
3564(also)X
3752(used)X
3961(to)X
4069(set)X
720 5655(their)N
926(rpcBootID,)X
1390(which)X
1654(is)X
1747(included)X
2108(in)X
2212(the)X
2359(header)X
2645(of)X
2754(all)X
2880(subsequent)X
3336(RPC)X
3546(packets.)X
3912(This)X
4112(is)X
720 5763(the)N
880(\256rst)X
1071(RPC)X
1294(done)X
1523(by)X
1661(a)X
1746(Sprite)X
2018(host,)X
2244(and)X
2425(the)X
2585(bootID)X
2898(in)X
3014(its)X
3146(RPC)X
3368(header)X
3666(is)X
3771(zero.)X
4026(The)X

4 p
%%Page: 4 4
12 s 12 xH 0 xS 1 f
3 f
1 f
4128 684(4)N
720 972(parameters)N
1168(and)X
1332(data)X
1518(areas)X
1741(of)X
1846(the)X
1989(RPC)X
2195(request)X
2498(are)X
2641(empty.)X
2955(The)X
3130(parameter)X
3541(area)X
3728(of)X
3834(the)X
3978(reply)X
720 1080(contains)N
1065(the)X
1207(following)X
1605(structure:)X
1040 1221(typedef)N
1353(struct)X
1591(RpcTimeReturn)X
2236({)X
1328 1329(Time)N
1616(time;)X
1328 1437(int)N
1616(timeZoneMinutes;)X
1328 1545(int)N
1616(timeZoneDST;)X
1040 1653(})N
1110(RpcTimeReturn;)X
720 1794(The)N
894(Time)X
1122(data)X
1307(type)X
1497(is)X
1585(de\256ned)X
1892(as:)X
1040 1935(typedef)N
1353(struct)X
1591(Time)X
1819({)X
1328 2043(int)N
1616(seconds;)X
1328 2151(int)N
1616(microseconds;)X
1040 2259(})N
1110(Time;)X
720 2400(The)N
910(time)X
1122(is)X
1226(the)X
1384(number)X
1718(of)X
1838(seconds)X
2183(since)X
2422(Jan)X
2591(1,)X
2704(1970)X
2937(in)X
3053(universal)X
3447(\(GMT\))X
3765(time.)X
4026(The)X
720 2508(timeZoneMinutes)N
1434(is)X
1527(the)X
1674(offset)X
1922(of)X
2031(the)X
2178(local)X
2395(timezone)X
2778(from)X
2994(GMT.)X
3284(The)X
3462(timeZoneDST)X
4041(is)X
4133(a)X
720 2616(\257ag)N
892(indicating)X
1306(if)X
1393(daylight)X
1737(savings)X
2053(time)X
2253(is)X
2345(allowed)X
2678(in)X
2781(the)X
2927(timezone)X
3309(\(not)X
3492(if)X
3579(it)X
3661(is)X
3753(in)X
3857(effect)X
4106(at)X
720 2724(the)N
862(current)X
1159(date\).)X
3 f
720 2928(6.)N
853(FS_PREFIX)X
1 f
1455(This)X
1663(is)X
1764(a)X
1844(broadcast)X
2250(RPC)X
2468(used)X
2681(to)X
2793(locate)X
3061(the)X
3216(server)X
3488(for)X
3637(a)X
3717(pre\256x.)X
4026(The)X
720 3036(request)N
1043(parameter)X
1474(area)X
1680(is)X
1789(empty.)X
2123(The)X
2318(request)X
2641(data)X
2847(area)X
3053(contains)X
3419(the)X
3581 0.2232(null-terminated)AX
720 3144(pre\256x,)N
998(whose)X
1273(length)X
1545(can)X
1710(be)X
1832(determined)X
2297(from)X
2515(the)X
2664(RPC)X
2876(packet)X
3159(header's)X
3516(dataLength)X
3981(\256eld.)X
720 3252(The)N
894(reply)X
1116(data)X
1301(area)X
1486(is)X
1574(empty.)X
1887(The)X
2061(reply)X
2283(parameter)X
2693(area)X
2878(contains)X
3223(the)X
3365(following)X
3763(structure:)X
1040 3393(typedef)N
1353(struct)X
1591(FsPre\256xReplyParam)X
2410({)X
1328 3501(FsrmtUnionData)N
2192(openData;)X
1328 3609(Fs_FileID)N
1904(\256leID;)X
1040 3717(})N
1110(FsPre\256xReplyParam;)X
720 3858(The)N
899(\256leID)X
1152(identi\256es)X
1534(the)X
1681(root)X
1865(directory)X
2242(of)X
2351(the)X
2 f
2498(domain)X
1 f
2815(identi\256ed)X
3208(by)X
3333(the)X
3480(pre\256x.)X
3781(The)X
3961(client)X
720 3966(should)N
1015(cache)X
1274(the)X
1431(mapping)X
1807(from)X
2033(the)X
2190(pre\256x)X
2453(to)X
2567(the)X
2724(\256leID.)X
3035(It)X
3132(speci\256es)X
3501(this)X
3678(\256leID)X
3940(as)X
4058(the)X
2 f
720 4074(pre\256xID)N
1 f
1071(in)X
1178(lookup)X
1477(RPCs)X
1727(\()X
10 s
1759(FS_OPEN)X
12 s
2096(,)X
2152(etc.\).)X
2401(The)X
2583(openData)X
2984(is)X
3080(used)X
3288(by)X
3416(Sprite)X
3678(clients)X
3962(to)X
4069(set)X
720 4182(up)N
858(internal)X
1195(data)X
1398(structures)X
1814(associated)X
2252(with)X
2464(an)X
2596(open)X
2824(I/O)X
2993(stream.)X
3339(The)X
3530(FsrmtUnionData)X
720 4290(typedef)N
1033(is)X
1121(described)X
1514(under)X
10 s
1753(FS_OPEN)X
12 s
2090(.)X
2162(The)X
2336(Fs_FileID)X
2749(is)X
2837(de\256ned)X
3144(as)X
3248(follows:)X
1040 4431(typedef)N
1353(struct)X
1591(Fs_FileID)X
2004({)X
1328 4539(int)N
1616(type;)X
1328 4647(int)N
1616(serverID;)X
1328 4755(int)N
1616(major;)X
1328 4863(int)N
1616(minor;)X
1040 4971(})N
1110(Fs_FileID;)X
720 5112(The)N
899(serverID)X
1264(is)X
1358(the)X
1506(Sprite)X
1766(hostID)X
2057(of)X
2167(the)X
2315(I/O)X
2473(server)X
2738(for)X
2880(the)X
3028(object.)X
3342(The)X
3522(major)X
3777(and)X
3946(minor)X
720 5220(\256elds)N
963(identify)X
1298(the)X
1451(object)X
1722(to)X
1832(the)X
1985(I/O)X
2148(server.)X
2465(The)X
2649(values)X
2929(for)X
3075(the)X
3227(type)X
3427(\256eld)X
3632(are)X
3784(de\256ned)X
4101(in)X
720 5328(Table)N
964(3.)X
1084(With)X
1301(the)X
10 s
1439(FS_PREFIX)X
12 s
1866(RPC)X
2071(the)X
2213(returned)X
2559(type)X
2750(is)X
2839(either)X
10 s
3080(FSIO_RMT_FILE_STREAM)X
12 s
4064(for)X
720 5436(regular)N
1017(Sprite)X
1271(\256le)X
1418(systems,)X
1770(or)X
10 s
1870(FSIO_PFS_NAMING_STREAM)X
12 s
2973(for)X
3109(pseudo-\256le-systems.)X

5 p
%%Page: 5 5
12 s 12 xH 0 xS 1 f
3 f
1 f
4128 684(5)N
10 f
825 1005(i)N
854(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1951 1104(Sprite)N
2184(Internal)X
2480(Stream)X
2752(Types)X
12 s
10 f
825 1107(i)N
854(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
825 1123(i)N
854(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
899 1214(#)N
1113(Name)X
2329(Description)X
12 s
10 f
825 1225(i)N
854(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
925 1324(0)N
9 s
1113(FSIO_STREAM)X
11 s
2329(For)X
2473(top-level)X
2809(stream)X
3066(descriptor.)X
925 1423(1)N
9 s
1113(FSIO_LCL_FILE_STREAM)X
11 s
2329(Local)X
2552(\256le.)X
925 1522(2)N
9 s
1113(FSIO_RMT_FILE_STREAM)X
11 s
2329(Remote)X
2626(\256le.)X
925 1621(3)N
9 s
1113(FSIO_LCL_DEVICE_STREAM)X
11 s
2329(Local)X
2552(device.)X
925 1720(4)N
9 s
1113(FSIO_RMT_DEVICE_STREAM)X
11 s
2329(Remote)X
2626(device.)X
925 1819(5)N
9 s
1113(FSIO_LCL_PIPE_STREAM)X
11 s
2329(Anonymous)X
2781(pipe.)X
925 1918(6)N
9 s
1113(FSIO_RMT_PIPE_STREAM)X
11 s
2329(Remote)X
2626(anonymous)X
3054(pipe.)X
925 2017(7)N
9 s
1113(FSIO_CONTROL_STREAM)X
11 s
2329(Pseudo-device)X
2864(control)X
3136(stream.)X
925 2116(8)N
9 s
1113(FSIO_SERVER_STREAM)X
11 s
2329(Pseudo-device)X
2864(server)X
3100(stream.)X
925 2215(9)N
9 s
1113(FSIO_LCL_PSEUDO_STREAM)X
11 s
2329(Attached)X
2669(to)X
2760(a)X
2821(server)X
3057(stream.)X
881 2314(10)N
9 s
1113(FSIO_RMT_PSEUDO_STREAM)X
11 s
2329(Indirectly)X
2694(attached)X
3010(to)X
3101(a)X
3162(server)X
3398(stream.)X
881 2413(11)N
9 s
1113(FSIO_PFS_CONTROL_STREAM)X
11 s
2329(Records)X
2639(pseudo-\256le-system)X
3326(server.)X
881 2512(12)N
9 s
1113(FSIO_PFS_NAMING_STREAM)X
11 s
2329(Pseudo-\256le-system)X
3021(naming)X
3308(stream.)X
881 2611(13)N
9 s
1113(FSIO_LCL_PFS_STREAM)X
11 s
2329(Pseudo-\256le-system)X
3021(I/O)X
3160(stream.)X
881 2710(14)N
9 s
1113(FSIO_RMT_PFS_STREAM)X
11 s
2329(Remote)X
2626(Pseudo-\256le-system)X
3318(I/O)X
3457(stream.)X
881 2809(15)N
9 s
1113(FSIO_RMT_CONTROL_STREAM)X
11 s
2329(Fake)X
2522(type)X
2696(for)X
9 s
2820(GET_ATTR)X
11 s
3206(of)X
3301(a)X
3362(pseudo-device.)X
881 2908(16)N
9 s
1113(FSIO_PASSING_STREAM)X
11 s
2329(Fake)X
2522(type)X
2696(when)X
2908(passing)X
3194(open)X
3387(streams.)X
12 s
10 f
825 2920(i)N
854(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
825(c)X
2829(c)Y
2733(c)Y
2637(c)Y
2541(c)Y
2445(c)Y
2349(c)Y
2253(c)Y
2157(c)Y
2061(c)Y
1965(c)Y
1869(c)Y
1773(c)Y
1677(c)Y
1581(c)Y
1485(c)Y
1389(c)Y
1293(c)Y
1197(c)Y
1101(c)Y
4070 2920(c)N
2829(c)Y
2733(c)Y
2637(c)Y
2541(c)Y
2445(c)Y
2349(c)Y
2253(c)Y
2157(c)Y
2061(c)Y
1965(c)Y
1869(c)Y
1773(c)Y
1677(c)Y
1581(c)Y
1485(c)Y
1389(c)Y
1293(c)Y
1197(c)Y
1101(c)Y
11 s
1 f
880 3301(Table)N
1106(3.)X
1220(The)X
1383(internal)X
1679(stream)X
1940(types)X
2152(used)X
2339(in)X
2434(the)X
2568(Sprite)X
2805 0.2679(implementation.)AX
3431(Most)X
3638(types)X
3850(have)X
880 3400(corresponding)N
1410(local)X
1609(\()X
9 s
1638(LCL)X
11 s
(\))S
1829(and)X
1982(remote)X
2253(\()X
9 s
2282(RMT)X
11 s
(\))S
2493(types.)X
2749(The)X
9 s
2908(CONTROL)X
11 s
3274(and)X
9 s
3423(SERVER)X
11 s
3725(streams,)X
880 3499(however,)N
1228(are)X
1359(always)X
1627(local)X
1823(because)X
2125(they)X
2301(are)X
2432(between)X
2749(the)X
2881(kernel)X
3125(and)X
3277(the)X
3410(pseudo-device)X
3943(or)X
880 3598(pseudo-\256le-system)N
1577(server)X
1823(process.)X
2140(The)X
9 s
2305(PFS_NAMING)X
11 s
2789(stream)X
3056(is)X
3147(always)X
3423(remote.)X
3744(It)X
3829(is)X
3919(re-)X
880 3697(turned)N
1132(in)X
1228(response)X
1562(to)X
1658(pre\256x)X
1890(broadcasts)X
2289(in)X
2386(the)X
2522(case)X
2701(of)X
2802(a)X
2869(pseudo-\256le-system.)X
3606(Some)X
3835(addi-)X
880 3796(tional)N
1108(types)X
1320(are)X
1453(de\256ned)X
1738(for)X
1866(use)X
2009(with)X
2192(the)X
2326(kernel's)X
2635(internal)X
2931(I/O)X
3073(interface,)X
3428(and)X
3580(these)X
3786(are)X
3918(in-)X
880 3895(cluded)N
1137(here)X
1310(for)X
1434(completeness.)X
3 f
12 s
720 4132(7.)N
851(FS_OPEN)X
1 f
1361(This)X
1567(is)X
1666(used)X
1877(to)X
1987(open)X
2209(a)X
2287(\256le)X
2445(system)X
2747(object)X
3018(in)X
3128(preparation)X
3602(for)X
3750(further)X
4048(I/O)X
720 4240(operations.)N
1194(The)X
1369(parameters)X
1817(to)X
1917(an)X
2033(open)X
2245(RPC)X
2450(include)X
2758(a)X
2825(pathname,)X
3248(which)X
3507(may)X
3697(have)X
3903(several)X
720 4348(components,)N
1233(and)X
1396(a)X
1463(\256le)X
1610(ID)X
1735(that)X
1904(indicates)X
2271(where)X
2530(the)X
2672(pathname)X
3071(starts.)X
3347(It)X
3431(also)X
3611(includes)X
3957(infor-)X
720 4456(mation)N
1024(about)X
1274(how)X
1475(the)X
1629(object)X
1901(will)X
2087(be)X
2214(used,)X
2450(and)X
2625(identi\256cation)X
3170(of)X
3286(the)X
3439(user)X
3634(and)X
3808(the)X
3961(client)X
720 4564(host)N
906(that)X
1077(is)X
1167(doing)X
1412(the)X
1556(open.)X
1817(The)X
1993(reply)X
2217(to)X
2319(an)X
2437(open)X
2651(is)X
2742(one)X
2908(of)X
3015(two)X
3186(things.)X
3496(Ordinarily)X
3924(data)X
4112(is)X
720 4672(returned)N
1070(that)X
1244(is)X
1336(used)X
1540(to)X
1643(set)X
1778(up)X
1902(data)X
2091(structures)X
2493(for)X
2633(an)X
2752(I/O)X
2908(stream)X
3193(to)X
3296(the)X
3442(object.)X
3754(Depending)X
720 4780(on)N
844(the)X
990(type)X
1185(of)X
1294(object)X
1559(opened,)X
1890(which)X
2154(is)X
2247(speci\256ed)X
2618(in)X
2722(the)X
2869(reply,)X
3120(the)X
3267(reply)X
3494(contains)X
3844(different)X
720 4888(data)N
921(used)X
1137(for)X
1289(this)X
1468(purpose.)X
1860(However,)X
2276(it)X
2370(is)X
2474(also)X
2669(possible)X
3023(that)X
3207(the)X
3364(pathname)X
3778(leaves)X
4058(the)X
720 4996(server's)N
1049(domain,)X
1387(in)X
1487(which)X
1747(case)X
1938(a)X
2006(new)X
2191(pathname)X
2591(is)X
2680(returned)X
3026(to)X
3126(the)X
3269(client,)X
3533(and)X
3697(perhaps)X
4021(also)X
720 5104(a)N
787(new)X
971(pre\256x.)X
1267(These)X
1521(details)X
1797(are)X
1939(described)X
2332(in)X
2431(more)X
2653(detail)X
2892(below.)X
3 f
720 5416(7.1.)N
915(FS_OPEN)X
1369(Request)X
1726(Format)X
1 f
2111(The)X
2288(request)X
2593(data)X
2782(area)X
2971(contains)X
3320(a)X
3391(null)X
3569(terminated)X
4010(path)X
720 5524(name.)N
1001(The)X
1175(request)X
1477(parameter)X
1887(area)X
2072(contains)X
2417(the)X
2559(following)X
2957(structure:)X
1040 5665(typedef)N
1353(struct)X
1591(Fs_OpenArgs)X
2147({)X
1328 5773(Fs_FileID)N
1904(pre\256xID;)X

6 p
%%Page: 6 6
12 s 12 xH 0 xS 1 f
3 f
1 f
4128 684(6)N
1136 972(Fs_FileID)N
1616(rootID;)X
1328 1080(int)N
1616(useFlags;)X
1328 1188(int)N
1616(permissions;)X
1328 1296(int)N
1616(type;)X
1328 1404(int)N
1616(clientID;)X
1328 1512(int)N
1616(migClientID;)X
1328 1620(Fs_UserIDs)N
1904(id;)X
1040 1728(})N
1110(Fs_OpenArgs;)X
720 1869(The)N
902(pre\256xID)X
1259(speci\256es)X
1622(where)X
1889(the)X
2039(pathname)X
2446(begins.)X
2777(There)X
3034(are)X
3184(two)X
3360(cases)X
3596(for)X
3741(this.)X
3961(If)X
4058(the)X
720 1977(client)N
969(initially)X
1304(has)X
1465(an)X
1589(absolute)X
1943(pathname,)X
2375(then)X
2574(it)X
2661(can)X
2828(match)X
3097(this)X
3269(against)X
3575(its)X
3699(pre\256x)X
3956(cache)X
720 2085(and)N
899(use)X
1068(the)X
1227(\256leID)X
1492(associated)X
1929(with)X
2141(the)X
2300(longest)X
2619(matching)X
3019(pre\256x.)X
3332(The)X
3523(pre\256x)X
3788(should)X
4085(be)X
720 2193(stripped)N
1055(off)X
1191(before)X
1461(sending)X
1784(the)X
1926(pathname)X
2325(to)X
2424(the)X
2566(server.)X
2873(If)X
2961(the)X
3103(client)X
3342(initially)X
3667(has)X
3819(a)X
3886(relative)X
720 2301(pathname,)N
1151(then)X
1349(the)X
1499(pre\256xID)X
1856(is)X
1953(the)X
2104(\256leID)X
2361(associated)X
2790(with)X
2994(the)X
3145(current)X
3451(working)X
3804(directory.)X
720 2409(This)N
925(is)X
1023(obtained)X
1389(by)X
1519(a)X
1596(previous)X
10 s
1957(FS_OPEN)X
12 s
2328(RPC)X
2543(on)X
2673(the)X
2825(current)X
3132(directory.)X
3562(The)X
3746(rootID)X
4036(is)X
4133(a)X
720 2517(pre\256x)N
981(ID,)X
1143(and)X
1319(it)X
1410(is)X
1511(used)X
1724(to)X
1837(trap)X
2025(out)X
2186(pathnames)X
2636(that)X
2819(ascend)X
3119(out)X
3280(the)X
3436(root)X
3629(directory)X
4015(of)X
4133(a)X
720 2625(domain.)N
1082(It)X
1166(is)X
1254(either)X
1498(the)X
1640(same)X
1862(as)X
1966(the)X
2108(pre\256xID,)X
2481(or)X
2585(it)X
2663(is)X
2751(the)X
2893(ID)X
3018(of)X
3122(the)X
3264(pre\256x)X
3512(that)X
3681(identi\256es)X
4058(the)X
720 2733(domain)N
1037(of)X
1145(the)X
1291(current)X
1593(directory.)X
2018(Note)X
2234(that)X
2408(this)X
2576(supports)X
2930 0.2548(implementation)AX
3565(of)X
3674(chroot\(\),)X
4037(and)X
720 2841(it)N
800(also)X
981(allows)X
1258(servers)X
1556(to)X
1657(export)X
1928(pre\256xes)X
2257(that)X
2427(don't)X
2655(correspond)X
3107(to)X
3207(the)X
3350(``natural'')X
3771(root)X
3951(direc-)X
720 2949(tory)N
899(of)X
1003(a)X
1070(domain.)X
920 3090(The)N
1111(permissions)X
1611(\256eld)X
1823(contains)X
2185(the)X
2345(permission)X
2809(bits)X
2990(to)X
3107(set)X
3256(on)X
3394(newly)X
3671(created)X
3992(\256les.)X
720 3198(These)N
974(are)X
1116(de\256ned)X
1423(in)X
1522(Table)X
1766(4.)X
920 3339(The)N
1114(type)X
1324(\256eld)X
1539(constrains)X
1973(the)X
2136(type)X
2347(of)X
2472(object)X
2753(that)X
2943(can)X
3122(be)X
3258(opened.)X
3629(If)X
3738(the)X
3901(type)X
4112(is)X
10 s
720 3447(FS_FILE)N
12 s
1017(,)X
1072(then)X
1269(any)X
1439(type)X
1636(can)X
1800(be)X
1921(opened.)X
2277(This)X
2478(is)X
2572(the)X
2720(way)X
2910(the)X
10 s
3054(FS_OPEN)X
12 s
3421(RPC)X
3632(is)X
3726(used)X
3932(by)X
4058(the)X
720 3555(open\(\))N
1001(system)X
1298(call.)X
1516(However,)X
10 s
1918(FS_OPEN)X
12 s
2285(is)X
2379(also)X
2564(used)X
2770(in)X
2875(the)X
3024 0.2548(implementation)AX
3661(of)X
3772(readlink\(\),)X
10 f
1850 3696 -0.1667(iiiiiiiiiiiiiiiiiiiiiiiii)AN
1 f
2145 3804(Permission)N
2596(Bits)X
10 f
1850 3808 -0.1667(iiiiiiiiiiiiiiiiiiiiiiiii)AN
1850 3824 -0.1667(iiiiiiiiiiiiiiiiiiiiiiiii)AN
10 s
1 f
1898 3924(FS_OWNER_READ)N
12 s
2758(00400)X
10 s
1898 4032(FS_OWNER_WRITE)N
12 s
2758(00200)X
10 s
1898 4140(FS_OWNER_EXEC)N
12 s
2758(00100)X
10 s
1898 4248(FS_GROUP_READ)N
12 s
2758(00040)X
10 s
1898 4356(FS_GROUP_WRITE)N
12 s
2758(00020)X
10 s
1898 4464(FS_GROUP_EXEC)N
12 s
2758(00010)X
10 s
1898 4572(FS_WORLD_READ)N
12 s
2758(00004)X
10 s
1898 4680(FS_WORLD_WRITE)N
12 s
2758(00002)X
10 s
1898 4788(FS_WORLD_EXEC)N
12 s
2758(00001)X
10 s
1898 4896(FS_SET_UID)N
12 s
2758(04000)X
10 s
1898 5004(FS_SET_GID)N
12 s
2758(02000)X
10 f
1850 5016 -0.1667(iiiiiiiiiiiiiiiiiiiiiiiii)AN
1850(c)X
4944(c)Y
4848(c)Y
4752(c)Y
4656(c)Y
4560(c)Y
4464(c)Y
4368(c)Y
4272(c)Y
4176(c)Y
4080(c)Y
3984(c)Y
3888(c)Y
3792(c)Y
3046 5016(c)N
4944(c)Y
4848(c)Y
4752(c)Y
4656(c)Y
4560(c)Y
4464(c)Y
4368(c)Y
4272(c)Y
4176(c)Y
4080(c)Y
3984(c)Y
3888(c)Y
3792(c)Y
11 s
1 f
880 5397(Table)N
1103(4.)X
1191(Permission)X
1605(bits)X
1755(for)X
1879(the)X
2009(Fs_OpenArgs)X
2518(structure.)X
2892(These)X
3124(are)X
3253(octal)X
3447(values)X

7 p
%%Page: 7 7
11 s 11 xH 0 xS 1 f
12 s
3 f
1 f
4128 684(7)N
720 972(symlink\(\),)N
1151(and)X
1323(mknod\(\).)X
1735(For)X
1901(these)X
2132(calls)X
2342(speci\256c)X
2669(types)X
2906(are)X
3058(indicated)X
3446(so)X
3565(that)X
3744(the)X
3896(type)X
4096(of)X
720 1080(the)N
868(named)X
1155(\256le)X
1308(must)X
1525(match.)X
1838(\(Warning,)X
2260(note)X
2455(the)X
2602(bug)X
2775(report)X
3034(concerning)X
10 s
3487(FS_REMOTE_LINK)X
12 s
720 1188(and)N
10 s
890(FS_SYMBOLIC_LINK)X
12 s
1699(in)X
1810(the)X
1964(last)X
2134(section)X
2443(of)X
2559(this)X
2734(appendix.\))X
3203(The)X
3389(types)X
3628(are)X
3782(de\256ned)X
4101(in)X
720 1296(Table)N
964(5,)X
1060(and)X
1223(they)X
1413(correspond)X
1864(to)X
1963(types)X
2190(in)X
2289(the)X
2431(\256le)X
2578(descriptors)X
3024(kept)X
3214(on)X
3334(disk.)X
920 1437(The)N
1103(clientID)X
1452(is)X
1549(the)X
1700(hostID)X
1994(of)X
2107(the)X
2259(process)X
2581(doing)X
2834(the)X
2986(open.)X
3255(The)X
3439(migClientID)X
3960(is)X
4058(the)X
720 1545(home)N
965(node)X
1183(of)X
1294(a)X
1368(migrated)X
1742(process,)X
2085(which)X
2351(may)X
2548(be)X
2670(different)X
3033(than)X
3230(the)X
3379(clientID)X
3726(if)X
3815(a)X
3888(process)X
720 1653(has)N
883(migrated.)X
1309(This)X
1515(is)X
1614(used)X
1825(when)X
2068(opening)X
2413(devices)X
2737(so)X
2857(that)X
3037(a)X
3116(migrated)X
3495(process)X
3819(can)X
3989(open)X
720 1761(devices)N
1041(on)X
1169(its)X
1292(home)X
1538(node.)X
1805(This)X
2008(only)X
2211(applies)X
2516(to)X
2623(device)X
2907(\256les)X
3099(with)X
3302(the)X
10 s
3447(FS_LOCALHOST_ID)X
12 s
720 1869(serverID)N
1089(attribute.)X
1492(Device)X
1798(\256les)X
1991(with)X
2195(a)X
2271(speci\256c)X
2598(host)X
2792(ID)X
2927(\(>0\))X
3127(for)X
3273(their)X
3484(serverID)X
3854(attribute)X
720 1977(always)N
1011(specify)X
1313(the)X
1455(device)X
1731(on)X
1851(that)X
2020(host.)X
2252(\(See)X
10 s
2443(FS_MAKE_DEV)X
12 s
3036(below.\))X
920 2118(The)N
1106(id)X
1217(\256eld)X
1424(contains)X
1782(the)X
1937(user)X
2134(and)X
2310(group)X
2571(IDs)X
2746(of)X
2863(the)X
3018(process)X
3343(doing)X
3599(the)X
3754(open.)X
4026(The)X
720 2226(Fs_UserIDs)N
1201(typedef)X
1514(is)X
1602(de\256ned)X
1909(as)X
2013(follows:)X
1040 2367(#de\256ne)N
10 s
1347(FS_NUM_GROUPS)X
12 s
2192(8)X
1040 2583(typedef)N
1353(struct)X
1591(Fs_UserIDs)X
2072({)X
1328 2691(int)N
1454(user;)X
1328 2799(int)N
1454(numGroupIDs;)X
1328 2907(int)N
1454(group[)X
10 s
1710(FS_NUM_GROUPS)X
12 s
2380(];)X
1040 3015(})N
1110(Fs_UserIDs;)X
920 3189(The)N
1105(useFlags)X
1476(indicate)X
1818(how)X
2019(the)X
2173(object)X
2445(is)X
2545(going)X
2800(to)X
2911(be)X
3038(used.)X
3298(Valid)X
3548(useFlag)X
3883(bits)X
4058(are)X
720 3297(de\256ned)N
1028(in)X
1128(Table)X
1373(6.)X
1494(They)X
1717(are)X
1860(divided)X
2174(into)X
2349(two)X
2518(sets,)X
2711(those)X
2939(passed)X
3220(into)X
3395(the)X
3538(Fs_Open)X
3909(system)X
720 3405(call)N
909(from)X
1145(user)X
1354(programs,)X
1790(and)X
1978(those)X
2230(set)X
2386(by)X
2531(the)X
2698(Sprite)X
2977(kernel)X
3267(for)X
3429(its)X
3570(own)X
3785(use.)X
4011(\(For)X
10 f
1876 3546(i)N
1915(iiiiiiiiiiiiiiiiiiiiiii)X
1 f
2028 3654(File)N
2202(Descriptor)X
2632(Types)X
10 f
1876 3658(i)N
1915(iiiiiiiiiiiiiiiiiiiiiii)X
1876 3674(i)N
1915(iiiiiiiiiiiiiiiiiiiiiii)X
10 s
1 f
1924 3774(FS_FILE)N
12 s
2923(0)X
10 s
1924 3882(FS_DIRECTORY)N
12 s
2923(1)X
10 s
1924 3990(FS_SYMBOLIC_LINK)N
12 s
2923(2)X
10 s
1924 4098(FS_REMOTE_LINK)N
12 s
2923(3)X
10 s
1924 4206(FS_DEVICE)N
12 s
2923(4)X
1924 4314(\(not)N
2103(used\))X
2923(5)X
10 s
1924 4422(FS_LOCAL_PIPE)N
12 s
2923(6)X
10 s
1924 4530(FS_NAMED_PIPE)N
12 s
2923(7)X
10 s
1924 4638(FS_PSEUDO_DEV)N
12 s
2923(8)X
1924 4746(\(not)N
2103(used\))X
2923(9)X
1924 4854(\(reserved)N
2306(for)X
2442(testing\))X
2875(10)X
10 f
1876 4866(i)N
1915(iiiiiiiiiiiiiiiiiiiiiii)X
1876(c)X
4794(c)Y
4698(c)Y
4602(c)Y
4506(c)Y
4410(c)Y
4314(c)Y
4218(c)Y
4122(c)Y
4026(c)Y
3930(c)Y
3834(c)Y
3738(c)Y
3642(c)Y
3019 4866(c)N
4794(c)Y
4698(c)Y
4602(c)Y
4506(c)Y
4410(c)Y
4314(c)Y
4218(c)Y
4122(c)Y
4026(c)Y
3930(c)Y
3834(c)Y
3738(c)Y
3642(c)Y
11 s
1 f
880 5247(Table)N
1118(5.)X
1222(Types)X
1475(for)X
1615(disk-resident)X
2108(\256le)X
2259(descriptors.)X
2727(Also)X
2931(used)X
3130(for)X
3270(the)X
3416(type)X
3606(\256eld)X
3801(in)X
3908(the)X
880 5346(Fs_OpenArgs)N
1389(structure.)X

8 p
%%Page: 8 8
11 s 11 xH 0 xS 1 f
12 s
3 f
1 f
4128 684(8)N
10 f
927 1005(i)N
944(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1 f
2211 1113(Usage)N
2475(Flags)X
10 f
927 1117(i)N
944(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
927 1133(i)N
944(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1 f
1100 1233(Value)N
1852(Name)X
2975(Description)X
975 1341(0xfff)N
10 s
1599(FS_USER_FLAGS)X
12 s
2480(A)X
2600(mask)X
2854(used)X
3081(to)X
3207(prevent)X
3548(user)X
3760(pro-)X
2480 1449(grams)N
2739(from)X
2950(setting)X
3231(kernel)X
3496(bits.)X
975 1557(0x001)N
10 s
1599(FS_READ)X
12 s
2480(Open)X
2712(the)X
2854(object)X
3114(for)X
3250(reading.)X
975 1665(0x002)N
10 s
1599(FS_WRITE)X
12 s
2480(Open)X
2712(the)X
2854(object)X
3114(for)X
3250(writing.)X
975 1773(0x004)N
10 s
1599(FS_EXECUTE)X
12 s
2480(Open)X
2715(the)X
2860(object)X
3123(for)X
3262(execution,)X
3688(if)X
3774(it)X
3856(is)X
2480 1881(a)N
2576(regular)X
2902(\256le,)X
3101(or)X
3233(for)X
3397(changing)X
3802(the)X
2480 1989(current)N
2777(directory)X
3149(if)X
3232(it)X
3310(is)X
3398(a)X
3465(directory.)X
975 2097(0x008)N
10 s
1599(FS_APPEND)X
12 s
2480(Open)X
2742(the)X
2915(object)X
3206(for)X
3373(append)X
3706(mode)X
2480 2205(writing.)N
975 2313(0x020)N
10 s
1599(FS_PDEV_MASTER)X
12 s
2480(Open)X
2728(a)X
2811(pseudo-device)X
3407(as)X
3527(the)X
3685(server)X
2480 2421(process.)N
975 2529(0x080)N
10 s
1599(FS_PFS_MASTER)X
12 s
2480(Open)X
2720(a)X
2795(remote)X
3095(link)X
3277(as)X
3389(the)X
3540(server)X
3808(for)X
2480 2637(a)N
2547(pseudo-\256le-system.)X
975 2745(0x200)N
10 s
1599(FS_CREATE)X
12 s
2480(Create)X
2772(a)X
2855(directory)X
3243(entry)X
3481(for)X
3633(the)X
3792(ob-)X
2480 2853(ject)N
2644(if)X
2727(it)X
2805(isn't)X
3000(there)X
3217(already.)X
975 2961(0x400)N
10 s
1599(FS_TRUNC)X
12 s
2480(Truncate)X
2847(the)X
2989(object)X
3249(after)X
3450(opening.)X
975 3069(0x800)N
10 s
1599(FS_EXCLUSIVE)X
12 s
2480(If)X
2568(speci\256ed)X
2934(with)X
10 s
3125(FS_CREATE)X
12 s
3564(,)X
3612(then)X
3802(the)X
2480 3177(open)N
2714(will)X
2910(fail)X
3085(if)X
3190(the)X
3354(object)X
3636(already)X
2480 3285(exists.)N
975 3393(0xfffff000)N
10 s
1599(FS_KERNEL_FLAGS)X
12 s
2480(Bits)X
2665(are)X
2813(set)X
2951(in)X
3057(this)X
3227(\256eld)X
3429(by)X
3556(the)X
3705(client)X
2480 3501(kernel.)N
975 3609(0x00001000)N
10 s
1599(FS_FOLLOW)X
12 s
2480(Follow)X
2783(symbolic)X
3167(links)X
3386(when)X
3626(travers-)X
2480 3717(ing)N
2627(the)X
2769(pathname.)X
975 3825(0x00004000)N
10 s
1599(FS_SWAP)X
12 s
2480(The)X
2657(\256le)X
2807(is)X
2899(being)X
3141(used)X
3345(as)X
3453(a)X
3524(VM)X
3706(back-)X
2480 3933(ing)N
2627(\256le.)X
975 4041(0x00010000)N
10 s
1599(FS_OWNERSHIP)X
12 s
2480(Set)X
2627(when)X
2859(changing)X
3236(ownership)X
3660(or)X
3765(per-)X
2480 4149(mission)N
2806(bits.)X
3019(The)X
3195(server)X
3456(should)X
3738(veri-)X
2480 4257(fy)N
2589(that)X
2764(the)X
2912(opening)X
3252(process)X
3570(owns)X
3802(the)X
2480 4365(\256le.)N
975 4473(0x00020000)N
10 s
1599(FS_DELETE)X
12 s
2480(Set)X
2631(when)X
2867(deleting)X
3206(a)X
3277(\256le.)X
3452(\()X
10 s
3484(FS_UNLINK)X
12 s
2480 4581(RPC,)N
2709(not)X
10 s
2852(FS_OPEN)X
12 s
3189(.\))X
975 4689(0x00040000)N
10 s
1599(FS_LINK)X
12 s
2480(Set)X
2685(when)X
2975(creating)X
3368(a)X
3493(hard)X
3746(link.)X
2480 4797(\()N
10 s
2512(FS_LINK)X
12 s
2856(RPC,)X
3085(not)X
10 s
3228(FS_OPEN)X
12 s
3565(.\))X
975 4905(0x00080000)N
10 s
1599(FS_RENAME)X
12 s
2480(Set)X
2689(during)X
3027(rename.)X
3422(\()X
10 s
3454(FS_RENAME)X
12 s
2480 5013(RPC,)N
2709(not)X
10 s
2852(FS_OPEN)X
12 s
3189(.\))X
10 f
927 5025(i)N
944(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
927(c)X
4941(c)Y
4845(c)Y
4749(c)Y
4653(c)Y
4557(c)Y
4461(c)Y
4365(c)Y
4269(c)Y
4173(c)Y
4077(c)Y
3981(c)Y
3885(c)Y
3789(c)Y
3693(c)Y
3597(c)Y
3501(c)Y
3405(c)Y
3309(c)Y
3213(c)Y
3117(c)Y
3021(c)Y
2925(c)Y
2829(c)Y
2733(c)Y
2637(c)Y
2541(c)Y
2445(c)Y
2349(c)Y
2253(c)Y
2157(c)Y
2061(c)Y
1965(c)Y
1869(c)Y
1773(c)Y
1677(c)Y
1581(c)Y
1485(c)Y
1389(c)Y
1293(c)Y
1197(c)Y
1101(c)Y
3968 5025(c)N
4941(c)Y
4845(c)Y
4749(c)Y
4653(c)Y
4557(c)Y
4461(c)Y
4365(c)Y
4269(c)Y
4173(c)Y
4077(c)Y
3981(c)Y
3885(c)Y
3789(c)Y
3693(c)Y
3597(c)Y
3501(c)Y
3405(c)Y
3309(c)Y
3213(c)Y
3117(c)Y
3021(c)Y
2925(c)Y
2829(c)Y
2733(c)Y
2637(c)Y
2541(c)Y
2445(c)Y
2349(c)Y
2253(c)Y
2157(c)Y
2061(c)Y
1965(c)Y
1869(c)Y
1773(c)Y
1677(c)Y
1581(c)Y
1485(c)Y
1389(c)Y
1293(c)Y
1197(c)Y
1101(c)Y
11 s
1 f
880 5406(Table)N
1103(6.)X
1191(Values)X
1457(for)X
1581(the)X
1711(use\257ags)X
2016(\256eld)X
2195(of)X
2290(Fs_OpenArgs)X
2799(and)X
2948(Fs_LookupArgs.)X
12 s
720 5643(historical)N
1107(reasons)X
1423(the)X
1569(UNIX)X
1836(open\(\))X
2115(call)X
2283(is)X
2375(mapped)X
2708(to)X
2811(Fs_Open,)X
3209(and)X
3376(some)X
3608(of)X
3717(the)X
3864(\257ag)X
4037(bits)X
720 5751(differ)N
958(from)X
1169(the)X
1311(UNIX)X
1574(O_*)X
1763(\257ags,)X
1992(mainly)X
2284(the)X
2426(READ)X
2711(and)X
2874(WRITE)X
3203(bits.\))X

9 p
%%Page: 9 9
12 s 12 xH 0 xS 1 f
3 f
1 f
4128 684(9)N
3 f
720 972(7.2.)N
933(FS_OPEN)X
1405(Reply)X
1691(Format)X
1 f
2095(The)X
2291(data)X
2498(area)X
2705(of)X
2831(an)X
10 s
2964(FS_OPEN)X
12 s
3347(reply)X
3591(may)X
3803(contain)X
4133(a)X
720 1080(returned)N
1081(pathname,)X
1520(in)X
1635(the)X
1793(case)X
1999(where)X
2274(the)X
2432(input)X
2669(pathname)X
3083(leaves)X
3363(the)X
3520(server's)X
3863(domain.)X
720 1188(This)N
920(is)X
1013(indicated)X
1396(by)X
1521(the)X
10 s
1664(FS_LOOKUP_REDIRECT)X
12 s
2577(return)X
2836(code.)X
3095(If)X
3188(the)X
3335(returned)X
3686(name)X
3925(begins)X
720 1296(with)N
922(a)X
996('/')X
1118(character)X
1503(then)X
1700(it)X
1784(has)X
1942(been)X
2154(expanded)X
2553(by)X
2679(the)X
2827(server)X
3092(and)X
3261(can)X
3425(be)X
3546(matched)X
3903(against)X
720 1404(the)N
869(client's)X
1184(pre\256x)X
1439(table.)X
1706(If)X
1801(the)X
1950(pre\256xLength)X
2478(parameter)X
2895(\(de\256ned)X
3241(below\))X
3540(is)X
3636(non-zero)X
4010(then)X
720 1512(the)N
869(initial)X
1126(part)X
1307(of)X
1418(the)X
1567(expanded)X
1966(pathname)X
2371(is)X
2465(a)X
2538(domain)X
2857(pre\256x)X
3111(that)X
3286(should)X
3572(be)X
3693(added)X
3953(to)X
4058(the)X
720 1620(client's)N
1041(pre\256x)X
1302(table.)X
1575(The)X
1762(client)X
2014(should)X
2307(use)X
2472(the)X
10 s
2623(FS_PREFIX)X
12 s
3063(RPC)X
3281(to)X
3393(locate)X
3662(the)X
3818(domain's)X
720 1728(server.)N
1039(If)X
1139(the)X
1293(returned)X
1650(pathname)X
2060(begins)X
2346(with)X
2552(``../'',)X
2814(then)X
3015(the)X
3168(client)X
3418(has)X
3581(to)X
3691(combine)X
4058(the)X
720 1836(returned)N
1085(pathname)X
1504(with)X
1719(the)X
1881(pre\256x)X
2149(it)X
2247(used)X
2467(for)X
2623(the)X
2785(server's)X
3133(domain)X
3467(as)X
3592(follows.)X
3973(\(This)X
720 1944(means)N
1009(a)X
1095(client)X
1353 0.2548(implementation)AX
2002(has)X
2173(to)X
2291(remember)X
2725(the)X
2885(domain)X
3216(pre\256x)X
3482(associated)X
3920(with)X
4133(a)X
720 2052(current)N
1018(working)X
1363(directory.\))X
1816(If)X
1905(the)X
2048(pre\256x)X
2297(is)X
2386(``/a/b'')X
2684(and)X
2848(the)X
2991(returned)X
3337(pathname)X
3737(is)X
3826(``../x/y'',)X
720 2160(then)N
914(these)X
1140(are)X
1286(combined)X
1694(into)X
1872(``/a/b/../x/y'',)X
2422(which)X
2685(further)X
2975(reduces)X
3297(to)X
3400(``/a/x/y''.)X
3823(Note)X
4037(this)X
720 2268(no)N
840(longer)X
1110(matches)X
1450(on)X
1570(the)X
1712(``/a/b'')X
2009(pre\256x.)X
920 2409(The)N
1109(parameter)X
1534(area)X
1734(of)X
1853(the)X
10 s
2006(FS_OPEN)X
12 s
2382(reply)X
2619(contains)X
2979(data)X
3180(used)X
3396(to)X
3511(initialize)X
3890(the)X
4048(I/O)X
720 2517(stream)N
1001(data)X
1186(structures.)X
1632(The)X
1806(format)X
2087(of)X
2191(the)X
2333(rely)X
2507(parameters)X
2954(is)X
3042(de\256ned)X
3349(as)X
3453(follows:)X
1040 2658(typedef)N
1353(struct)X
1591(FsrmtOpenResultsParam)X
2576({)X
1328 2766(int)N
1616(pre\256xLength;)X
1328 2874(Fs_OpenResults)N
2192(openResults;)X
1328 2982(FsrmtUnionData)N
2192(openData;)X
1040 3090(})N
1110(FsrmtOpenResultsParam;)X
1040 3306(typedef)N
1353(struct)X
1591(Fs_OpenResults)X
2244({)X
1328 3414(Fs_FileID)N
1904(ioFileID;)X
1328 3522(Fs_FileID)N
1904(streamID;)X
1328 3630(Fs_FileID)N
1904(nameID;)X
1328 3738(int)N
1616(dataSize;)X
1328 3846(ClientData)N
1904(streamData;)X
1040 3954(})N
1110(Fs_OpenResults;)X
1040 4170(typedef)N
1353(union)X
1596(FsrmtUnionData)X
2266({)X
1328 4278(Fsio_FileState)N
1904(\256leState;)X
1328 4386(Fsio_DeviceState)N
2192(devState;)X
1328 4494(Fspdev_State)N
1904(pdevState;)X
1040 4602(})N
1110(FsrmtUnionData;)X
920 4776(The)N
1111(Fs_OpenResults)X
1781(contain)X
2106(three)X
2340(object)X
2617(identi\256ers,)X
3067(one)X
3248(for)X
3402(the)X
3562(object)X
3840(that)X
4027(was)X
720 4884(opened,)N
1057(one)X
1231(for)X
1377(the)X
1529(I/O)X
1691(stream)X
1982(to)X
2091(that)X
2270(object)X
2540(\(the)X
2724(streamID)X
3116(is)X
3214(type)X
10 s
3410(FSIO_STREAM)X
12 s
3947(\),)X
4037(and)X
720 4992(one)N
886(for)X
1025(the)X
1170(\256le)X
1321(that)X
1494(names)X
1768(the)X
1914(object)X
2178(\(the)X
2356(nameID)X
2694(is)X
2786(type)X
10 s
2976(FSIO_RMT_FILE_STREAM)X
12 s
3935(\).)X
4043(For)X
720 5100(devices)N
1041(and)X
1212(pseudo-devices)X
1837(the)X
1987(\256le)X
2142(that)X
2319(represents)X
2741(the)X
2891(name)X
3132(is)X
3228(different)X
3592(than)X
3790(the)X
3940(object)X
720 5208(itself,)N
969(and)X
1140(the)X
1290(nameID)X
1632(is)X
1728(used)X
1936(when)X
2177(getting)X
2478(the)X
2629(attributes)X
3021(of)X
3134(an)X
3258(object.)X
3575(The)X
3758(I/O)X
3919(stream)X
720 5316(also)N
910(has)X
1072(an)X
1197(identi\256er)X
1579(because)X
1918(I/O)X
2080(streams)X
2408(are)X
2560(passed)X
2850(between)X
3205(machines)X
3603(during)X
3888(process)X
720 5424(migration.)N
1167(The)X
1341(rest)X
1504(of)X
1608(the)X
1750(data)X
1935(is)X
2023(type-speci\256c)X
2539(and)X
2702(is)X
2790(described)X
3183(below.)X
1040 5565(typedef)N
1353(struct)X
1591(Fsio_FileState)X
2171({)X
1328 5673(int)N
1616(cacheable;)X
1328 5781(int)N
1616(version;)X

10 p
%%Page: 10 10
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(10)N
1136 972(int)N
1328(openTimeStamp;)X
1328 1080(Fscache_Attributes)N
2095(attr;)X
1328 1188(int)N
1616(newUseFlags;)X
1040 1296(})N
1110(Fsio_FileState;)X
1040 1512(typedef)N
1353(struct)X
1591(Fscache_Attributes)X
2358({)X
1328 1620(int)N
1616(\256rstByte;)X
1328 1728(int)N
1616(lastByte;)X
1328 1836(int)N
1616(accessTime)X
1328 1944(int)N
1616(modifyTime;)X
1328 2052(int)N
1616 0.3562(createTime;)AX
1328 2160(int)N
1616(userType;)X
1328 2268(int)N
1616(permissions;)X
1328 2376(int)N
1616(uid;)X
1328 2484(int)N
1616(gid;)X
1040 2592(})N
1110(Fscache_Attributes;)X
920 2766(The)N
1107(Fsio_FileState)X
1700(is)X
1801(returned)X
2159(when)X
2404(a)X
2484(regular)X
2794(\256le)X
2954(or)X
3071(directory)X
3456(is)X
3557(opened.)X
3920(In)X
4037(this)X
720 2874(case)N
915(the)X
1062(type)X
1257(in)X
1361(the)X
1508(ioFileID)X
1863(is)X
10 s
1952(FSIO_RMT_FILE_STREAM)X
12 s
2911(.)X
2987(The)X
3165(cacheable)X
3574(\257ag)X
3746(indicates)X
4117(if)X
720 2982(the)N
880(client)X
1137(can)X
1313(cache)X
1575(the)X
1735(\256le.)X
1948(The)X
2140(version)X
2465(number)X
2801(is)X
2907(used)X
3125(to)X
3242(detect)X
3516(stale)X
3736(data)X
3940(in)X
4058(the)X
720 3090(client's)N
1056(cache.)X
1376(The)X
1578(openTimeStamp)X
2267(should)X
2575(be)X
2718(kept)X
2936(and)X
3127(used)X
3355(later)X
3579(when)X
3839(handling)X
10 s
720 3198(FS_CONSIST)N
12 s
1235(RPCs.)X
1555(\(The)X
1791(openTimeStamp)X
2482(is)X
2600(redundant)X
3039(with)X
3264(respect)X
3591(to)X
3720(the)X
3893(version)X
720 3306(number,)N
1065(and)X
1231(it)X
1312(may)X
1505(be)X
1623(eliminated)X
2058(in)X
2160(the)X
2304(future.\))X
2640(The)X
2816(Fscache_Attributes)X
3585(are)X
3729(a)X
3798(sub-set)X
4096(of)X
720 3414(the)N
864(\256le)X
1013(attributes)X
1398(stored)X
1660(at)X
1757(the)X
1902(\256le)X
2052(server.)X
2362(The)X
2539(lastByte,)X
2906(modifyTime)X
3415(and)X
3581(accessTime)X
4058(are)X
720 3522(updated)N
1055(by)X
1181(the)X
1329(client)X
1574(if)X
1663(it)X
1747(caches)X
2034(the)X
2182(\256le.)X
2383(These)X
2643(attributes)X
3031(are)X
3178(pushed)X
3479(back)X
3690(to)X
3794(the)X
3941(server)X
720 3630(at)N
816(close)X
1040(time.)X
1286(\(\256rstByte)X
1675(is)X
1765(unused.)X
2112(It)X
2198(is)X
2289(a)X
2359(vestige)X
2659(of)X
2766(a)X
2836(named)X
3120(pipe)X
3313 0.2250(implementation.\))AX
4026(The)X
720 3738(permission)N
1192(bits)X
1381(and)X
1570(ownership)X
2020(IDs)X
2208(are)X
2375(used)X
2600(with)X
2820(setuid)X
3099(and)X
3287(setgid)X
3566(programs.)X
4026(The)X
720 3846(newUseFlags)N
1264(are)X
1409(a)X
1479(modi\256ed)X
1849(version)X
2160(of)X
2268(the)X
2414(useFlags)X
2778(passed)X
3062(in)X
3165(the)X
10 s
3307(FS_OPEN)X
12 s
3672(request.)X
4026(The)X
720 3954(client)N
969(stores)X
1226(these)X
1457(in)X
1565(its)X
1689(I/O)X
1850(stream)X
2140(descriptor)X
2558(and)X
2730(does)X
2939(consistency)X
3421(checking)X
3802(on)X
3931(subse-)X
720 4062(quent)N
958(I/O)X
1110(operations)X
1535(by)X
1655(the)X
1797(user-level)X
2201(application.)X
1040 4203(typedef)N
1353(struct)X
1591(Fsio_DeviceState)X
2294({)X
1328 4311(int)N
1616(accessTime;)X
1328 4419(int)N
1616(modifyTime;)X
1328 4527(Fs_FileID)N
1904(streamID;)X
1040 4635(})N
1110(Fsio_DeviceState;)X
920 4809(The)N
1095(Fsio_DeviceState)X
1799(is)X
1889(returned)X
2236(from)X
2449(the)X
2593(\256le)X
2742(server)X
3003(when)X
3237(a)X
3306(device)X
3584(is)X
3674(opened.)X
4026(The)X
720 4917(type)N
917(in)X
1023(the)X
1172(ioFileID)X
1529(is)X
1624(either)X
10 s
1870(FSIO_LCL_DEVICE_STREAM)X
12 s
2962(or)X
10 s
3068(FSIO_RMT_DEVICE_STREAM)X
12 s
4152(.)X
720 5025(In)N
850(the)X
1018(latter)X
1267(case,)X
1507(the)X
1675(client)X
1940(will)X
2140(pass)X
2355(the)X
2523(Fsio_DeviceState)X
3252(to)X
3377(the)X
3545(I/O)X
3723(server)X
4008(in)X
4133(a)X
10 s
720 5133(FS_DEV_OPEN)N
12 s
1294(RPC.)X
1554(The)X
1735(accessTime)X
2216(and)X
2386(modifyTime)X
2899(are)X
3048(maintained)X
3508(at)X
3609(the)X
3758(I/O)X
3917(server.)X
720 5241(\(Currently)N
1152(they)X
1349(are)X
1498(never)X
1743(pushed)X
2046(back)X
2259(to)X
2365(the)X
2515(\256le)X
2670(server.)X
2985(This)X
3188(is)X
3284(bug.\))X
3540(The)X
3722(streamID)X
4112(is)X
720 5349(the)N
873(same)X
1106(as)X
1221(in)X
1331(the)X
1484(Fs_OpenResults,)X
2172(but)X
2330(it)X
2419(is)X
2518(included)X
2885(in)X
2995(Fsio_DeviceState)X
3709(so)X
3829(it)X
3917(can)X
4085(be)X
720 5457(passed)N
1000(to)X
1099(the)X
1241(I/O)X
1393(server.)X
1040 5598(typedef)N
1353(struct)X
1591(Fspdev_State)X
2133({)X
1328 5706(Fs_FileID)N
1904(ctrlFileID;)X

11 p
%%Page: 11 11
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(11)N
1136 972(Proc_PID)N
1616(procID;)X
1328 1080(int)N
1616(uid;)X
1328 1188(Fs_FileID)N
1904(streamID;)X
1040 1296(})N
1110(Fspdev_State;)X
920 1470(The)N
1111(Fspdev_State)X
1670(is)X
1775(returned)X
2137(when)X
2386(a)X
2470(pseudo-device)X
3067(is)X
3173(opened.)X
3541(The)X
3733(type)X
3941(in)X
4058(the)X
720 1578(ioFileID)N
1070(is)X
10 s
1154(FSIO_CONTROL_STREAM)X
12 s
2133(when)X
2365(the)X
2507(server)X
2766(process)X
3078(opens)X
3326(the)X
3468(pseudo-device.)X
4096(In)X
720 1686(this)N
883(case)X
1073(the)X
1215(Fspdev_State)X
1757(structure)X
2118(is)X
2206(not)X
2353(returned.)X
920 1827(When)N
1186(any)X
1361(other)X
1595(process)X
1919(opens)X
2179(the)X
2333(pseudo-device)X
2925(then)X
3127(the)X
3281(type)X
3483(in)X
3594(the)X
3749(ioFileID)X
4112(is)X
720 1935(either)N
10 s
968(FSIO_LCL_PSEUDO_STREAM)X
12 s
2079(or)X
10 s
2187(FSIO_RMT_PSEUDO_STREAM)X
12 s
3288(.)X
3368(In)X
3480(the)X
3630(latter)X
3861(case)X
4058(the)X
720 2043(client)N
991(passes)X
1292(the)X
1466(Fspdev_State)X
2040(to)X
2171(the)X
2345(I/O)X
2529(server)X
2820(with)X
3047(a)X
10 s
3142(FS_DEV_OPEN)X
12 s
3740(RPC.)X
4026(The)X
720 2151(ctrlFileID)N
1129(identi\256es)X
1511(the)X
1657(control)X
1958(stream)X
2243(of)X
2351(the)X
2497(server)X
2760(process.)X
3124(The)X
3302(procID)X
3602(and)X
3769(uid)X
3920(should)X
720 2259(be)N
837(\256lled)X
1061(in)X
1162(by)X
1284(the)X
1428(client)X
1669(before)X
1941(the)X
10 s
2081(FS_DEV_OPEN)X
12 s
2649(RPC.)X
2904(The)X
3080(streamID)X
3464(is)X
3554(the)X
3699(same)X
3924(as)X
4031(that)X
720 2367(in)N
827(the)X
977(Fs_OpenResults,)X
1662(but)X
1817(it)X
1903(is)X
1999(included)X
2363(in)X
2469(Fspdev_State)X
3018(so)X
3134(it)X
3219(can)X
3384(be)X
3506(passed)X
3793(to)X
3899(the)X
4048(I/O)X
720 2475(server.)N
1027(The)X
1201(I/O)X
1353(server)X
1612(sets)X
1780(up)X
1900(a)X
1967(shadow)X
2284(stream)X
2565(descriptor)X
2974(that)X
3143(matches)X
3483(the)X
3625(client's.)X
920 2616(When)N
1178(a)X
1249(process)X
1565(opens)X
1817(a)X
1888(\256le)X
2039(in)X
2142(a)X
2214(pseudo-\256le-system)X
2969(then)X
3164(the)X
3311(type)X
3506(in)X
3610(the)X
3757(ioFileID)X
4112(is)X
10 s
720 2724(FSIO_RMT_PFS_STREAM)N
12 s
1642(.)X
1717(\(If)X
1840(the)X
1985(pseudo-\256le-system)X
2738(server)X
3000(is)X
3090(on)X
3212(the)X
3356(same)X
3580(host)X
3766(as)X
3872(the)X
4016(pro-)X
720 2832(cess)N
912(doing)X
1163(the)X
1313(open,)X
1556(the)X
1706(the)X
10 s
1852(FS_OPEN)X
12 s
2221(RPC)X
2434(is)X
2530(not)X
2685(used,)X
2917(so)X
3034(the)X
10 s
3180(FSIO_LCL_PFS_STREAM)X
12 s
4112(is)X
720 2940(not)N
867(seen)X
1062(here.\))X
3 f
720 3252(8.)N
843(FS_READ)X
1 f
1349(This)X
1547(call)X
1714(is)X
1806(used)X
2010(to)X
2113(read)X
2307(data)X
2496(from)X
2711(a)X
2782(\256le)X
2933(system)X
3228(object.)X
3540(The)X
3718(data)X
3907(area)X
4096(of)X
720 3360(the)N
869(request)X
1178(message)X
1535(is)X
1630(empty.)X
1950(The)X
2130(parameter)X
2546(area)X
2737(of)X
2847(the)X
2995(request)X
3303(contains)X
3654(the)X
3802(following)X
720 3468(structure.)N
1040 3609(typedef)N
1353(struct)X
1591(FsrmtIOParam)X
2186({)X
1328 3717(Fs_FileID)N
1904(\256leID;)X
1328 3825(Fs_FileID)N
1904(streamID;)X
1328 3933 0.1953(Sync_RemoteWaiter)AN
2155(waiter;)X
1328 4041(Fs_IOParam)N
1904(io;)X
1040 4149(})N
1110(FsrmtIOParam;)X
1040 4365(typedef)N
1353(struct)X
1591({)X
1328 4473(List_Links)N
1904(links;)X
1328 4581(int)N
1616(hostID;)X
1328 4689(Proc_PID)N
1904(pid;)X
1328 4797(int)N
1616(waitToken;)X
1040 4905(})N
1110 0.2022(Sync_RemoteWaiter;)AX
1040 5121(typedef)N
1353(struct)X
1591(Fs_IOParam)X
2100({)X
1328 5229(Address)N
1904(buffer;)X
1328 5337(int)N
1616(length;)X
1328 5445(int)N
1616(offset;)X
1328 5553(int)N
1616(\257ags;)X
1328 5661(Proc_PID)N
1904(procID;)X
1328 5769(Proc_PID)N
1904(familyID;)X

12 p
%%Page: 12 12
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(12)N
1136 972(int)N
1328(uid;)X
1328 1080(int)N
1616(reserved;)X
1040 1188(})N
1110(Fs_IOParam;)X
720 1329(The)N
898(\256leID)X
1150(and)X
1317(the)X
1464(streamID)X
1851(together)X
2196(specify)X
2503(the)X
2650(I/O)X
2807(stream)X
3093(and)X
3261(the)X
3408(object)X
3673(it)X
3756(references.)X
720 1437(These)N
997(have)X
1226(been)X
1455(returned)X
1823(from)X
2057(a)X
2146(previous)X
10 s
2519(FS_OPEN)X
12 s
2902(RPC.)X
3177(The)X
3373 0.1953(Sync_RemoteWaiter)AX
720 1545(structure)N
1086(contains)X
1436(information)X
1920(about)X
2163(the)X
2311(process)X
2629(in)X
2734(case)X
2930(the)X
3078(read)X
3274(operation)X
3668(would)X
3938(block,)X
720 1653(in)N
825(which)X
1090(case)X
1286(it)X
1370(is)X
1464(used)X
1670(in)X
1775(a)X
1848(subsequent)X
10 s
2301(REMOTE_WAKEUP)X
12 s
3043(RPC.)X
3301(\(The)X
3512(links)X
3728(\256eld)X
3928(of)X
4037(this)X
720 1761(is)N
812(not)X
963(valid)X
1184(during)X
1463(the)X
1609(RPC.\))X
1899(The)X
2078(length)X
2348(in)X
2452(the)X
2599(Fs_IOParam)X
3113(indicates)X
3485(how)X
3679(much)X
3922(data)X
4112(is)X
720 1869(to)N
824(be)X
944(read,)X
1163(and)X
1331(the)X
1478(offset)X
1726(indicates)X
2098(the)X
2244(byte)X
2438(offset)X
2685(at)X
2783(which)X
3046(to)X
3149(start)X
3343(the)X
3489(read.)X
3731(\(The)X
3941(buffer)X
720 1977(\256eld)N
917(is)X
1007(not)X
1156(valid)X
1375(during)X
1653(the)X
1798(RPC.\))X
2086(The)X
2263(\257ags)X
2471(are)X
2616(the)X
2761(\257ags)X
2969(from)X
3183(the)X
3328(I/O)X
3483(stream)X
3767(descriptor,)X
720 2085(which)N
980(are)X
1123(derived)X
1436(from)X
1647(the)X
1789(useFlags)X
2149(in)X
10 s
2244(FS_OPEN)X
12 s
2581(.)X
2653(The)X
2827(procID,)X
3147(familyID,)X
3548(and)X
3711(uid)X
3858(are)X
4000(used)X
720 2193(for)N
867(ownership)X
1302(checking)X
1685(by)X
1816(certain)X
2114(devices.)X
2486(The)X
2671(reserved)X
3032(\256eld)X
3238(is)X
3337(currently)X
3721(unused,)X
4053(but)X
720 2301(may)N
910(eventually)X
1336(be)X
1451(used)X
1651(for)X
1787(a)X
1854(\256le's)X
2070(version)X
2377(number.)X
920 2442(The)N
1094(reply)X
1316(message)X
1666(for)X
1802(a)X
1870(read)X
2061(contains)X
2407(the)X
2550(data)X
2736(in)X
2836(the)X
2979(data)X
3165(area,)X
3375(and)X
3539(a)X
3607(Fs_IOReply)X
4101(in)X
720 2550(the)N
862(parameter)X
1272(area.)X
1040 2691(typedef)N
1353(struct)X
1591(Fs_IOReply)X
2084({)X
1328 2799(int)N
1616(length;)X
1328 2907(int)N
1616(\257ags;)X
1328 3015(int)N
1616(signal;)X
1328 3123(int)N
1616(code;)X
1040 3231(})N
1110(Fs_IOReply;)X
720 3372(The)N
900(length)X
1171(indicates)X
1544(the)X
1692(number)X
2016(of)X
2126(bytes)X
2359(returned.)X
2758(The)X
2939(\257ags)X
3151(indicate)X
3488(the)X
3637(select)X
3888(state)X
4096(of)X
720 3480(the)N
873(object.)X
1192(They)X
1425(are)X
1577(an)X
1702(or'd)X
1896(combination)X
2412(of)X
2526(the)X
10 s
2674(FS_READ)X
12 s
3020(,)X
10 s
3074(FS_WRITE)X
12 s
3456(,)X
3514(and)X
10 s
3683(FS_EXECUTE)X
12 s
720 3588(bits)N
886(de\256ned)X
1196(above.)X
1501(The)X
1679(signal)X
1937(and)X
2104(code)X
2314(are)X
2460(used)X
2664(to)X
2767(return)X
3025(a)X
3096(signal)X
3354(from)X
3569(certain)X
3860(kinds)X
4096(of)X
720 3696(devices.)N
1082(If)X
1171(non-zero,)X
1562(the)X
1705(signal)X
1960(\256eld)X
2155(will)X
2329(result)X
2567(in)X
2666(that)X
2835(signal)X
3089(being)X
3327(sent)X
3506(to)X
3605(the)X
3747(application)X
720 3804(process,)N
1056(along)X
1294(with)X
1489(the)X
1631(code)X
1837(that)X
2006(modi\256es)X
2361(the)X
2503(signal.)X
920 3945(If)N
1019(the)X
1172(return)X
1437(code)X
1654(of)X
1769(the)X
10 s
1918(FS_READ)X
12 s
2299(RPC)X
2515(is)X
10 s
2610(FS_WOULD_BLOCK)X
12 s
3348(,)X
3407(then)X
3608(length)X
3884(may)X
4085(be)X
720 4053(greater)N
1019(than)X
1216(or)X
1327(equal)X
1567(to)X
1673(zero.)X
1918(This)X
2120(indicates)X
2494(that)X
2669(less)X
2843(than)X
3039(the)X
3187(requested)X
3586(amount)X
3905(of)X
4015(data)X
720 4161(was)N
898(returned,)X
1272(and)X
1440(that)X
1615(the)X
1763(I/O)X
1921(server)X
2186(has)X
2344(saved)X
2593(the)X
2741 0.1953(Sync_RemoteWaiter)AX
3574(information.)X
4107(A)X
10 s
720 4269(REMOTE_WAKEUP)N
12 s
1472(RPC)X
1693(will)X
1883(be)X
2013(generated)X
2427(by)X
2562(the)X
2719(I/O)X
2886(server)X
3160(when)X
3407(the)X
3564(object)X
3839(becomes)X
720 4377(readable.)N
3 f
720 4689(9.)N
849(FS_WRITE)X
1 f
1420(This)X
1624(is)X
1721(similar)X
2022(to)X
2130(the)X
10 s
2277(FS_READ)X
12 s
2656(RPC,)X
2894(except)X
3179(that)X
3357(the)X
3508(request)X
3820(data)X
4015(area)X
720 4797(contains)N
1071(the)X
1219(data)X
1410(to)X
1515(be)X
1636(transfered.)X
2099(The)X
2279(request)X
2587(parameters)X
3039(are)X
3186(the)X
3333(same)X
3560(as)X
3669(for)X
10 s
3806(FS_READ)X
12 s
4152(.)X
720 4905(The)N
909(reply)X
1146(parameters)X
1608(are)X
1766(also)X
1961(the)X
2119(same.)X
2405(If)X
2509(the)X
2667(I/O)X
2835(server)X
3110(doesn't)X
3433(accept)X
3720(all)X
3857(the)X
4015(data)X
720 5013(transferred)N
1165(to)X
1268(it)X
1350(then)X
1544(the)X
1689(client)X
1931(will)X
2108(block)X
2349(the)X
2494(application)X
2950(process)X
3265(if)X
10 s
3347(FS_WOULD_BLOCK)X
12 s
4112(is)X
720 5121(returned.)N
1122(Otherwise)X
1550(a)X
1627(short)X
1853(write)X
2085(and)X
2258(a)X
10 s
2331(SUCCESS)X
12 s
2710(error)X
2931(code)X
3147(will)X
3331(prompt)X
3643(an)X
3768(immediate)X
720 5229(retry)N
926(of)X
1030(the)X
1172(rest)X
1335(of)X
1439(the)X
1581(data.)X
920 5370(There)N
1176(are)X
1325(some)X
1559(additional)X
1977(\257ags)X
2190(in)X
2297(the)X
2447(Fs_IOParam)X
2964(structure)X
3333(that)X
3510(pertain)X
3810(to)X
3917(writes.)X
720 5478(These)N
974(are)X
1116(described)X
1509(below.)X
720 5619(0x00100000)N
1224(FS_CLIENT_CACHE_WRITE)X
920 5727(When)N
1183(a)X
1259(client)X
1507(writes)X
1775(back)X
1990(data)X
2184(from)X
2404(its)X
2528(cache)X
2781(this)X
2953(\257ag)X
3130(is)X
3227(set.)X
3415(In)X
3528(this)X
3701(case)X
3901(the)X
4053(\256le)X

13 p
%%Page: 13 13
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(13)N
920 972(server)N
1186(does)X
1392(not)X
1545(reset)X
1757(the)X
1905(modify)X
2213(time)X
2415(because)X
2750(the)X
2898(client)X
3143(maintains)X
3548(the)X
3696(modify)X
4004(time)X
920 1080(while)N
1158(caching)X
1482(the)X
1624(\256le.)X
720 1221(0x02000000)N
1224(FS_LAST_DIRTY_BLOCK)X
920 1329(This)N
1124(is)X
1221(set)X
1361(when)X
1603(a)X
1680(client)X
1929(is)X
2027(writing)X
2339(back)X
2555(its)X
2680(last)X
2848(block)X
3096(for)X
3242(a)X
3319(particular)X
3723(\256le.)X
3928(At)X
4058(the)X
920 1437(receipt)N
1211(of)X
1319(the)X
1465(last)X
1627(block)X
1869(a)X
1940(server)X
2203(in)X
2306(write-back-ASAP)X
3022(mode)X
3264(will)X
3442(schedule)X
3806(the)X
3951(\256le)X
4101(to)X
920 1545(be)N
1035(written)X
1332(to)X
1431(disk,)X
1639(although)X
2000(the)X
2142(RPC)X
2347(will)X
2521(return)X
2775(before)X
3045(the)X
3187(\256le)X
3334(actually)X
3664(gets)X
3843(to)X
3942(disk.)X
720 1686(0x10000000)N
1224(FS_WB_ON_LDB)X
920 1794(This)N
1124(tells)X
1318(the)X
1469(server)X
1737(to)X
1845(write)X
2076(through)X
2408(the)X
2559(\256le)X
2715(if)X
2807(it)X
2894(is)X
2991(the)X
3142(last)X
3309(dirty)X
3525(block.)X
3821(This)X
4026(will)X
920 1902(appear)N
1217(with)X
1428(FS_LAST_DIRTY_BLOCK.)X
2624(At)X
2760(the)X
2918(receipt)X
3221(of)X
3341(a)X
3424(block)X
3677(marked)X
4005(with)X
920 2010(this)N
1098(\257ag)X
1281(the)X
1438(server)X
1712(will)X
1901(block)X
2154(until)X
2370(the)X
2527(\256le)X
2689(is)X
2792(written)X
3105(through,)X
3468(and)X
3647(the)X
3805(RPC)X
4026(will)X
920 2118(return)N
1174(after)X
1375(the)X
1517(\256le)X
1664(is)X
1752(on)X
1872(disk.)X
3 f
720 2430(10.)N
889(FS_CLOSE)X
1 f
1447(When)X
1702(the)X
1845(last)X
2004(process)X
2318(using)X
2552(an)X
2669(I/O)X
2823(stream)X
3106(closes)X
3367(its)X
3484(reference,)X
3893(then)X
4085(an)X
10 s
720 2538(FS_CLOSE)N
12 s
1134(RPC)X
1348(is)X
1445(made)X
1687(to)X
1795(the)X
1946(I/O)X
2106(server.)X
2421(The)X
2603(request)X
2913(data)X
3106(area)X
3299(is)X
3395(empty.)X
3716(The)X
3898(request)X
720 2646(parameter)N
1134(area)X
1323(is)X
1415(described)X
1812(below.)X
2123(The)X
2301(reply)X
2527(message)X
2881(has)X
3037(no)X
3161(data)X
3350(or)X
3458(parameters,)X
3933(only)X
4133(a)X
720 2754(return)N
974(code.)X
1040 2895(typedef)N
1353(struct)X
1591(FsRemoteCloseParams)X
2507({)X
1328 3003(Fs_FileID)N
1904(\256leID;)X
1328 3111(Fs_FileID)N
1904(streamID;)X
1328 3219(Proc_PID)N
1904(procID;)X
1328 3327(int)N
1616(\257ags;)X
1328 3435(FsCloseData)N
1904(closeData;)X
1328 3543(int)N
1616(closeDataSize;)X
1040 3651(})N
1110(FsRemoteCloseParams;)X
1040 3867(typedef)N
1353(union)X
1596(FsCloseData)X
2111({)X
1328 3975(Fscache_Attributes)N
2192(attrs;)X
1040 4083(})N
1110(FsCloseData;)X
720 4224(The)N
918(\256leID)X
1190(is)X
1302(the)X
1468(ioFileID)X
1842(from)X
2077(the)X
10 s
2239(FS_OPEN)X
12 s
2624(RPC.)X
2901(The)X
3099(streamID)X
3505(is)X
3618(also)X
3822(from)X
4058(the)X
10 s
720 4332(FS_OPEN)N
12 s
1084(RPC.)X
1340(The)X
1517(procID)X
1816(identi\256es)X
2196(the)X
2341(process)X
2656(doing)X
2902(the)X
3047(close.)X
3320(The)X
3497(\257ags)X
3705(are)X
3850(the)X
3995(\257ags)X
720 4440(from)N
943(the)X
1097(stream)X
1390(descriptor,)X
1835(and)X
2010(they)X
2212(may)X
2414(also)X
2605(include)X
2925(the)X
10 s
3076(FS_LAST_DIRTY_BLOCK)X
12 s
4037(and)X
10 s
720 4548(FS_WB_ON_LDB)N
12 s
1367(\257ags)X
1582(if)X
1674(a)X
1750(\256le)X
1906(is)X
2003(in)X
2111(write-back-on-close)X
2914(mode.)X
3209(The)X
3392(closeData)X
3805(is)X
3902(a)X
3978(type-)X
720 4656(speci\256c)N
1039(union)X
1284(used)X
1486(to)X
1587(propagate)X
1993(attributes)X
2378(back)X
2586(to)X
2687(the)X
2831(\256le)X
2980(server)X
3241(at)X
3337(close)X
3561(time.)X
3807(Currently)X
720 4764(this)N
936(is)X
1077(only)X
1325(implemented)X
1906(for)X
2095(regular)X
2444(\256les,)X
2704(in)X
2855(which)X
3166(case)X
3408(the)X
3602(closeData)X
4058(the)X
720 4872(Fscache_Attributes)N
1499(already)X
1819(described.)X
2272(\(It)X
2400(should)X
2693(also)X
2885(be)X
3013(implemented)X
3554(for)X
3703(devices,)X
4053(but)X
720 4980(the)N
883(\256le)X
1051(server)X
1331(is)X
1440(not)X
1608(contacted)X
2023(at)X
2138(close)X
2381(time)X
2597(for)X
2753(devices.\))X
3166(The)X
3360(closeDataSize)X
3950(is)X
4058(the)X
720 5088(number)N
1038(of)X
1142(valid)X
1359(bytes)X
1586(in)X
1685(the)X
1827(closeData)X
2231(union.)X
3 f
720 5292(11.)N
896(FS_UNLINK)X
1 f
1519(This)X
1722(RPC)X
1936(is)X
2033(used)X
2242(to)X
2350(remove)X
2672(a)X
2748(directory)X
3129(entry)X
3360(for)X
3505(an)X
3629(object.)X
3946(When)X
720 5400(the)N
879(last)X
1054(directory)X
1443(entry)X
1682(that)X
1868(references)X
2305(an)X
2437(object)X
2714(is)X
2819(removed,)X
3221(the)X
3379(underlying)X
3836(object)X
4112(is)X
720 5508(deleted.)N
1071(However,)X
1471(if)X
1554(the)X
1696(object)X
1956(is)X
2045(still)X
2215(referenced)X
2647(by)X
2768(an)X
2884(open)X
3096(I/O)X
3249(stream)X
3531(then)X
3722(the)X
3865(deletion)X
720 5616(is)N
822(postponed)X
1255(until)X
1470(the)X
1626(I/O)X
1792(stream)X
2087(is)X
2188(closed.)X
2519(The)X
2706(request)X
3021(data)X
3219(area)X
3417(contains)X
3775(a)X
3855(null)X
4042(ter-)X
720 5724(minated)N
1080(pathname.)X
1552(The)X
1751(request)X
2078(parameter)X
2513(area)X
2723(contains)X
3093(an)X
3233(Fs_LookupArgs)X
3906(record,)X

14 p
%%Page: 14 14
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(14)N
720 972(which)N
979(is)X
1067(a)X
1134(sub-set)X
1430(of)X
1534(the)X
1676(Fs_OpenArgs)X
2232(record)X
2502(previously)X
2932(de\256ned.)X
1040 1113(typedef)N
1353(struct)X
1591(Fs_LookupArgs)X
2238({)X
1328 1221(Fs_FileID)N
1904(pre\256xID;)X
1328 1329(Fs_FileID)N
1904(rootID;)X
1328 1437(int)N
1616(useFlags;)X
1328 1545(Fs_UserIDs)N
1904(id;)X
1328 1653(int)N
1616(clientID;)X
1328 1761(int)N
1616(migClientID;)X
1040 1869(})N
1110(Fs_LookupArgs;)X
720 2010(The)N
894(reply)X
1116(to)X
1215(an)X
10 s
1326(RPC_UNLINK)X
12 s
1848(is)X
1936(ordinarily)X
2340(only)X
2535(a)X
2602(return)X
2856(code.)X
3110(However,)X
3510(as)X
3614(with)X
3809(all)X
3930(opera-)X
720 2118(tions)N
937(on)X
1063(pathnames,)X
1529(the)X
1677(server)X
1942(may)X
2138(return)X
2398(a)X
2471(new)X
2661(pathname)X
3066(if)X
3155(the)X
3303(input)X
3531(pathname)X
3935(leaves)X
720 2226(its)N
835(domain.)X
1196(In)X
1300(this)X
1463(case)X
1653(the)X
1795(return)X
2049(code)X
2255(is)X
10 s
2339(FS_LOOKUP_REDIRECT)X
12 s
3223(,)X
3271(and)X
3434(the)X
3576(return)X
3830(data)X
4015(area)X
720 2334(contains)N
1077(the)X
1231(new)X
1426(pathname)X
1836(\(see)X
2026(NB)X
2194(below\),)X
2520(and)X
2694(the)X
2847(return)X
3112(parameter)X
3533(area)X
3729(contains)X
4085(an)X
720 2442(integer)N
1012(indicating)X
1422(the)X
1564(length)X
1829(of)X
1933(the)X
2075(pre\256x)X
2323(embedded)X
2743(in)X
2842(the)X
2984(returned)X
3329(pathname,)X
3752(or)X
3856(zero.)X
720 2550(NB:)N
914(For)X
1081 0.2548(implementation)AX
1721(reasons,)X
2067(the)X
2219(return)X
2483(data)X
2678(area)X
2873(also)X
3062(contains)X
3417(room)X
3654(for)X
3800(the)X
3952(pre\256x)X
720 2658(length)N
991(\(4)X
1101(bytes\))X
1366(in)X
1471(front)X
1687(of)X
1796(the)X
1943(returned)X
2293(pathname.)X
2745(See)X
10 s
2909(FS_OPEN)X
12 s
3275(for)X
3416(a)X
3488(fuller)X
3726(explanation)X
720 2766(of)N
10 s
820(FS_LOOKUP_REDIRECT)X
12 s
1704(.)X
3 f
720 2970(12.)N
891(FS_RENAME)X
1 f
1552(This)X
1750(is)X
1841(an)X
1959(operation)X
2350(on)X
2473(two)X
2645(pathnames,)X
3109(and)X
3276(it)X
3358(is)X
3450(used)X
3654(to)X
3757(change)X
4058(the)X
720 3078(name)N
955(of)X
1061(an)X
1178(object)X
1440(in)X
1541(the)X
1685(\256le)X
1834(system.)X
2175(The)X
2350(request)X
2653(parameters)X
3101(include)X
3410(the)X
3553(Fs_LookupArgs)X
720 3186(previously)N
1158(de\256ned,)X
1497(plus)X
1689(another)X
2010(\256leID)X
2266(for)X
2410(the)X
2560(pre\256x)X
2816(of)X
2928(the)X
3078(second)X
3377(pathname.)X
3832(The)X
4015(data)X
720 3294(area)N
910(contains)X
1260(two)X
1433(pathnames,)X
1897(and)X
2064(currently)X
2440(this)X
2607(is)X
2699(de\256ned)X
3010(as)X
3118(two)X
3290(maximum)X
3709(length)X
3978(char-)X
720 3402(acter)N
932(arrays.)X
1040 3543(typedef)N
1353(struct)X
1591(Fs_2PathParams)X
2255({)X
1328 3651(Fs_LookupArgs)N
2192(lookup;)X
1328 3759(Fs_FileID)N
1904(pre\256xID2;)X
1040 3867(})N
1110(Fs_2PathParams;)X
1040 4083(#de\256ne)N
10 s
1347(FS_MAX_PATH_NAME_LENGTH)X
12 s
2768(1024)X
1040 4299(typedef)N
1353(struct)X
1591(Fs_2PathData)X
2154({)X
1328 4407(char)N
1616(path1[)X
10 s
1862(FS_MAX_PATH_NAME_LENGTH)X
12 s
3063(];)X
1328 4515(char)N
1616(path2[)X
10 s
1862(FS_MAX_PATH_NAME_LENGTH)X
12 s
3063(];)X
1040 4623(})N
1110(Fs_2PathData;)X
720 4764(There)N
974(can)X
1137(also)X
1321(be)X
1441(a)X
1513(pathname)X
1917(redirection)X
2364(during)X
2644(a)X
10 s
2712(FS_RENAME)X
12 s
3178(,)X
3232(in)X
3337(which)X
3602(case)X
3798(the)X
3946(return)X
720 4872(code)N
951(is)X
10 s
1060(FS_LOOKUP_REDIRECT)X
12 s
1944(,)X
2017(and)X
2204(the)X
2370(return)X
2648(data)X
2857(area)X
3066(has)X
3242(the)X
3408(returned)X
3777(pathname.)X
720 4980(Again,)N
1009(for)X
1151 0.2548(implementation)AX
1787(reasons)X
2105(two)X
2279(\256elds)X
2517(in)X
2622(the)X
2770(parameter)X
3186(area)X
3377(\(Fs_2PathReply\))X
4058(are)X
720 5088(repeated)N
1092(in)X
1212(the)X
1375(data)X
1581(area)X
1787(before)X
2078(the)X
2241(returned)X
2607(pathname)X
3026(\(Fs_2PathRedirectInfo\).)X
4026(The)X
720 5196(name1ErrorP)N
1272(\257ag)X
1455(that)X
1639(is)X
1742(returned)X
2102(indicates)X
2484(whether)X
2834(the)X
2992(error)X
3219(code)X
3441(applies)X
3754(to)X
3869(the)X
4027(\256rst)X
720 5304(name)N
961(\(if)X
1084(name1ErrorP)X
1629(is)X
1725(non-zero\),)X
2155(or)X
2267(to)X
2374(the)X
2524(second)X
2823(pathname.)X
3278(\(Please)X
3588(excuse)X
3882(the)X
4031(fact)X
720 5412(that)N
968(pre\256xLength)X
1568(and)X
1810(name1ErrorP)X
2427(occur)X
2745(in)X
2924(opposite)X
3354(orders!)X
3730(ugh.)X
4026(The)X
720 5520(Fs_2PathRedirectInfo)N
1607(is)X
1714(passed)X
2013(around)X
2322(the)X
2482(kernel)X
2765(internally,)X
3201(and)X
3382(these)X
3622(two)X
3808(\256elds)X
4058(are)X
720 5628(copied)N
1001(into)X
1175(the)X
1317(parameter)X
1727(area)X
1912(so)X
2021(they)X
2211(get)X
2353(byteswapped)X
2879(correctly.\))X
1040 5769(typedef)N
1353(struct)X
1591(Fs_2PathReply)X
2202({)X

15 p
%%Page: 15 15
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(15)N
1136 972(int)N
1328(pre\256xLength;)X
1328 1080(Boolean)N
1904(name1ErrorP;)X
1040 1188(})N
1110(Fs_2PathReply;)X
1040 1404(typedef)N
1353(struct)X
1591(Fs_2PathRedirectInfo)X
2459({)X
1328 1512(int)N
1454(name1ErrorP;)X
1328 1620(int)N
1616(pre\256xLength;)X
1328 1728(char)N
1518(\256leName[)X
10 s
1903(FS_MAX_PATH_NAME_LENGTH)X
12 s
3104(];)X
1040 1836(})N
1110(Fs_2PathRedirectInfo;)X
720 1977(Note)N
934(that)X
1106(redirection)X
1551(makes)X
1824(lookups)X
2155(involving)X
2551(two)X
2722(pathnames)X
3161(slightly)X
3478(more)X
3704(complicated)X
720 2085(than)N
919(an)X
1043(operation)X
1440(on)X
1569(a)X
1645(single)X
1908(pathname.)X
2364(A)X
2466(Sprite)X
2729(client)X
2977(will)X
3160(use)X
3320(its)X
3443(pre\256x)X
3699(cache)X
3951(to)X
4058(get)X
720 2193(the)N
869(pre\256xFileID)X
1375(for)X
1518(both)X
1720(pathnames,)X
2187(and)X
2357(they)X
2555(may)X
2753(specify)X
3063(different)X
3427(servers.)X
3779(The)X
3961(client)X
720 2301(always)N
1022(directs)X
1314(the)X
10 s
1463(FS_RENAME)X
12 s
1964(\(or)X
10 s
2106(FS_LINK)X
12 s
(\))S
2492(to)X
2601(the)X
2753(server)X
3022(for)X
3168(the)X
3320(\256rst)X
3503(pathname.)X
3960(If)X
4058(the)X
720 2409(second)N
1013(pathname)X
1415(is)X
1506(also)X
1688(in)X
1790(the)X
1935(same)X
2160(domain)X
2476(then)X
2669(the)X
10 s
2810(FS_RENAME)X
12 s
3303(\(or)X
10 s
3438(FS_LINK)X
12 s
(\))S
3817(can)X
3978(com-)X
720 2517(plete)N
948(with)X
1159(a)X
1242(single)X
1512(RPC.)X
1781(If)X
1885(the)X
2043(\256rst)X
2232(pathname)X
2647(leaves)X
2928(the)X
3086(server's)X
3430(domain,)X
3783(the)X
3941(server)X
720 2625(returns)N
10 s
1007(FS_WOULD_BLOCK)X
12 s
1769(and)X
1932(sets)X
2100(name1ErrorP)X
2637(to)X
2737(a)X
2805(non-zero)X
3172(value.)X
3454(If)X
3543(the)X
3686(second)X
3978(path-)X
720 2733(name)N
983(begins)X
1288(in)X
1417(the)X
1589(server's)X
1947(domain)X
2290(but)X
2467(subsequently)X
3023(leaves)X
3318(it,)X
3450(the)X
3621(server)X
3909(returns)X
10 s
720 2841(FS_WOULD_BLOCK)N
12 s
1486(and)X
1653(sets)X
1825(name1ErrorP)X
2366(to)X
2469(zero.)X
2711(If)X
2803(the)X
2950(second)X
3246(pathname)X
3650(doesn't)X
3962(begin)X
720 2949(in)N
820(the)X
963(server's)X
1292(domain,)X
1630(it)X
1709(returns)X
10 s
1997(FS_CROSS_DOMAIN_OPERATION)X
12 s
3241(.)X
3314(At)X
3434(this)X
3597(point)X
3819(the)X
3961(client)X
720 3057(does)N
935(a)X
10 s
1013(FS_GET_ATTR)X
12 s
1585(on)X
1720(the)X
2 f
1877(parent)X
1 f
2167(of)X
2286(the)X
2443(second)X
2750(pathname)X
3165(to)X
3280(make)X
3529(sure)X
3729(that)X
3914(further)X
720 3165(redirections)N
1204(do)X
1329(not)X
1481(lead)X
1671(the)X
1818(second)X
2114(pathname)X
2518(back)X
2729(to)X
2833(the)X
2980(server's)X
3313(domain.)X
3679(The)X
3858(name)X
4096(of)X
720 3273(the)N
875(parent)X
1153(is)X
1254(easily)X
1516(computed)X
1933(by)X
2066(trimming)X
2462(off)X
2611(the)X
2766(last)X
2937(component)X
3402(of)X
3519(the)X
3674(second)X
3978(path-)X
720 3381(name.)N
1005(If)X
1097(the)X
10 s
1239(FS_GET_ATTR)X
12 s
1800(gets)X
1983(a)X
2054(redirect)X
2376(the)X
2521(client)X
2763(reiterates,)X
3168(otherwise)X
3569(the)X
10 s
3710(FS_RENAME)X
12 s
720 3489(\(or)N
10 s
852(FS_LINK)X
12 s
(\))S
1228(fails.)X
3 f
720 3801(13.)N
905(FS_MKDIR)X
1 f
1495(This)X
1707(is)X
1813(used)X
2031(to)X
2148(create)X
2421(a)X
2506(directory.)X
2944(The)X
3136(request)X
3456(data)X
3659(is)X
3765(a)X
3850(null)X
4042(ter-)X
720 3909(minated)N
1071(pathname.)X
1534(The)X
1723(request)X
2040(parameters)X
2502(are)X
2659(the)X
2816(Fs_OpenArgs)X
3387(described)X
3795(above)X
4064(for)X
10 s
720 4017(FS_OPEN)N
12 s
1057(,)X
1178(with)X
1446(the)X
1661(type)X
1924(equal)X
2230(to)X
10 s
2398(FS_DIRECTORY)X
12 s
2984(.)X
3129(If)X
3290(the)X
3505(return)X
3832(code)X
4112(is)X
10 s
720 4125(FS_LOOKUP_REDIRECT)N
12 s
1604(,)X
1654(then)X
1846(the)X
1989(reply)X
2212(data)X
2398(is)X
2487(a)X
2555(new)X
2740(pathname)X
3140(\(again)X
3406(preceded)X
3779(by)X
3900(4)X
3973(bytes)X
720 4233(of)N
824(junk\),)X
1075(and)X
1238(the)X
1380(reply)X
1602(parameters)X
2049(is)X
2137(the)X
2279(length)X
2544(of)X
2648(the)X
2790(embedded)X
3210(pre\256x.)X
3 f
720 4545(14.)N
902(FS_RMDIR)X
1 f
1483(This)X
1692(is)X
1794(used)X
2008(to)X
2121(remove)X
2448(a)X
2529(directory.)X
2963(The)X
3151(request)X
3468(data)X
3668(is)X
3771(a)X
3853(null)X
4042(ter-)X
720 4653(minated)N
1062(pathname.)X
1515(The)X
1695(request)X
2003(parameters)X
2456(are)X
2604(the)X
2752(Fs_LookupArgs)X
3405(described)X
3804(above)X
4064(for)X
10 s
720 4761(FS_UNLINK)N
12 s
1156(.)X
1242(If)X
1344(the)X
1500(return)X
1768(code)X
1988(is)X
10 s
2086(FS_LOOKUP_REDIRECT)X
12 s
2970(,)X
3032(then)X
3237(the)X
3394(reply)X
3631(data)X
3831(is)X
3934(a)X
4016(new)X
720 4869(pathname)N
1126(\(again)X
1398(preceded)X
1777(by)X
1904(4)X
1983(bytes)X
2217(of)X
2328(junk\),)X
2585(and)X
2754(the)X
2902(reply)X
3130(parameters)X
3583(is)X
3677(the)X
3825(length)X
4096(of)X
720 4977(the)N
862(embedded)X
1282(pre\256x.)X
3 f
720 5289(15.)N
899(FS_MKDEV)X
1 f
1510(This)X
1716(is)X
1816(used)X
2028(to)X
2139(create)X
2406(a)X
2485(device)X
2773(\256le.)X
2980(The)X
3166(request)X
3480(data)X
3677(is)X
3777(a)X
3856(null)X
4042(ter-)X
720 5397(minated)N
1060(pathname.)X
1512(The)X
1691(request)X
1998(parameters,)X
2474(Fs_MakeDeviceArgs,)X
3343(are)X
3490(de\256ned)X
3801(below.)X
4112(If)X
720 5505(the)N
871(return)X
1134(code)X
1349(is)X
10 s
1442(FS_LOOKUP_REDIRECT)X
12 s
2326(,)X
2383(then)X
2582(the)X
2733(reply)X
2964(data)X
3158(is)X
3255(a)X
3332(new)X
3526(pathname)X
3935(\(again)X
720 5613(preceded)N
1106(by)X
1240(4)X
1326(bytes)X
1567(of)X
1684(junk\),)X
1948(and)X
2124(the)X
2279(reply)X
2514(parameters)X
2974(is)X
3075(the)X
3230(length)X
3508(of)X
3625(the)X
3780(embedded)X
720 5721(pre\256x.)N

16 p
%%Page: 16 16
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(16)N
1040 972(typedef)N
1353(struct)X
1591(Fs_MakeDeviceArgs)X
2431({)X
1328 1080(Fs_OpenArgs)N
1884(open;)X
1328 1188(Fs_Device)N
1763(device;)X
1040 1296(})N
1110(Fs_MakeDeviceArgs;)X
1040 1512(typedef)N
1353(struct)X
1591(Fs_Device)X
2026({)X
1328 1620(int)N
1616(serverID;)X
1328 1728(int)N
1616(type;)X
1328 1836(int)N
1616(unit;)X
1328 1944(ClientData)N
1904(data;)X
1040 2052(})N
1110(Fs_Device;)X
720 2193(The)N
903(Fs_MakeDeviceArgs)X
1752(are)X
1903(a)X
1979(slight)X
2226(super-set)X
2606(of)X
2719(the)X
2870(Fs_OpenArgs.)X
3483(They)X
3715(additionally)X
720 2301(contain)N
1029(a)X
1097(Fs_Device)X
1533(structure)X
1895(that)X
2065(de\256nes)X
2362(the)X
2505(server,)X
2789(type,)X
3004(and)X
3168(unit)X
3343(of)X
3448(the)X
3590(peripheral)X
4005(dev-)X
720 2409(ice.)N
905(\(The)X
1111(data)X
1296(\256eld)X
1491(is)X
1579(not)X
1726(used)X
1927(in)X
2027(the)X
2170(RPC.\))X
2456(The)X
2631(serverID)X
2992(is)X
3081(a)X
3149(Sprite)X
3404(Host)X
3610(ID.)X
3784(If)X
3873(the)X
4016(spe-)X
720 2517(cial)N
900(value)X
10 s
1145(FS_LOCALHOST_ID)X
12 s
1913(is)X
2016(used,)X
2255(then)X
2460(this)X
2638(device)X
2929(\256le)X
3091(always)X
3397(speci\256es)X
3767(the)X
3924(device)X
720 2625(attached)N
1066(to)X
1165(the)X
1307(local)X
1519(host.)X
1751(Otherwise,)X
2194(it)X
2272(speci\256es)X
2627(a)X
2694(devices)X
3007(at)X
3101(a)X
3168(particular)X
3562(host.)X
1040 2766(#de\256ne)N
10 s
1347(FS_LOCALHOST_ID)X
12 s
2192(-1)X
720 2907(Some)N
965(of)X
1071(the)X
1215(device)X
1493(types)X
1722(are)X
1866(de\256ned)X
2175(in)X
2276(Table)X
2522(7,)X
2620(although)X
2983(this)X
3148(list)X
3292(is)X
3383(not)X
3533(guaranteed)X
3983(to)X
4085(be)X
720 3015(complete.)N
1148(These)X
1404(types)X
1633(are)X
1777(de\256ned)X
2086(in)X
2186(<kernel/dev/devTypes.h>.)X
3247(The)X
3422(unit)X
3597(number)X
3916(is)X
4005(dev-)X
720 3123(ice)N
870(speci\256c,)X
1225(and)X
1401(no)X
1534(attempt)X
1861(is)X
1962(made)X
2208(to)X
2320(specify)X
2635(them)X
2865(here.)X
3117(\(For)X
3320(example,)X
3709(the)X
3865(ethernet)X
720 3231(device)N
1000(encodes)X
1338(the)X
1484(protocol)X
1833(number)X
2155(in)X
2258(the)X
2404(unit.)X
2630(The)X
2808(SCSI)X
3038(devices)X
3355(encode)X
3656(the)X
3801(controller)X
720 3339(number,)N
1062(target)X
1306(ID,)X
1455(and)X
1618(LUN.\))X
10 f
1848 3480(iiiiiiiiiiiiiiiiiiiiiiiii)N
1 f
2181 3588(Device)N
2478(Types)X
10 f
1848 3592(iiiiiiiiiiiiiiiiiiiiiiiii)N
1848 3608(iiiiiiiiiiiiiiiiiiiiiiiii)N
10 s
1 f
1896 3708(DEV_TERM)N
12 s
2951(0)X
10 s
1896 3816(DEV_SYSLOG)N
12 s
2951(1)X
10 s
1896 3924(DEV_SCSI_WORM)N
12 s
2951(2)X
10 s
1896 4032(DEV_PLACEHOLDER_2)N
12 s
2951(3)X
10 s
1896 4140(DEV_SCSI_DISK)N
12 s
2951(4)X
10 s
1896 4248(DEV_SCSI_TAPE)N
12 s
2951(5)X
10 s
1896 4356(DEV_MEMORY)N
12 s
2951(6)X
10 s
1896 4464(DEV_XYLOGICS)N
12 s
2951(7)X
10 s
1896 4572(DEV_NET)N
12 s
2951(8)X
10 s
1896 4680(DEV_SCSI_HBA)N
12 s
2951(9)X
10 s
1896 4788(DEV_RAID)N
12 s
2903(10)X
10 s
1896 4896(DEV_DEBUG)N
12 s
2903(11)X
10 s
1896 5004(DEV_MOUSE)N
12 s
2903(12)X
10 f
1848 5016(iiiiiiiiiiiiiiiiiiiiiiiii)N
1848(c)X
4920(c)Y
4824(c)Y
4728(c)Y
4632(c)Y
4536(c)Y
4440(c)Y
4344(c)Y
4248(c)Y
4152(c)Y
4056(c)Y
3960(c)Y
3864(c)Y
3768(c)Y
3672(c)Y
3576(c)Y
3047 5016(c)N
4920(c)Y
4824(c)Y
4728(c)Y
4632(c)Y
4536(c)Y
4440(c)Y
4344(c)Y
4248(c)Y
4152(c)Y
4056(c)Y
3960(c)Y
3864(c)Y
3768(c)Y
3672(c)Y
3576(c)Y
11 s
1 f
880 5397(Table)N
1103(7.)X
1191(De\256nitions)X
1605(for)X
1729(device)X
1981(types.)X

17 p
%%Page: 17 17
11 s 11 xH 0 xS 1 f
12 s
3 f
1 f
4080 684(17)N
3 f
720 972(16.)N
908(FS_LINK)X
1 f
1405(This)X
1620(creates)X
1932(another)X
2266(directory)X
2659(entry)X
2902(to)X
3022(an)X
3158(existing)X
3508(object.)X
3837(The)X
4032(two)X
720 1080(objects)N
1028(are)X
1181(restricted)X
1575(to)X
1685(be)X
1811(within)X
2092(the)X
2245(same)X
2478(\256le)X
2636(system)X
2938(domain.)X
3309(The)X
3493(request)X
3805(and)X
3978(reply)X
720 1188(messages)N
1112(have)X
1323(the)X
1470(same)X
1697(format)X
1983(as)X
10 s
2088(FS_RENAME)X
12 s
2554(.)X
2631(This)X
2831(is)X
2925(an)X
3046(operation)X
3440(on)X
3566(two)X
3740(pathnames,)X
720 1296(and)N
883(the)X
1025(comments)X
1445(regarding)X
1838(pathname)X
2237(redirection)X
2679(from)X
10 s
2886(FS_RENAME)X
12 s
3376(apply.)X
3 f
720 1608(17.)N
889(FS_SYM_LINK)X
1 f
1628(This)X
1824(is)X
1913(de\256ned)X
2222(but)X
2371(not)X
2520(yet)X
2664(supported.)X
3117(Instead,)X
3445(symbolic)X
3824(links)X
4037(and)X
720 1716(remote)N
1014(links)X
1227(are)X
1371(created)X
1676(by)X
1798(creating)X
2135(a)X
2204(\256le)X
2353(using)X
10 s
2583(FS_OPEN)X
12 s
2946(and)X
3111(type)X
10 s
3298(FS_SYMBOLIC_LINK)X
12 s
4096(or)X
10 s
720 1824(FS_REMOTE_LINK)N
12 s
1409(,)X
1471(and)X
1648(then)X
1852(writing)X
2168(the)X
2324(value)X
2571(of)X
2689(the)X
2846(link)X
3035(with)X
10 s
3241(FS_WRITE)X
12 s
3623(.)X
3710(This)X
3920(should)X
720 1932(change)N
1034(because)X
1380(it)X
1475(interacts)X
1842(poorly)X
2133(with)X
2344(systems)X
2688(that)X
2873(have)X
3095(a)X
3178(different)X
3550(format)X
3847(for)X
3999(their)X
720 2040(remote)N
1025(links.)X
1297(\(For)X
1499(example,)X
1887(for)X
2036(no)X
2169(good)X
2398(reason)X
2686(Sprite)X
2953(includes)X
3311(a)X
3392(null)X
3580(character)X
3972(in)X
4085(its)X
720 2148 0.2548(implementation)AN
1357(of)X
1467(symbolic)X
1850(links,)X
2091(while)X
2335(UNIX)X
2604(does)X
2810(not.)X
3011(NFS)X
3216(access)X
3492(to)X
3597(Sprite)X
3857(are)X
4005(con-)X
720 2256(fused)N
963(by)X
1094(this,)X
1292(and)X
1466(it)X
1555(is)X
1654(possible)X
2004(to)X
2114(create)X
2380(bad)X
2554(symbolic)X
2942(links)X
3164(on)X
3295(an)X
3422(NFS)X
3633(server)X
3904(via)X
4058(the)X
720 2364(Sprite)N
974(NFS)X
1173(pseudo-\256le-system.\))X
3 f
720 2676(18.)N
890(FS_GET_ATTR)X
1 f
1642(This)X
1840(is)X
1931(used)X
2134(to)X
2236(get)X
2381(the)X
2526(attributes)X
2912(of)X
3019(the)X
3164(object)X
3427(behind)X
3716(an)X
3834(open)X
4048(I/O)X
720 2784(stream.)N
1057(The)X
1239(parameter)X
1657(area)X
1850(of)X
1962(the)X
2112(request)X
2422(contain)X
2737(a)X
2811(Fs_FileID,)X
3255(which)X
3521(has)X
3680(been)X
3893(de\256ned)X
720 2892(above.)N
1037(This)X
1247(is)X
1350(the)X
1507(same)X
1745(as)X
1865(the)X
2023(ioFileID)X
2389(returned)X
2750(from)X
2977(an)X
10 s
3104(FS_OPEN)X
12 s
3441(.)X
3529(The)X
3719(request)X
4037(and)X
720 3000(reply)N
950(data)X
1142(areas)X
1371(are)X
1520(empty.)X
1840(The)X
2021(reply)X
2250(parameter)X
2667(area)X
2859(contains)X
3211(a)X
3285(Fs_Attributes)X
3839(structure)X
720 3108(de\256ned)N
1027(below.)X
1040 3249(typedef)N
1353(struct)X
1591(Fs_Attributes)X
2138({)X
1328 3357(int)N
1904(serverID;)X
1328 3465(int)N
1904(domain;)X
1328 3573(int)N
1904(\256leNumber;)X
1328 3681(int)N
1904(type;)X
1328 3789(int)N
1904(size;)X
1328 3897(int)N
1904(numLinks;)X
1328 4005(unsigned)N
1699(int)X
1904(permissions;)X
1328 4113(int)N
1904(uid;)X
1328 4221(int)N
1904(gid;)X
1328 4329(int)N
1904(devServerID;)X
1328 4437(int)N
1904(devType;)X
1328 4545(int)N
1904(devUnit;)X
1328 4653(Time)N
1904 0.3562(createTime;)AX
1328 4761(Time)N
1904(accessTime;)X
1328 4869(Time)N
1904(descModifyTime;)X
1328 4977(Time)N
1904(dataModifyTime;)X
1328 5085(int)N
1904(blocks;)X
1328 5193(int)N
1904(blockSize;)X
1328 5301(int)N
1904(version;)X
1328 5409(int)N
1904(userType;)X
1328 5517(int)N
1904(pad[4];)X
1040 5625(})N
1110(Fs_Attributes;)X

18 p
%%Page: 18 18
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(18)N
3 f
720 972(19.)N
888(FS_SET_ATTR)X
1 f
1615(This)X
1810(is)X
1898(used)X
2098(to)X
2198(set)X
2330(the)X
2473(attributes)X
2857(of)X
2962(an)X
3078(object)X
3339(behind)X
3626(an)X
3742(I/O)X
3895(stream.)X
720 1080(The)N
905(request)X
1218(parameters)X
1676(contain)X
1994(the)X
2146(FsRemoteSetAttrParams)X
3131(structure,)X
3526(which)X
3795(is)X
3893(de\256ned)X
720 1188(below.)N
1027(The)X
1201(request)X
1503(data)X
1688(area,)X
1897(reply)X
2119(data)X
2304(area,)X
2513(and)X
2676(reply)X
2898(parameter)X
3308(area)X
3493(are)X
3635(all)X
3756(empty.)X
1040 1329(typedef)N
1353(struct)X
1591(FsRemoteSetAttrParams)X
2566({)X
1328 1437(Fs_FileID)N
1904(\256leID;)X
1328 1545(Fs_UserIDs)N
1904(ids;)X
1328 1653(Fs_Attributes)N
1904(attrs;)X
1328 1761(int)N
1904(\257ags;)X
1040 1869(})N
1110(FsRemoteSetAttrParams;)X
720 2010(The)N
896(\256leID)X
1146(identi\256es)X
1525(the)X
1670(object,)X
1957(and)X
2123(was)X
2299(returned)X
2647(as)X
2754(the)X
2899(ioFileID)X
3252(from)X
3466(the)X
10 s
3607(FS_OPEN)X
12 s
3971(RPC.)X
720 2118(The)N
899(Fs_UserIDs)X
1385(structure)X
1751(is)X
1844(needed)X
2146(to)X
2250(verify)X
2509(that)X
2683(the)X
2829(attributes)X
3216(can)X
3378(be)X
3497(changed,)X
3870(and)X
4037(this)X
720 2226(has)N
873(been)X
1080(de\256ned)X
1388(above)X
1643(with)X
10 s
1835(FS_OPEN)X
12 s
2172(.)X
2245(The)X
2421(\257ags)X
2628(\256eld)X
2825(indicates)X
3194(which)X
3455(attributes)X
3840(are)X
3984(to)X
4085(be)X
720 2334(set.)N
899(These)X
1153(\257ags)X
1358(are)X
1500(described)X
1893(in)X
1992(Table)X
2236(8.)X
3 f
720 2646(20.)N
898(FS_GET_ATTR_PATH)X
1 f
1972(This)X
2177(is)X
2275(used)X
2485(to)X
2594(get)X
2746(the)X
2898(attributes)X
3291(of)X
3405(a)X
3482(\256le)X
3639(system)X
3940(object)X
720 2754(from)N
932(the)X
1075(\256le)X
1223(server.)X
1531(This)X
1727(is)X
1816(an)X
1932(operation)X
2321(on)X
2442(a)X
2509(pathname,)X
2932(so)X
3041(the)X
3183(request)X
3485(data)X
3670(area)X
3855(contains)X
720 2862(a)N
803(null)X
993(terminated)X
1446(pathname.)X
1909(The)X
2099(request)X
2417(parameters)X
2880(are)X
3038(the)X
3197(Fs_OpenArgs)X
3770(previously)X
10 f
1041 3003(i)N
1070(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1 f
2084 3111(Set)N
2231(Attribute)X
2603(Flags)X
10 f
1041 3115(i)N
1070(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1041 3131(i)N
1070(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1 f
1089 3231(Value)N
1727(Name)X
2861(Description)X
10 f
1041 3243(i)N
1070(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1 f
1089 3351(0x1F)N
10 s
1463(FS_SET_ALL_ATTRS)X
12 s
2366(Set)X
2538(all)X
2683(the)X
2849(attributes)X
3256(possible.)X
3667(See)X
2366 3459(the)N
2508(following)X
2906(de\256nitions.)X
1089 3567(0x01)N
10 s
1463(FS_SET_TIMES)X
12 s
2366(Set)X
2549(the)X
2727(access)X
3034(and)X
3234(modify)X
3573(times.)X
2366 3675(Used)N
2587(to)X
2686(implement)X
3123(UNIX)X
3386(utimes\(\).)X
1089 3783(0x02)N
10 s
1463(FS_SET_MODE)X
12 s
2366(Set)X
2522(the)X
2673(permissions.)X
3214(Used)X
3445(to)X
3554(imple-)X
2366 3891(ment)N
2583(UNIX)X
2846(chmod\(\).)X
1089 3999(0x04)N
10 s
1463(FS_SET_OWNER)X
12 s
2366(Set)X
2515(the)X
2659(owner)X
2925(and)X
3090(group.)X
3388(If)X
3479(either)X
3726(of)X
2366 4107(the)N
2574(gid)X
2787(and)X
3015(uid)X
3227(\256elds)X
3524(in)X
3688(the)X
2366 4215(Fs_Attributes)N
2937(structure)X
3322(are)X
3488(-1,)X
3640(then)X
2366 4323(they)N
2556(are)X
2698(not)X
2845(changed.)X
1089 4431(0x08)N
10 s
1463(FS_SET_FILE_TYPE)X
12 s
2366(Set)X
2536(the)X
2701(user-de\256ned)X
3223(\256le)X
3394(type.)X
3656(The)X
2366 4539(user-de\256ned)N
2894(types)X
3150(currently)X
3551(in)X
3678(use)X
2366 4647(are)N
2508(de\256ned)X
2815(in)X
2914(the)X
3056(next)X
3246(table.)X
1089 4755(0x10)N
10 s
1463(FS_SET_DEVICE)X
12 s
2366(Set)X
2542(the)X
2713(device)X
3019(attributes.)X
3480(Used)X
3731(to)X
2366 4863(implement)N
2842(Fs_MakeDevice)X
3535(\(UNIX)X
2366 4971(mknod\(\)\).)N
10 f
1041 4983(i)N
1070(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1041(c)X
4923(c)Y
4827(c)Y
4731(c)Y
4635(c)Y
4539(c)Y
4443(c)Y
4347(c)Y
4251(c)Y
4155(c)Y
4059(c)Y
3963(c)Y
3867(c)Y
3771(c)Y
3675(c)Y
3579(c)Y
3483(c)Y
3387(c)Y
3291(c)Y
3195(c)Y
3099(c)Y
3854 4983(c)N
4923(c)Y
4827(c)Y
4731(c)Y
4635(c)Y
4539(c)Y
4443(c)Y
4347(c)Y
4251(c)Y
4155(c)Y
4059(c)Y
3963(c)Y
3867(c)Y
3771(c)Y
3675(c)Y
3579(c)Y
3483(c)Y
3387(c)Y
3291(c)Y
3195(c)Y
3099(c)Y
11 s
1 f
880 5364(Table)N
1103(8.)X
1191(Values)X
1457(for)X
1581(the)X
1711(\257ags)X
1899(\256eld)X
2078(in)X
2169(FsRemoteSetAttrParams.)X

19 p
%%Page: 19 19
11 s 11 xH 0 xS 1 f
12 s
3 f
1 f
4080 684(19)N
10 f
1192 1005(i)N
1208(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1 f
1983 1113(User-de\256ned)N
2503(File)X
2677(Types)X
10 f
1192 1117(i)N
1208(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1192 1133(i)N
1208(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
10 s
1 f
1240 1233(FS_USER_TYPE_UNDEFINED)N
12 s
2455(0)X
2647(Not)X
2815(used.)X
10 s
1240 1341(FS_USER_TYPE_TMP)N
12 s
2455(1)X
2647(Temporary)X
3099(\256le.)X
10 s
1240 1449(FS_USER_TYPE_SWAP)N
12 s
2455(2)X
2647(VM)X
2825(swap)X
3046(\256le.)X
10 s
1240 1557(FS_USER_TYPE_OBJECT)N
12 s
2455(3)X
2647(Program)X
3002(object)X
3262(\256le.)X
10 s
1240 1665(FS_USER_TYPE_BINARY)N
12 s
2455(4)X
2647(Complete)X
3046(program)X
3396(image.)X
10 s
1240 1773(FS_USER_TYPE_OTHER)N
12 s
2455(5)X
2647(Everything)X
3099(else.)X
10 f
1192 1785(i)N
1208(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1192(c)X
1773(c)Y
1677(c)Y
1581(c)Y
1485(c)Y
1389(c)Y
1293(c)Y
1197(c)Y
1101(c)Y
3704 1785(c)N
1773(c)Y
1677(c)Y
1581(c)Y
1485(c)Y
1389(c)Y
1293(c)Y
1197(c)Y
1101(c)Y
11 s
1 f
880 2166(Table)N
1103(9.)X
1191(Values)X
1457(for)X
1581(the)X
1711(user-de\256ned)X
2167(\256le)X
2302(type)X
2476(attribute.)X
12 s
720 2403(described.)N
1191(The)X
1395(reply)X
1647(parameters)X
2124(are)X
2296(a)X
2393(Fs_GetAttrResultsParam)X
3408(structure,)X
3823(which)X
4112(is)X
720 2511(de\256ned)N
1031(below.)X
1342(If)X
1433(the)X
1578(return)X
1835(code)X
2044(is)X
10 s
2131(FS_LOOKUP_REDIRECT)X
12 s
3015(,)X
3066(then)X
3259(the)X
3404(reply)X
3629(data)X
3817(area)X
4005(con-)X
720 2619(tains)N
937(a)X
1015(returned)X
1371(pathname.)X
1829(NB:)X
2024(in)X
2134(this)X
2308(case)X
2509(there)X
2737(is)X
2 f
2836(no)X
1 f
2967(4)X
3050(bytes)X
3288(of)X
3404(padding)X
3750(in)X
3861(the)X
4015(data)X
720 2727(area!)N
961(\(Sorry)X
1230(for)X
1366(this)X
1529(ugly)X
1724(inconsistency.\))X
1040 2868(typedef)N
1353(union)X
1596(Fs_GetAttrResultsParam)X
2581({)X
1328 2976(int)N
1616(pre\256xLength;)X
1328 3084(struct)N
1566(AttrResults)X
2028({)X
1328 3192(Fs_FileID)N
1904(\256leID;)X
1328 3300(Fs_Attributes)N
1904(attrs;)X
1328 3408(})N
1398(attrResults;)X
1040 3516(})N
1110(Fs_GetAttrResultsParam;)X
720 3657(The)N
920(pre\256xLength)X
1467(is)X
1581(returned)X
1952(with)X
2173(the)X
10 s
2337(FS_LOOKUP_REDIRECT)X
12 s
3271(status.)X
3588(Otherwise,)X
4058(the)X
720 3765(\256leID)N
982(is)X
1084(the)X
1240(same)X
1476(as)X
1594(the)X
1750(ioFileID)X
2114(returned)X
2473(from)X
2698(an)X
10 s
2823(FS_OPEN)X
12 s
3160(,)X
3222(and)X
3398(this)X
3574(is)X
3675(used)X
3888(to)X
4000(do)X
4133(a)X
10 s
720 3873(FS_GET_IO_ATTR)N
12 s
1406(RPC)X
1615(with)X
1814(the)X
1960(I/O)X
2116(server.)X
2428(The)X
2607(Fs_Attributes)X
3159(structure)X
3525(has)X
3682(been)X
3893(de\256ned)X
720 3981(above.)N
3 f
720 4293(21.)N
898(FS_SET_ATTR_PATH)X
1 f
1951(This)X
2157(is)X
2256(used)X
2467(to)X
2577(set)X
2719(the)X
2872(attributes)X
3266(of)X
3381(a)X
3459(named)X
3751(\256le)X
3909(system)X
720 4401(object.)N
1032(The)X
1210(request)X
1516(data)X
1705(area)X
1893(contains)X
2241(a)X
2311(null)X
2488(terminated)X
2928(pathname.)X
3378(The)X
3555(request)X
3860(parame-)X
720 4509(ters)N
884(are)X
1027(de\256ned)X
1335(below.)X
1643(The)X
1818(reply)X
2042(data)X
2229(area)X
2416(contains)X
2763(a)X
2832(new)X
3018(pathname)X
3419(if)X
3504(the)X
3648(return)X
3904(code)X
4112(is)X
10 s
720 4617(FS_LOOKUP_REDIRECT)N
12 s
1604(.)X
1714(\(No)X
1949(padding)X
2345(bytes.\))X
2714(The)X
2950(reply)X
3234(data)X
3481(area)X
3727(contains)X
4133(a)X
720 4725(Fs_GetAttrResultsParam)N
1822(structure)X
2300(which)X
2676(has)X
2945(been)X
3268(de\256ned)X
3692(above.)X
4112(If)X
10 s
720 4833(FS_LOOKUP_REDIRECT)N
12 s
1674(is)X
1808(returned)X
2199(then)X
2435(only)X
2676(the)X
2863(pre\256xLength)X
3429(is)X
3562(de\256ned)X
3914(in)X
4058(the)X
720 4941(Fs_GetAttrResultsParam.)N
1040 5082(typedef)N
1353(struct)X
1591(Fs_SetAttrArgs)X
2217({)X
1328 5190(Fs_OpenArgs)N
1904(openArgs;)X
1328 5298(Fs_Attributes)N
1904(attr;)X
1328 5406(int)N
1616(\257ags;)X
1040 5514(})N
1110(Fs_SetAttrArgs;)X
720 5655(Each)N
941(of)X
1049(these)X
1275(\256elds)X
1511(have)X
1721(been)X
1931(described)X
2329(above.)X
2636(The)X
2815(\257ags)X
3025(de\256ne)X
3289(which)X
3553(attributes)X
3941(to)X
4045(set.)X
720 5763(See)N
10 s
879(FS_SET_ATTR)X
12 s
1422(for)X
1558(a)X
1625(description.)X

20 p
%%Page: 20 20
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(20)N
3 f
720 972(22.)N
897(FS_GET_IO_ATTR)X
1 f
1815(This)X
2020(is)X
2118(used)X
2328(to)X
2437(get)X
2589(the)X
2741(attributes)X
3134(that)X
3313(are)X
3465(maintained)X
3928(by)X
4058(the)X
720 1080(I/O)N
877(server,)X
1165(typically)X
1532(the)X
1679(access)X
1954(and)X
2122(modify)X
2429(times.)X
2715(The)X
2894(general)X
3207(approach)X
3589(to)X
3692(getting)X
3988(attri-)X
720 1188(butes)N
953(is)X
1047(to)X
1152(\256rst)X
1331(contact)X
1641(the)X
1790(\256le)X
1944(server)X
2210(\(with)X
2444(either)X
10 s
2691(FS_GET_ATTR)X
12 s
3255(or)X
10 s
3362(FS_GET_ATTR_PATH)X
12 s
4144(\))X
720 1296(to)N
819(get)X
961(the)X
1103(initial)X
1353(version)X
1660(of)X
1764(the)X
1906(attributes,)X
2313(and)X
2476(then)X
2666(use)X
2818(this)X
2981(RPC)X
3186(to)X
3285(get)X
3427(the)X
3569(most)X
3780(up-to-date)X
720 1404(access)N
996(and)X
1165(modify)X
1473(times.)X
1760(This)X
1961(is)X
2055(only)X
2256(applicable)X
2683(to)X
2788(remote)X
3086(devices)X
3405(and)X
3574(remote)X
3872(pseudo-)X
720 1512(devices.)N
920 1653(The)N
1094(request)X
1396(parameter)X
1806(area)X
1991(contains)X
2336(a)X
2403(Fs_GetAttrResultsParam)X
3388(that)X
3558(has)X
3711(been)X
3918(initial-)X
720 1761(ized)N
911(by)X
1037(a)X
10 s
1106(FS_GET_ATTR)X
12 s
1669(or)X
10 s
1775(FS_GET_ATTR_PATH)X
12 s
2586(RPC.)X
2844(The)X
3023(reply)X
3250(parameter)X
3665(area)X
3855(contains)X
720 1869(a)N
787(Fs_Attributes)X
1334(structure.)X
1743(The)X
1917(request)X
2219(and)X
2382(reply)X
2604(data)X
2789(areas)X
3011(are)X
3153(empty.)X
3 f
720 2181(23.)N
888(FS_SET_IO_ATTR)X
1 f
1775(This)X
1971(is)X
2060(used)X
2261(to)X
2361(update)X
2643(the)X
2786(attributes)X
3170(that)X
3340(are)X
3483(maintained)X
3937(by)X
4058(the)X
720 2289(I/O)N
890(server,)X
1191(typically)X
1570(the)X
1729(access)X
2016(and)X
2196(modify)X
2515(times.)X
2813(Setting)X
3127(attributes)X
3527(is)X
3632(structured)X
4058(the)X
720 2397(same)N
959(as)X
1080(with)X
1292(getting)X
1601(them,)X
1859(so)X
1985(the)X
2144(\256le)X
2308(server)X
2585(is)X
2691(contacted)X
3103(\256rst)X
3294(\(with)X
10 s
3535(FS_SET_ATTR)X
12 s
4096(or)X
10 s
720 2505(FS_SET_ATTR_PATH)N
12 s
1488(\).)X
1610(The)X
1802(complete)X
2198(attributes)X
2599(are)X
2759(returned)X
3121(from)X
3349(these)X
3588(calls,)X
3830(and)X
4010(then)X
720 2613(used)N
920(as)X
1024(the)X
1166(request)X
1468(parameters)X
1915(in)X
2014(this)X
2177(RPC.)X
920 2754(The)N
1097(request)X
1402(message)X
1755(contains)X
2103(a)X
2173(FsRemoteSetAttrParams)X
3151(structure,)X
3539(which)X
3801(is)X
3893(de\256ned)X
720 2862(below.)N
1048(The)X
1242(request)X
1564(data)X
1769(area,)X
1998(the)X
2160(reply)X
2402(parameter)X
2832(area,)X
3061(and)X
3244(the)X
3406(reply)X
3648(data)X
3853(area)X
4058(are)X
720 2970(empty.)N
1040 3111(typedef)N
1353(struct)X
1591(FsRemoteSetAttrParams)X
2566({)X
1328 3219(Fs_FileID)N
1904(\256leID;)X
1328 3327(Fs_UserIDs)N
1904(ids;)X
1328 3435(Fs_Attributes)N
1904(attrs;)X
1328 3543(int)N
1616(\257ags;)X
1040 3651(})N
1110(FsRemoteSetAttrParams;)X
720 3792(The)N
895(\256leID)X
1144(identi\256es)X
1522(the)X
1665(object,)X
1950(and)X
2114(is)X
2203(the)X
2346(same)X
2569(as)X
2674(the)X
2817(ioFileID)X
3168(returned)X
3514(from)X
3726(an)X
10 s
3839(FS_OPEN)X
12 s
720 3900(RPC.)N
978(The)X
1157(Fs_UserIDs)X
1642(and)X
1809(Fs_Attributes)X
2360(have)X
2570(been)X
2780(described)X
3177(above.)X
3483(The)X
3661(\257ags)X
3870(indicate)X
720 4008(what)N
931(attributes)X
1314(to)X
1413(set,)X
1568(and)X
1731(these)X
1953(are)X
2095(indicated)X
2473(above)X
2727(as)X
2831(well.)X
3 f
720 4320(24.)N
892(FS_DEV_OPEN)X
1 f
1645(This)X
1844(is)X
1936(used)X
2140(to)X
2243(complete)X
2625(an)X
2744(Fs_Open)X
3118(\(UNIX)X
3417(open\(\)\))X
3728(of)X
3836(a)X
3908(remote)X
720 4428(device)N
1012(or)X
1131(remote)X
1438(pseudo-device.)X
2081(This)X
2291(is)X
2394(done)X
2620(after)X
2836(an)X
10 s
2962(FS_OPEN)X
12 s
3338(RPC)X
3558(has)X
3725(returned)X
4085(an)X
720 4536(ioFileID)N
1085(with)X
1295(a)X
1377(type)X
1583(of)X
10 s
1699(FSIO_RMT_DEVICE_STREAM)X
12 s
2823(or)X
10 s
2939(FSIO_RMT_PDEV_STREAM)X
12 s
3938(.)X
4026(The)X
720 4644(request)N
1060(parameter)X
1508(area)X
1730(contains)X
2112(a)X
2216(FsDeviceRemoteOpenParam)X
3394(structure,)X
3816(which)X
4112(is)X
720 4752(de\256ned)N
1034(below.)X
1348(The)X
1529(reply)X
1759(parameter)X
2177(area)X
2370(contains)X
2723(a)X
2798(new)X
2990(ioFileID)X
3348(so)X
3465(the)X
3615(I/O)X
3775(server)X
4042(can)X
720 4860(modify)N
1022(this)X
1185(if)X
1268(it)X
1346(wants)X
1594(to.)X
1741(The)X
1915(request)X
2217(and)X
2380(reply)X
2602(data)X
2787(areas)X
3009(are)X
3151(empty.)X
1040 5001(typedef)N
1353(struct)X
1591(FsDeviceRemoteOpenParam)X
2732({)X
1328 5109(Fs_FileID)N
1904(\256leID;)X
1328 5217(int)N
1616(useFlags;)X
1328 5325(int)N
1616(dataSize;)X
1328 5433(FsrmtUnionData)N
2192(openData;)X
1040 5541(})N
1110(FsDeviceRemoteOpenParam;)X
720 5682(The)N
907(\256leID)X
1168(is)X
1269(the)X
1424(ioFileID)X
1787(returned)X
2145(from)X
10 s
2365(FS_OPEN)X
12 s
2702(.)X
2787(The)X
2974(useFlags)X
3347(are)X
3503(the)X
3659(newUseFlags)X
720 5790(returned)N
1074(from)X
10 s
1290(FS_OPEN)X
12 s
1627(.)X
1708(The)X
1891(dataSize)X
2251(indicates)X
2627(the)X
2778(number)X
3104(of)X
3216(valid)X
3441(bytes)X
3676(in)X
3783(openData.)X

21 p
%%Page: 21 21
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(21)N
720 972(The)N
894(FsrmtUnionData)X
1564(has)X
1716(been)X
1922(described)X
2315(previously.)X
3 f
720 1284(25.)N
888(FS_SELECT)X
1 f
1498(This)X
1693(RPC)X
1898(is)X
1986(used)X
2186(to)X
2285(poll)X
2459(a)X
2526(remote)X
2818(I/O)X
2970(server)X
3229(to)X
3329(determine)X
3740(if)X
3824(an)X
3940(object)X
720 1392(is)N
820(ready)X
1070(for)X
1218(I/O.)X
1430(The)X
1616(input)X
1850(parameters)X
2309(include)X
2629(a)X
2708(\256leID)X
2967(that)X
3147(identi\256es)X
3535(the)X
3688(object,)X
3983(three)X
720 1500(\256elds)N
969(that)X
1155(correspond)X
1623(to)X
1739(the)X
1898(read,)X
2129(write,)X
2392(and)X
2572(execute)X
2908(state)X
3126(of)X
3247(the)X
3406(object,)X
3707(and)X
3888(process)X
720 1608(information)N
1214(used)X
1429(for)X
1580(remote)X
1887(waiting.)X
2263(If)X
2366(a)X
2448(\256eld)X
2658(is)X
2760(non-zero)X
3140(it)X
3232(means)X
3516(an)X
3645(application)X
4112(is)X
720 1716(querying)N
1098(that)X
1279(state.)X
1541(The)X
1728(return)X
1995(parameters)X
2455(contains)X
2813(copies)X
3096(of)X
3213(these)X
3448(\256elds,)X
3717(and)X
3893(the)X
4048(I/O)X
720 1824(server)N
994(should)X
1289(clear)X
1516(a)X
1598(\256eld)X
1808(to)X
1922(zero)X
2127(if)X
2225(that)X
2408(state)X
2623(is)X
2725(not)X
2886(applicable.)X
3369(In)X
3487(this)X
3664(case,)X
3892(the)X
4048(I/O)X
720 1932(server)N
984(should)X
1269(save)X
1469(the)X
1616 0.1953(Sync_RemoteWaiter)AX
2448(information)X
2932(so)X
3046(it)X
3129(can)X
3292(notify)X
3551(the)X
3698(waiting)X
4016(pro-)X
720 2040(cess)N
904(when)X
1136(the)X
1278(objects)X
1575(state)X
1776(changes.)X
1040 2181(typedef)N
1353(struct)X
1591(FsRemoteSelectParams)X
2524({)X
1328 2289(Fs_FileID)N
1904(\256leID;)X
1328 2397(int)N
1616(read;)X
1328 2505(int)N
1616(write;)X
1328 2613(int)N
1616(except;)X
1328 2721 0.1953(Sync_RemoteWaiter)AN
2155(waiter;)X
1040 2829(})N
1110(FsRemoteSelectParams;)X
1040 3045(typedef)N
1353(struct)X
1591(FsRemoteSelectResults)X
2524({)X
1328 3153(int)N
1616(read;)X
1328 3261(int)N
1616(write;)X
1328 3369(int)N
1616(except;)X
1040 3477(})N
1110(FsRemoteSelectResults;)X
720 3618(NB:)N
904(The)X
1078(read,)X
1292(write,)X
1538(and)X
1701(except)X
1977(\256elds)X
2209(are)X
2351(de\256ned)X
2658(to)X
2758(be)X
2874(zero)X
3065(or)X
3170(non-zero,)X
3561(and)X
3725(the)X
3868(\256elds)X
4101(in)X
720 3726(the)N
865(result)X
1106(should)X
1389(be)X
1507(exact)X
1738(copies)X
2011(of)X
2118(the)X
2263(request)X
2568(\256elds,)X
2827(or)X
2934(they)X
3127(should)X
3410(be)X
3528(reset)X
3737(to)X
3839(zero.)X
4080(\(If)X
720 3834(non-zero)N
1096(they)X
1296(happen)X
1609(to)X
1719(be)X
1845(the)X
1998(bit)X
2135(that)X
2315(corresponds)X
2814(to)X
2924(the)X
3077(bit)X
3214(in)X
3324(the)X
3477(select)X
3732(mask.)X
4018(It)X
4112(is)X
720 3942(only)N
915(appropriate)X
1378(to)X
1477(copy)X
1688(the)X
1830(bit)X
1956(or)X
2060(clear)X
2272(it.)X
2398(Don't)X
2646(blindly)X
2943(set)X
3074(the)X
3216(reply)X
3438(\256elds)X
3670(to)X
3769(1.\))X
3 f
720 4254(26.)N
894(FS_IO_CONTROL)X
1 f
1777(This)X
1978(is)X
2073(used)X
2280(to)X
2386(do)X
2513(an)X
2635(object-speci\256c)X
3228(operation.)X
3671(A)X
3771(number)X
4096(of)X
720 4362(generic)N
1038(I/O)X
1200(controls)X
1544(are)X
1696(de\256ned)X
2013(below,)X
2306(and)X
2479(the)X
2631 0.2548(implementation)AX
3271(of)X
3385(different)X
3751(objects)X
4058(are)X
720 4470(free)N
898(to)X
1001(de\256ne)X
1264(more)X
1490(I/O)X
1646(controls.)X
2032(The)X
2210(request)X
2516(parameter)X
2930(area)X
3119(contains)X
3469(a)X
3541(FsrmtIOCParam)X
720 4578(structure,)N
1127(which)X
1408(is)X
1518(de\256ned)X
1847(below.)X
2176(The)X
2372(reply)X
2616(parameter)X
3047(area)X
3253(contains)X
3619(a)X
3707(Fs_IOReply)X
720 4686(structure)N
1088(that)X
1264(de\256nes)X
1567(the)X
1716(amount)X
2036(of)X
2148(data)X
2341(returned,)X
2718(and)X
2889(a)X
2964(signal)X
3226(to)X
3333(generate,)X
3716(if)X
3807(any.)X
4026(The)X
720 4794(request)N
1028(and)X
1197(reply)X
1425(data)X
1616(areas)X
1844(contain)X
2158(data)X
2349(blocks)X
2630(that)X
2805(are)X
2953(uninterpreted)X
3497(by)X
3622(generic)X
3935(kernel)X
720 4902(code.)N
976(In)X
1082(particular,)X
1502(they)X
1694(cannot)X
1977(be)X
2094(byteswapped)X
2622(except)X
2900(by)X
3022(the)X
3166 0.2548(implementation)AX
3798(of)X
3904(the)X
4048(I/O)X
720 5010(control)N
1031(handler.)X
1406(The)X
1594(parameters)X
2055(include)X
2376(a)X
2456(byteOrder)X
2883(\256eld)X
3091(so)X
3213(the)X
3368(handler)X
3694(can)X
3865(detect)X
4133(a)X
720 5118(mismatch.)N
1178(In)X
1293(this)X
1467(case)X
1668(it)X
1757(should)X
2048(byteswap)X
2446(in)X
2556(the)X
2709(request)X
3022(data)X
3219(block)X
3469(so)X
3590(it)X
3680(can)X
3850(properly)X
720 5226(interpret)N
1091(it,)X
1213(and)X
1396(also)X
1595(byteswap)X
2002(the)X
2164(reply)X
2406(datablock)X
2825(so)X
2954(the)X
3116(application)X
3588(process)X
3919(on)X
4058(the)X
720 5334(remote)N
1012(client)X
1251(can)X
1409(properly)X
1759(interpret)X
2110(it.)X
1040 5475(typedef)N
1353(struct)X
1591(FsrmtIOCParam)X
2250({)X
1328 5583(Fs_FileID)N
1904(\256leID;)X
1328 5691(Fs_FileID)N
1904(streamID;)X
1328 5799(Proc_PID)N
1904(procID;)X

22 p
%%Page: 22 22
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(22)N
1136 972(Proc_PID)N
1616(familyID;)X
1328 1080(int)N
1616(command;)X
1328 1188(int)N
1616(inBufSize;)X
1328 1296(int)N
1616(outBufSize;)X
1328 1404(Fmt_Format)N
1904(format;)X
1328 1512(int)N
1616(uid;)X
1040 1620(})N
1110(FsrmtIOCParam;)X
720 1761(The)N
912(\256leID)X
1178(and)X
1359(streamID)X
1759(have)X
1983(been)X
2207(returned)X
2570(by)X
10 s
2705(FS_OPEN)X
12 s
3042(.)X
3133(The)X
3326(procID)X
3641(and)X
3823(familyID)X
720 1869(identify)N
1056(the)X
1210(process)X
1534(and)X
1709(its)X
1836(process)X
2160(group.)X
2468(The)X
2654(sizes)X
2877(indicate)X
3218(how)X
3418(much)X
3667(data)X
3863(is)X
3962(being)X
720 1977(sent)N
903(to)X
1006(the)X
1152(I/O)X
1308(server)X
1571(and)X
1738(the)X
1884(maximum)X
2303(amount)X
2620(that)X
2793(can)X
2955(be)X
3075(accepted)X
3442(in)X
3546(return.)X
3853(The)X
4032(for-)X
720 2085(mat)N
891(de\256nes)X
1189(a)X
1257(byte)X
1448(ordering,)X
1823(and)X
1987(it)X
2066(is)X
2155(used)X
2356(in)X
2456(conjunction)X
2936(with)X
3132(the)X
3275(Format)X
3578(library)X
3860(package)X
720 2193(to)N
824(do)X
949(byteswapping.)X
1560(The)X
1739(uid)X
1891(speci\256es)X
2251(the)X
2398(user)X
2587(ID)X
2717(of)X
2826(the)X
2973(application)X
3432(process.)X
3798(The)X
3978(com-)X
720 2301(mand)N
958(is)X
1046(the)X
1188(I/O)X
1340(control)X
1637(operation,)X
2049(and)X
2212(the)X
2354(generic)X
2662(ones)X
2862(are)X
3004(de\256ned)X
3311(below.)X
720 2442(1)N
792(IOC_REPOSITION)X
920 2550(Reposition)N
1365(the)X
1511(current)X
1812(access)X
2086(position)X
2424(of)X
2532(the)X
2678(I/O)X
2834(stream.)X
3167(The)X
3345(input)X
3572(data)X
3762(block)X
4005(con-)X
920 2658(tains)N
1126(the)X
1268(following)X
1666(structure)X
2027(to)X
2126(de\256ne)X
2385(the)X
2527(new)X
2711(access)X
2981(position.)X
1240 2799(#de\256ne)N
10 s
1547(IOC_BASE_ZERO)X
12 s
2392(0)X
1240 2907(#de\256ne)N
10 s
1547(IOC_BASE_CURRENT)X
12 s
2392(1)X
1240 3015(#de\256ne)N
10 s
1547(IOC_BASE_EOF)X
12 s
2392(2)X
1240 3231(typedef)N
1553(struct)X
1791(Ioc_RepositionArgs)X
2589({)X
1528 3339(int)N
1654(base;)X
1528 3447(int)N
1654(offset;)X
1240 3555(})N
1310(Ioc_RepositionArgs;)X
720 3729(2)N
792(IOC_GET_FLAGS)X
920 3837(Return)N
1208(the)X
1352(\257ag)X
1522(bits)X
1687(associated)X
2109(with)X
2306(an)X
2423(I/O)X
2577(stream.)X
2908(The)X
3084(reply)X
3308(data)X
3496(block)X
3737(contains)X
4085(an)X
920 3945(integer)N
1224(with)X
1431(the)X
1585(\257ag)X
1765(bits.)X
1988(The)X
2174(following)X
2583(bits)X
2757(are)X
2910(de\256ned)X
3228(for)X
3375(all)X
3507(objects,)X
3839(although)X
920 4053(other)N
1142(objects)X
1439(may)X
1629(de\256ne)X
1888(more)X
2110(\257ags.)X
1240 4194(#de\256ne)N
10 s
1547(IOC_GENERIC_FLAGS)X
12 s
2392(0xFF)X
1240 4302(#de\256ne)N
10 s
1528(IOC_APPEND)X
12 s
2104(0x01)X
1240 4410(#de\256ne)N
10 s
1547(IOC_NON_BLOCKING)X
12 s
2392(0x02)X
1240 4518(#de\256ne)N
10 s
1547(IOC_ASYNCHRONOUS)X
12 s
2392(0x04)X
1240 4626(#de\256ne)N
10 s
1547(IOC_CLOSE_ON_EXEC)X
12 s
2392(0x08)X
720 4800(3)N
792(IOC_SET_FLAGS)X
920 4908(Set)N
1071(the)X
1217(\257ags)X
1426(on)X
1551(an)X
1671(I/O)X
1828(stream.)X
2162(The)X
2341(request)X
2648(data)X
2838(block)X
3081(contains)X
3431(an)X
3551(integer)X
3848(which)X
4112(is)X
920 5016(to)N
1019(be)X
1134(new)X
1318(version)X
1625(of)X
1729(the)X
1871(\257ag)X
2039(word.)X
2308(It)X
2391(completely)X
2844(replaces)X
3184(the)X
3326(old)X
3473(\257ag)X
3641(word.)X
720 5157(4)N
792(IOC_SET_BITS)X
920 5265(Set)N
1073(individual)X
1494(bits)X
1663(in)X
1768(the)X
1916(\257ags)X
2127(word)X
2354(of)X
2464(an)X
2585(I/O)X
2743(stream.)X
3078(The)X
3259(request)X
3568(data)X
3760(block)X
4005(con-)X
920 5373(tains)N
1126(an)X
1241(integer)X
1533(with)X
1728(the)X
1870(desired)X
2172(bits)X
2335(set.)X
720 5514(5)N
792(IOC_CLEAR_BITS)X
920 5622(Clear)N
1153(individual)X
1568(bits)X
1731(in)X
1830(the)X
1972(\257ags)X
2177(word)X
2398(of)X
2503(an)X
2619(I/O)X
2772(stream.)X
3102(The)X
3277(request)X
3580(data)X
3766(block)X
4005(con-)X
920 5730(tains)N
1126(an)X
1241(integer)X
1533(with)X
1728(the)X
1870(desired)X
2172(bits)X
2335(set.)X

23 p
%%Page: 23 23
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(23)N
720 972(6)N
792(IOC_TRUNCATE)X
920 1080(Truncate)N
1296(an)X
1420(object)X
1689(to)X
1797(a)X
1873(speci\256ed)X
2248(length.)X
2570(The)X
2753(input)X
2985(data)X
3180(block)X
3428(contains)X
3783(an)X
3908(integer)X
920 1188(which)N
1179(is)X
1267(the)X
1409(desired)X
1711(length.)X
720 1329(7)N
792(IOC_LOCK)X
920 1437(Place)N
1154(an)X
1270(advisory)X
1626(lock)X
1817(on)X
1938(an)X
2054(object.)X
2364(Used)X
2587(to)X
2688(implement)X
3127(UNIX)X
3392(\257ock\(\).)X
3722(The)X
3898(request)X
920 1545(data)N
1122(block)X
1377(contains)X
1739(the)X
1898(following)X
2313(structure.)X
2739(If)X
2844(the)X
3003(lock)X
3210(cannot)X
3507(be)X
3638(obtained)X
4010(then)X
10 s
920 1653(FS_WOULD_BLOCK)N
12 s
1686(should)X
1970(be)X
2089(returned)X
2438(and)X
2605(the)X
2751(process)X
3068(information)X
3552(should)X
3837(be)X
3957(saved)X
920 1761(at)N
1014(the)X
1156(I/O)X
1308(server)X
1567(for)X
1703(a)X
1770(subsequent)X
10 s
2217(REMOTE_WAKEUP)X
12 s
2953(RPC)X
3158(back)X
3364(to)X
3463(the)X
3605(client.)X
1240 1902(typedef)N
1553(struct)X
1791(Ioc_LockArgs)X
2370({)X
1528 2010(int)N
1816(\257ags;)X
1528 2118(int)N
1816(hostID;)X
1528 2226(Proc_PID)N
2104(pid;)X
1528 2334(int)N
1816(token;)X
1240 2442(})N
1310(Ioc_LockArgs;)X
1240 2658(#de\256ne)N
10 s
1547(IOC_LOCK_SHARED)X
12 s
2392(0x1)X
1240 2766(#de\256ne)N
10 s
1547(IOC_LOCK_EXCLUSIVE)X
12 s
2680(0x2)X
1240 2874(#de\256ne)N
10 s
1547(IOC_LOCK_NO_BLOCK)X
12 s
2680(0x8)X
920 3015(The)N
1094(\257ag)X
1262(bits)X
1425(are)X
1567(de\256ned)X
1874(above,)X
2152(and)X
2315(specify)X
2617(if)X
2700(the)X
2842(lock)X
3032(should)X
3312(be)X
3428(exclusive,)X
3841(in)X
3941(which)X
920 3123(case)N
1132(it)X
1232(is)X
1342(blocked)X
1693(by)X
1835(either)X
2101(an)X
2238(existing)X
2589(exclusive)X
2999(lock)X
3211(or)X
3336(by)X
3477(a)X
3565(shared)X
3861(lock,)X
4096(or)X
920 3231(whether)N
1256(it)X
1336(is)X
1426(a)X
1496(shared)X
1774(lock,)X
1991(in)X
2093(which)X
2355(case)X
2548(it)X
2629(can)X
2790(co-exist)X
3122(with)X
3320(other)X
3545(shared)X
3823(locks)X
4053(but)X
920 3339(not)N
1077(an)X
1202(exclusive)X
1600(lock.)X
1848(If)X
10 s
1942(IOC_LOCK_NO_BLOCK)X
12 s
2839(is)X
2936(set)X
3076(then)X
3275(the)X
3426(application)X
3888(process)X
920 3447(will)N
1096(not)X
1245(be)X
1362(blocked)X
1693(by)X
1815(the)X
1959(client)X
2200(in)X
2301(the)X
2445(case)X
2637(of)X
10 s
2740(FS_WOULD_BLOCK)X
12 s
3478(,)X
3529(so)X
3641(the)X
3786(I/O)X
3941(server)X
920 3555(doesn't)N
1227(have)X
1433(to)X
1532(remember)X
1947(the)X
2089(process)X
2401(information.)X
720 3696(8)N
792(IOC_UNLOCK)X
920 3804(Remove)N
1265(an)X
1380(advisory)X
1735(lock)X
1925(on)X
2045(an)X
2160(object.)X
2468(The)X
2642(complement)X
3143(of)X
10 s
3243(IOC_LOCK)X
12 s
3639(.)X
720 3945(9)N
792(IOC_NUM_READABLE)X
920 4053(Returns)N
1247(the)X
1393(number)X
1715(of)X
1823(bytes)X
2054(available)X
2431(on)X
2555(an)X
2675(I/O)X
2832(stream.)X
3166(The)X
3345(input)X
3572(data)X
3762(block)X
4005(con-)X
920 4161(tains)N
1131(the)X
1277(current)X
1578(offset)X
1825(of)X
1933(the)X
2079(stream.)X
2412(The)X
2590(return)X
2848(data)X
3037(block)X
3279(contains)X
3628(the)X
3774(number)X
4096(of)X
920 4269(bytes)N
1147(available)X
1520(on)X
1640(the)X
1782(stream.)X
720 4410(10)N
840(IOC_GET_OWNER)X
920 4518(Returns)N
1253(the)X
1405(owner)X
1679(of)X
1793(an)X
1918(I/O)X
2080(stream,)X
2395(which)X
2664(is)X
2762(either)X
3016(a)X
3093(process)X
3415(or)X
3529(a)X
3606(process)X
3928(group.)X
920 4626(The)N
1096(return)X
1352(data)X
1539(block)X
1779(contains)X
2126(the)X
2270(following)X
2669(structure,)X
3055(along)X
3294(with)X
3490(de\256nitions)X
3921(for)X
4058(the)X
920 4734(procOrFamily)N
1489(\256eld.)X
1240 4875(#de\256ne)N
10 s
1547(IOC_OWNER_FAMILY)X
12 s
2392(0x1)X
1240 4983(#de\256ne)N
10 s
1547(IOC_OWNER_PROC)X
12 s
2392(0x2)X
1240 5199(typedef)N
1553(struct)X
1791(Ioc_Owner)X
2247({)X
1528 5307(Proc_PID)N
2104(id;)X
1528 5415(int)N
1816(procOrFamily;)X
1240 5523(})N
1310(Ioc_Owner;)X
720 5697(11)N
840(IOC_SET_OWNER)X
920 5805(This)N
1137(de\256nes)X
1455(the)X
1620(owner)X
1907(of)X
2034(an)X
2172(I/O)X
2347(stream.)X
2699(The)X
2896(request)X
3221(data)X
3429(block)X
3690(contains)X
4058(the)X

24 p
%%Page: 24 24
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(24)N
920 972(Ioc_Owner)N
1376(structure.)X
720 1113(12)N
840(IOC_MAP)X
920 1221(Obsolete,)N
1310(superseded)X
1761(by)X
10 s
1877(IOC_MMAP_INFO)X
12 s
2526(.)X
720 1362(13)N
840(IOC_PREFIX)X
920 1470(This)N
1115(returns)X
1406(the)X
1549(pre\256x)X
1798(under)X
2042(which)X
2302(a)X
2370(stream)X
2652(was)X
2826(opened.)X
3177(This)X
3373(is)X
3462(used)X
3663(to)X
3763(implement)X
920 1578(the)N
1067(getwd\(\))X
1395(library)X
1681(call.)X
1898(The)X
2077(reply)X
2304(data)X
2494(block)X
2737(contains)X
3087(the)X
3233(pre\256x,)X
3509(which)X
3772(is)X
3864(null)X
4042(ter-)X
920 1686(minated.)N
720 1827(14)N
840(IOC_WRITE_BACK)X
920 1935(This)N
1120(is)X
1213(used)X
1418(to)X
1522(write-back)X
1963(a)X
2035(range)X
2278(of)X
2387(bytes)X
2619(of)X
2728(a)X
2800(\256le)X
2952(to)X
3056(the)X
3204(server's)X
3538(disk.)X
3776(The)X
3956(cache)X
920 2043(will)N
1109(align)X
1341(the)X
1498(write-back)X
1949(on)X
2084(block)X
2337(boundaries)X
2798(that)X
2982(include)X
3305(the)X
3462(speci\256ed)X
3843(range)X
4096(of)X
920 2151(bytes.)N
1195(The)X
1369(request)X
1671(data)X
1856(area)X
2041(contains)X
2386(the)X
2528(following)X
2926(structure.)X
1240 2292(typedef)N
1553(struct)X
1791(Ioc_WriteBackArgs)X
2590({)X
1528 2400(int)N
1816(\256rstByte;)X
1528 2508(int)N
1816(lastByte;)X
1528 2616(Boolean)N
2104(shouldBlock;)X
1240 2724(})N
1310(Ioc_WriteBackArgs;)X
720 2898(15)N
840(IOC_MMAP_INFO)X
920 3006(Tell)N
1103(the)X
1248(I/O)X
1403(server)X
1665(that)X
1837(a)X
1907(client)X
2149(is)X
2240(mapping)X
2604(a)X
2674(stream)X
2958(into)X
3135(memory.)X
3531(The)X
3709(request)X
4015(data)X
920 3114(area)N
1130(contains)X
1500(the)X
1667(following)X
2090(structure.)X
2524(The)X
2722(isMapped)X
3149(\256eld)X
3368(is)X
3480(0)X
3576(if)X
3683(the)X
3849(client)X
4112(is)X
920 3222(unmapping)N
1377(the)X
1519(stream,)X
1824(and)X
1987(1)X
2059(if)X
2142(it)X
2220(is)X
2308(mapping)X
2669(the)X
2811(stream.)X
1240 3363(typedef)N
1553(struct)X
1791(Ioc_MmapInfoArgs)X
2583({)X
1528 3471(int)N
1816(isMapped;)X
1528 3579(int)N
1816(clientID;)X
1240 3687(})N
1310(Ioc_MmapInfoArgs;)X
720 3861(\(\(1<<16\)-1\))N
1204(IOC_GENERIC_LIMIT)X
920 3969(The)N
1111(Sprite)X
1382(kernel)X
1665(reserves)X
2022(the)X
2182(numbers)X
2555(below)X
2832(this)X
3013(for)X
3167(generic)X
3493(I/O)X
3663(control)X
3978(com-)X
920 4077(mands.)N
1254(Other)X
1508(device)X
1794(drivers)X
2095(and)X
2268(pseudo-device)X
2858(servers)X
3164(de\256ne)X
3433(their)X
3644(own)X
3843(I/O)X
4005(con-)X
920 4185(trols.)N
1163(Look)X
1390(at)X
1484(the)X
1626(README)X
2055(\256le)X
2202 0.1212(``/sprite/src/include/dev/README'')AX
3643(for)X
3779(details.)X
3 f
720 4389(27.)N
888(FS_CONSIST)X
1 f
1540(This)X
1735(is)X
1824(issued)X
2089(by)X
2210(a)X
2278(\256le)X
2426(server)X
2686(as)X
2791(a)X
2859(side)X
3039(effect)X
3284(of)X
3389(an)X
10 s
3501(FS_OPEN)X
12 s
3863(RPC.)X
4117(It)X
720 4497(is)N
822(a)X
903(command)X
1321(to)X
1434(a)X
1514(client)X
1766(\(not)X
1958(the)X
2113(one)X
2289(doing)X
2545(the)X
10 s
2696(FS_OPEN)X
12 s
3033(\))X
3102(to)X
3214(control)X
3524(its)X
3652(cache)X
3909(so)X
4031(that)X
720 4605(future)N
985(accesses)X
1347(see)X
1506(consistent)X
1927(data.)X
2172(The)X
2358(request)X
2672(parameter)X
3094(area)X
3291(contains)X
3648(the)X
3802(following)X
720 4713(structure,)N
1110(and)X
1278(the)X
1425(request)X
1732(data)X
1922(area,)X
2136(reply)X
2363(data)X
2553(area,)X
2767(and)X
2935(reply)X
3162(parameter)X
3576(area)X
3765(are)X
3911(empty.)X
720 4821(The)N
904(client)X
1153(should)X
1443(respond)X
1782(immediately)X
2300(to)X
2410(this)X
2584(RPC)X
2800(and)X
2974(perform)X
3319(the)X
3472(cache)X
3727(consistency)X
720 4929(actions)N
1034(in)X
1150(the)X
1309(background.)X
1852(The)X
2043(client)X
2299(issues)X
2569(a)X
10 s
2649(FS_CONSIST_REPLY)X
12 s
3444(RPC)X
3666(to)X
3782(the)X
3941(server)X
720 5037(when)N
954(it)X
1034(has)X
1188(completed)X
1616(the)X
1760(requested)X
2155(actions.)X
2502(This)X
2699(is)X
2790(a)X
2860(crude)X
3101(way)X
3288(of)X
3395(doing)X
3641(parallel)X
3958(RPCs)X
720 5145(to)N
833(many)X
1085(clients.)X
1423(The)X
1611(server)X
1884(sets)X
2066(up)X
2199(a)X
2279(short)X
2508(timeout)X
2840(\(about)X
3123(1)X
3208(minute\))X
3545(for)X
3694(the)X
3849(client)X
4101(to)X
720 5253(complete)N
1098(its)X
1213(actions,)X
1534(and)X
1697(it)X
1775(will)X
1949(let)X
2070(an)X
2185(open)X
2396(complete)X
2774(anyway)X
3098(if)X
3182(this)X
3346(timeout)X
3666(expires)X
3969(and)X
4133(a)X
720 5361(rogue)N
963(client)X
1202(has)X
1354(not)X
1501(responded)X
1920(to)X
2019(a)X
2086(consistency)X
2559(request.)X
1040 5502(typedef)N
1353(struct)X
1591(ConsistMsg)X
2073({)X
1328 5610(Fs_FileID)N
1904(\256leID;)X
1328 5718(int)N
1616(\257ags;)X

25 p
%%Page: 25 25
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(25)N
1136 972(int)N
1328(openTimeStamp;)X
1328 1080(int)N
1616(version;)X
1040 1188(})N
1110(ConsistMsg;)X
720 1329(The)N
895(\256leID)X
1144(identi\256es)X
1522(the)X
1665(\256le,)X
1837(and)X
2001(it)X
2080(is)X
2169(the)X
2313(same)X
2537(as)X
2643(the)X
2787(ioFileID)X
3139(returned)X
3486(from)X
3699(the)X
10 s
3839(FS_OPEN)X
12 s
720 1437(RPC.)N
973(The)X
1147(\257ags)X
1352(are)X
1494(explained)X
1893(below,)X
2176(and)X
2339(they)X
2529(indicate)X
2859(what)X
3070(action)X
3330(the)X
3472(client)X
3711(should)X
3991(take.)X
720 1545(The)N
894(openTimeStamp)X
1555(is)X
1643(the)X
1785(time)X
1981(stamp)X
2235(that)X
2404(the)X
2546(server)X
2806(thinks)X
3066(corresponds)X
3555(to)X
3655(the)X
3798(last)X
3957(open-)X
720 1653(TimeStamp)N
1212(it)X
1308(returned)X
1671(to)X
1788(the)X
1948(client.)X
2253(The)X
2445(version)X
2770(should)X
3068(match)X
3346(with)X
3559(the)X
3718(last)X
3893(version)X
720 1761(returned)N
1075(to)X
1184(the)X
1336(client)X
1585(in)X
1694(the)X
1846(Fsio_FileState.)X
2485(\(It)X
2611(will)X
2796(eventually)X
3233(replace)X
3547(the)X
3700(openTimeS-)X
720 1869(tamp)N
945(altogether.\))X
1443(The)X
1625(point)X
1855(of)X
1967(the)X
2117(openTimeStamp)X
2786(is)X
2882(that)X
3059(if)X
3150(two)X
3326(clients)X
3610(open)X
3829(the)X
3978(same)X
720 1977(\256le)N
881(at)X
989(the)X
1145(same)X
1381(time,)X
1615(then)X
1819(the)X
1975(reply)X
2211(to)X
2324(one)X
2501(client's)X
10 s
2819(FS_OPEN)X
12 s
3194(may)X
3399(loose)X
3641(a)X
3723(race)X
3923(with)X
4133(a)X
10 s
720 2085(FS_CONSIST)N
12 s
1245(RPC)X
1490(generated)X
1928(by)X
2087(the)X
2268(second)X
2598(client's)X
2945(open.)X
3243(If)X
3370(a)X
3476(client)X
3754(receives)X
4133(a)X
10 s
720 2193(FS_CONSIST)N
12 s
1229(RPC)X
1458(with)X
1677(an)X
1816(openTimeStamp)X
2501(``in)X
2688(the)X
2854(future'')X
3196(it)X
3298(drops)X
3560(the)X
3727(consistency)X
720 2301(request)N
1027(and)X
1195(returns)X
10 s
1487(FAILURE)X
12 s
1854(\(1\).)X
2043(This)X
2243(forces)X
2507(the)X
2654(\256le)X
2805(server)X
3068(to)X
3171(retry)X
3381(the)X
10 s
3523(FS_CONSIST)X
12 s
4012(call,)X
720 2409(giving)N
994(the)X
1141(reply)X
1368(to)X
1472(the)X
10 s
1615(FS_OPEN)X
12 s
1981(a)X
2053(chance)X
2350(to)X
2454(arrive)X
2708(at)X
2807(the)X
2954(client.)X
3246(The)X
3425(consistency)X
3903(actions)X
720 2517(are)N
862(de\256ned)X
1169(below.)X
720 2658(0x01)N
936(FSCONSIST_WRITE_BACK_BLOCKS)X
920 2766(The)N
1094(client)X
1333(should)X
1613(write)X
1835(back)X
2041(any)X
2204(dirty)X
2410(blocks)X
2685(that)X
2854(are)X
2996(lingering)X
3368(in)X
3467(its)X
3582(cache.)X
720 2907(0x02)N
936(FSCONSIST_INVALIDATE_BLOCKS)X
920 3015(The)N
1101(client)X
1347(should)X
1634(stop)X
1825(caching)X
2156(the)X
2305(\256le)X
2460(because)X
2797(it)X
2883(is)X
2979(now)X
3176(concurrently)X
3695(write)X
3925(shared)X
920 3123(by)N
1054(different)X
1424(hosts.)X
1707(All)X
1868(future)X
2136(I/O)X
2302(operations)X
2741(on)X
2875(this)X
3052(\256le)X
3213(should)X
3507(bypass)X
3806(the)X
3961(client)X
920 3231(cache)N
1164(and)X
1327(go)X
1447(through)X
1770(to)X
1869(the)X
2011(\256le)X
2158(server.)X
720 3372(0x04)N
936(FSCONSIST_DELETE_FILE)X
920 3480(This)N
1117(is)X
1207(issued)X
1473(as)X
1579(a)X
1648(side)X
1829(effect)X
2075(of)X
2182(a)X
10 s
2248(FS_REMOVE)X
12 s
2741(RPC)X
2949(if)X
3035(the)X
3180(client)X
3422(has)X
3577(dirty)X
3786(blocks)X
4064(for)X
920 3588(the)N
1072(\256le.)X
1277(This)X
1481(is)X
1578(done)X
1798(even)X
2013(if)X
2105(it)X
2192(is)X
2289(the)X
2440(same)X
2671(client)X
2919(as)X
3032(the)X
3183(one)X
3355(currently)X
3736(making)X
4058(the)X
10 s
920 3696(FS_REMOVE)N
12 s
1410(RPC.)X
720 3837(0x08)N
936 -0.1229(FSCONSIST_CANT_CACHE_NAMED_PIPE)AX
920 3945(This)N
1115(is)X
1203(reserved)X
1553(for)X
1689(if)X
1772(we)X
1908(ever)X
2098(re-implement)X
2642(named)X
2923(pipes.)X
720 4086(0x10)N
936(FSCONSIST_WRITE_BACK_ATTRS)X
920 4194(The)N
1105(client)X
1355(should)X
1646(write-back)X
2093(its)X
2219(notion)X
2500(of)X
2615(the)X
2768(access)X
3049(and)X
3224(modify)X
3538(times)X
3783(of)X
3899(the)X
4053(\256le)X
920 4302(that)N
1126(it)X
1241(is)X
1366(caching.)X
1775(This)X
2007(is)X
2132(generated)X
2568(as)X
2709(a)X
2813(side)X
3028(effect)X
3308(of)X
10 s
3444(FS_GET_ATTR)X
12 s
4037(and)X
10 s
920 4410(FS_GET_ATTR_PATH)N
12 s
1753(RPCs)X
2022(by)X
2169(other)X
2418(clients.)X
2769(This)X
2991(is)X
3106(only)X
3328(done)X
3566(if)X
3676(the)X
3845(client)X
4112(is)X
920 4518(actively)N
1262(using)X
1506(the)X
1660(\256le,)X
1843(and)X
2018(it)X
2108(is)X
2208(suppressed)X
2665(if)X
2759(the)X
2912(client)X
3162(only)X
3368(has)X
3531(the)X
3684(\256le)X
3842(open)X
4064(for)X
920 4626(execution.)N
1367(The)X
1541(attributes)X
1924(are)X
2066(returned)X
2411(with)X
2606(the)X
10 s
2744(FS_CONSIST_REPLY)X
12 s
3522(RPC.)X
3 f
720 4830(28.)N
889(FS_CONSIST_REPLY)X
1 f
1915(This)X
2111(is)X
2200(issued)X
2465(by)X
2586(the)X
2729(client)X
2969(when)X
3202(it)X
3281(has)X
3434(completed)X
3861(the)X
4005(con-)X
720 4938(sistency)N
1056(actions)X
1355(requested)X
1750(by)X
1872(the)X
2016(server.)X
2325(The)X
2501(request)X
2805(parameter)X
3217(area)X
3404(contains)X
3750(the)X
3893(follow-)X
720 5046(ing)N
867(structure.)X
1040 5187(typedef)N
1353(struct)X
1591(ConsistReply)X
2133({)X
1328 5295(Fs_FileID)N
1904(\256leID;)X
1328 5403(Fscache_Attributes)N
2192(cachedAttr;)X
1328 5511(ReturnStatus)N
1904(status;)X
1040 5619(})N
1110(ConsistReply;)X
720 5760(The)N
896(\256leID)X
1146(indicates)X
1515(the)X
1659(\256le)X
1808(that)X
1979(was)X
2154(acted)X
2384(on.)X
2554(The)X
2730(client)X
2972(always)X
3266(returns)X
3560(its)X
3678(notion)X
3951(of)X
4058(the)X

26 p
%%Page: 26 26
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(26)N
720 972(attributes)N
1109(of)X
1219(the)X
1367(\256le)X
1520(because)X
1854(it)X
1937(updates)X
2260(these)X
2487(while)X
2730(caching)X
3059(the)X
3206(\256le.)X
3406(The)X
3585(status)X
3833(indicates)X
720 1080(whether)N
1057(it)X
1138(could)X
1379(comply)X
1696(with)X
1895(the)X
2041(request.)X
2395(If)X
2487(the)X
2633(server's)X
2965(disk)X
3153(is)X
3245(so)X
3358(full)X
3520(that)X
3693(a)X
3764(write-back)X
720 1188(could)N
961(not)X
1111(be)X
1229(made)X
1465(then)X
1658(this)X
1824(status)X
2070(is)X
10 s
2157(FS_DISK_FULL)X
12 s
2712(.)X
2787(The)X
2964(data)X
3152(is)X
3243(not)X
3393(lost,)X
3583(but)X
3733(it)X
3813(lingers)X
4101(in)X
720 1296(the)N
868(client's)X
1182(cache)X
1432(until)X
1639(the)X
1787(write-back)X
2229(can)X
2393(succeed.)X
2776(However,)X
3182(this)X
3351(means)X
3627(that)X
3803(an)X
3925(open\(\))X
720 1404(can)N
878(fail)X
1031(with)X
1226(a)X
1293(disk)X
1477(full)X
1635(error!)X
3 f
720 1716(29.)N
906(FS_COPY_BLOCK)X
1 f
1823(This)X
2036(is)X
2142(used)X
2360(during)X
2653(fork\(\))X
2919(to)X
3036(copy)X
3265(a)X
3350(swap)X
3589(\256le)X
3754(on)X
3892(the)X
4053(\256le)X
720 1824(server.)N
1031(This)X
1230(prevents)X
1584(the)X
1730(client)X
1973(from)X
2188(reading)X
2505(a)X
2576(swap)X
2801(\256le)X
2952(over)X
3151(the)X
3297(network)X
3640(just)X
3806(to)X
3908(copy)X
4122(it)X
720 1932(and)N
892(write)X
1123(it)X
1210(back.)X
1473(The)X
1656(request)X
1967(parameter)X
2386(area)X
2580(contains)X
2934(the)X
3085(following)X
3492(structure,)X
3886(and)X
4058(the)X
720 2040(request)N
1022(data)X
1207(area,)X
1416(reply)X
1638(parameter)X
2048(area,)X
2257(and)X
2420(reply)X
2642(data)X
2827(area)X
3012(are)X
3154(empty.)X
1040 2181(typedef)N
1353(struct)X
1591(FsrmtBlockCopyParam)X
2523({)X
1328 2289(Fs_FileID)N
1904(srcFileID;)X
1328 2397(Fs_FileID)N
1904(destFileID;)X
1328 2505(int)N
1616(blockNum;)X
1040 2613(})N
1110(FsrmtBlockCopyParam;)X
720 2754(The)N
894(srcFileID)X
1281(and)X
1445(destFileID)X
1876(have)X
2083(been)X
2290(returned)X
2636(from)X
10 s
2844(FS_OPEN)X
12 s
3206(when)X
3439(the)X
3582(swap)X
3804(\256les)X
3989(were)X
720 2862(opened.)N
1072(The)X
1248(blockNum)X
1680(speci\256es)X
2036(the)X
10 s
2175(FS_BLOCK_SIZE)X
12 s
2808(\(4096)X
3057(bytes\))X
3317(block)X
3556(to)X
3656(copy.)X
3916(This)X
4112(is)X
720 2970(a)N
794(logical)X
1088(block)X
1333(number)X
1658(because)X
1994(the)X
2143(client)X
2389(has)X
2548(no)X
2675(notion)X
2953(of)X
3065(where)X
3332(the)X
3482(swap)X
3711(\256les)X
3903(live)X
4080(on)X
720 3078(disk.)N
3 f
720 3390(30.)N
890(FS_MIGRATE)X
1 f
1593(This)X
1790(is)X
1880(used)X
2083(during)X
2361(process)X
2676(migration)X
3078(to)X
3180(inform)X
3469(the)X
3614(I/O)X
3769(server)X
4031(that)X
720 3498(an)N
836(I/O)X
989(stream)X
1271(has)X
1424(migrated)X
1792(to)X
1892(a)X
1960(new)X
2145(client.)X
2433(This)X
2629(is)X
2718(invoked)X
3053(from)X
3265(the)X
3408(destination)X
3856(client)X
4096(as)X
720 3606(part)N
894(of)X
998(creating)X
1333(the)X
1475(process.)X
1835(The)X
2009(request)X
2311(parameter)X
2721(area)X
2906(contains)X
3251(the)X
3393(following)X
3791(structure.)X
1040 3747(typedef)N
1353(struct)X
1591(Fsio_MigInfo)X
2148({)X
1328 3855(Fs_FileID)N
1904(streamID;)X
1328 3963(Fs_FileID)N
1813(ioFileID;)X
1328 4071(Fs_FileID)N
1904(nameID;)X
1328 4179(Fs_FileID)N
1904(rootID;)X
1328 4287(int)N
1616(srcClientID;)X
1328 4395(int)N
1646(offset;)X
1328 4503(int)N
1646(\257ags;)X
1040 4611(})N
1110(Fsio_MigInfo;)X
720 4752(This)N
925(information)X
1414(is)X
1513(packaged)X
1912(up)X
2043(on)X
2174(the)X
2327(source)X
2613(client)X
2863(when)X
3106(the)X
3259(process)X
3582(migrates)X
3949(away.)X
720 4860(The)N
902(streamID,)X
1316(ioFileID,)X
1698(and)X
1869(nameID)X
2211(are)X
2361(those)X
2596(that)X
2773(have)X
2987(been)X
3201(returned)X
3553(from)X
3771(a)X
3845(previous)X
10 s
720 4968(FS_OPEN)N
12 s
1057(.)X
1133(The)X
1311(rootID)X
1595(was)X
1772(speci\256ed)X
2143(in)X
2247(the)X
10 s
2390(FS_OPEN)X
12 s
2756(request)X
3063(that)X
3237(created)X
3545(the)X
3692(stream.)X
4026(The)X
720 5076(srcClientID)N
1197(is)X
1289(the)X
1434(client)X
1676(were)X
1890(the)X
2035(process)X
2350(left.)X
2554(The)X
2731(offset)X
2977(\256eld)X
3175(was)X
3351(made)X
3587(obsolete)X
3935(by)X
4058(the)X
10 s
720 5184(FS_RELEASE_NEW)N
12 s
1446(and)X
1609(should)X
1889(be)X
2004(removed.)X
2413(The)X
2587(\257ags)X
2792(are)X
2934(the)X
3076(\257ags)X
3281(from)X
3492(the)X
3634(stream.)X
920 5325(The)N
1099(reply)X
1326(parameter)X
1741(area)X
1931(of)X
2040(the)X
10 s
2183(FS_MIGRATE)X
12 s
2705(RPC)X
2915(contains)X
3265(the)X
3412(following)X
3815(structure.)X
720 5433(The)N
894(request)X
1196(and)X
1359(reply)X
1581(data)X
1766(areas)X
1988(are)X
2130(empty.)X
1040 5574(typedef)N
1353(struct)X
1615(FsrmtMigParam)X
2269({)X
1328 5682(int)N
1616(dataSize;)X
1328 5790(FsrmtUnionData)N
2192(data;)X

27 p
%%Page: 27 27
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(27)N
1136 972(FsrmtMigrateReply)N
1904(migReply;)X
1040 1080(})N
1110(FsrmtMigParam;)X
1040 1296(typedef)N
1353(struct)X
1591(FsrmtMigrateReply)X
2374({)X
1328 1404(int)N
1454(\257ags;)X
1328 1512(int)N
1454(offset;)X
1040 1620(})N
1110(FsrmtMigrateReply;)X
1040 1836(#de\256ne)N
10 s
1347(FS_RMT_SHARED)X
12 s
2192(0x04000000)X
720 1977(The)N
899(I/O)X
1056(server)X
1320(returns)X
1616(the)X
1763(same)X
1990(FsrmtUnionData)X
2665(as)X
2775(it)X
2859(does)X
3065(in)X
3170(an)X
10 s
3287(FS_OPEN)X
12 s
3654(RPC,)X
3889(and)X
4058(the)X
720 2085(client)N
961(uses)X
1152(this)X
1317(to)X
1418(set)X
1551(up)X
1673(its)X
1790(I/O)X
1944(stream)X
2227(data)X
2414(structures.)X
2862(The)X
3038(I/O)X
3192(server)X
3452(also)X
3632(tells)X
3818(the)X
3961(client)X
720 2193(the)N
866(new)X
1054(stream)X
1339(offset)X
1586(to)X
1689(use,)X
1869(and)X
2036(it)X
2118(gives)X
2349(the)X
2495(client)X
2739(a)X
2811(new)X
3000(version)X
3312(of)X
3421(the)X
3568(stream)X
3854(\257ags.)X
4112(If)X
720 2301(the)N
866(\257ags)X
1075(in)X
1178(include)X
1490(the)X
10 s
1632(FS_RMT_SHARED)X
12 s
2321(bit)X
2451(then)X
2645(processes)X
3041(on)X
3165(different)X
3524(hosts)X
3748(are)X
3893(sharing)X
720 2409(the)N
864(stream.)X
1195(In)X
1302(this)X
1468(case)X
1661(the)X
1806(offset)X
2052(in)X
2154(the)X
2299(clients')X
2610(stream)X
2894(descriptors)X
3343(are)X
3488(not)X
3638(valid,)X
3882(and)X
4048(I/O)X
720 2517(operations)N
1146(on)X
1267(the)X
1410(object)X
1671(have)X
1878(to)X
1978(go)X
2098(through)X
2421(to)X
2520(the)X
2662(I/O)X
2814(server.)X
3121(The)X
3295(I/O)X
3447(server)X
3706(keeps)X
3949(a)X
4016(sha-)X
720 2625(dow)N
909(stream)X
1190(descriptor)X
1599(that)X
1768(contains)X
2113(the)X
2255(valid)X
2472(stream)X
2753(offset)X
2996(in)X
3095(this)X
3258(case.)X
3 f
720 2937(31.)N
888(FS_RELEASE)X
1 f
1567(This)X
1762(procedure)X
2171(is)X
2259(obsolete.)X
3 f
720 3249(32.)N
902(FS_REOPEN)X
1 f
1549(This)X
1759(is)X
1862(used)X
2077(during)X
2367(the)X
2524(state)X
2740(recovery)X
3116(protocol)X
3476(to)X
3590(inform)X
3891(the)X
4048(I/O)X
720 3357(server)N
986(about)X
1231(I/O)X
1390(streams)X
1715(in)X
1821(use)X
1980(by)X
2107(a)X
2181(client.)X
2475(The)X
2656(request)X
2964(and)X
3133(reply)X
3361(parameter)X
3777(areas)X
4005(vary)X
720 3465(depending)N
1148(on)X
1271(the)X
1416(object)X
1679(being)X
1920(reopened.)X
2348(The)X
2525(following)X
2926(structures)X
3327(are)X
3472(possible,)X
3839(although)X
720 3573(note)N
912(that)X
1082(every)X
1321(request)X
1624(structure)X
1986(contains)X
2332(a)X
2400(Fs_FileID)X
2814(as)X
2919(its)X
3035(\256rst)X
3209(element.)X
3588(Also,)X
3818(the)X
3961(client)X
720 3681(should)N
1000(map)X
1190(its)X
10 s
1301(FSIO_RMT)X
12 s
1711(stream)X
1992(types)X
2219(to)X
2318(the)X
2460(corresponding)X
10 s
3031(FSIO_LCL)X
12 s
3420(stream)X
3702(types)X
3930(before)X
720 3789(making)N
1033(the)X
1175(RPC.)X
1040 3930(typedef)N
1353(struct)X
1591(FsRmtDeviceReopenParams)X
2721({)X
1328 4038(Fs_FileID)N
1904(\256leID;)X
1328 4146(Fsutil_UseCounts)N
2040(use;)X
1040 4254(})N
1110(FsRmtDeviceReopenParams;)X
1040 4470(typedef)N
1353(struct)X
1591(Fsutil_UseCounts)X
2303({)X
1328 4578(int)N
1616(ref;)X
1328 4686(int)N
1616(write;)X
1328 4794(int)N
1616(exec;)X
1040 4902(})N
1110(Fsutil_UseCounts;)X
720 5043(The)N
894(reopen)X
1180(parameters)X
1627(identify)X
1951(the)X
2093(object)X
2353(and)X
2516(specify)X
2818(how)X
3007(many)X
3246(streams)X
3565(the)X
3708(client)X
3948(has)X
4101(to)X
720 5151(it.)N
854(Note)X
1073(that)X
1250(the)X
1399(ref)X
1537(\256eld)X
1739(in)X
1845(Fsutil_UseCounts)X
2564(is)X
2659(not)X
2813(the)X
2962(same)X
3191(as)X
3302(the)X
3451(number)X
3776(of)X
3887(reading)X
720 5259(streams,)N
1064(but)X
1213(it)X
1293(is)X
1383(the)X
1527(total)X
1725(number)X
2045(of)X
2152(streams.)X
2521(This)X
2719(is)X
2810(a)X
2880(mistake)X
3207(and)X
3373(will)X
3550(be)X
3668(\256xed)X
3887(eventu-)X
720 5367(ally;)N
937(it)X
1036(makes)X
1326(it)X
1424(impossible)X
1885(for)X
2041(a)X
2128(reader)X
2413(to)X
2532(reopen)X
2838(``/dev/syslog'',)X
3472(which)X
3751(is)X
3859(a)X
3946(single)X
720 5475 0.2500(reader/multiple)AN
1344(writer)X
1608(device.)X
1943(The)X
2128(request)X
2441(data)X
2637(area,)X
2857(the)X
3010(reply)X
3243(parameter)X
3664(area,)X
3884(and)X
4058(the)X
720 5583(reply)N
942(data)X
1127(area)X
1312(are)X
1454(empty)X
1719(in)X
1818(the)X
1960(case)X
2150(of)X
2254(device)X
2530(reopening.)X
1040 5724(typedef)N
1353(struct)X
1591(Fsio_PipeReopenParams)X
2576({)X

28 p
%%Page: 28 28
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(28)N
1136 972(Fs_FileID)N
1616(\256leID;)X
1328 1080(Fsutil_UseCounts)N
2040(use;)X
1040 1188(})N
1110(Fsio_PipeReopenParams;)X
720 1329(A)N
823(pipe)X
1023(may)X
1223(become)X
1557(remote)X
1859(due)X
2032(to)X
2141(process)X
2463(migration,)X
2896(therefore)X
3278(it)X
3367(may)X
3568(have)X
3785(to)X
3895(be)X
4021(reo-)X
720 1437(pened)N
977(if)X
1062(the)X
1206(client)X
1447(looses)X
1713(touch)X
1953(with)X
2150(the)X
2294(server.)X
2603(If)X
2693(the)X
2837(server)X
3098(can)X
3258(crashed)X
3578(then)X
3770(the)X
3914(reopen)X
720 1545(will)N
907(fail,)X
1097(but)X
1257(if)X
1353(there)X
1583(has)X
1748(only)X
1956(been)X
2176(a)X
2257(network)X
2610(partition)X
2975(the)X
3131(reopen)X
3431(may)X
3635(succeed.)X
4026(The)X
720 1653(request)N
1027(data)X
1217(area,)X
1430(the)X
1576(reply)X
1802(parameter)X
2216(area,)X
2429(and)X
2596(the)X
2742(reply)X
2968(data)X
3157(area)X
3346(are)X
3492(empty)X
3761(in)X
3864(the)X
4010(case)X
720 1761(of)N
824(pipe)X
1014(reopening.)X
1040 1902(typedef)N
1353(struct)X
1591(Fsio_FileReopenParams)X
2555({)X
1328 2010(Fs_FileID)N
1904(\256leID;)X
1328 2118(Fs_FileID)N
1904(pre\256xFileID;)X
1328 2226(Fsutil_UseCounts)N
2192(use;)X
1328 2334(Boolean)N
1904(\257ags;)X
1328 2442(int)N
1616(version;)X
1040 2550(})N
1110(Fsio_FileReopenParams;)X
1040 2766(#de\256ne)N
10 s
1347(FSIO_HAVE_BLOCKS)X
12 s
2162(0x1)X
1040 2874(#de\256ne)N
10 s
1347(FS_SWAP)X
12 s
1904(0x4000)X
720 3015(The)N
900(reopen)X
1192(parameters)X
1645(for)X
1787(a)X
1860(\256le)X
2013(specify)X
2321(the)X
2469(\256le)X
2622(and)X
2791(the)X
2939(pre\256x)X
3193(of)X
3303(the)X
3451(domain)X
3770(of)X
3880(the)X
4029(\256le.)X
720 3123(This)N
967(is)X
1107(needed)X
1456(to)X
1607(validate)X
1989(that)X
2210(the)X
2404(server)X
2715(still)X
2935(has)X
3138(the)X
3331(disk)X
3566(mounted.)X
4026(The)X
720 3231(Fsutil_UseCounts)N
1470(are)X
1650(as)X
1792(described)X
2223(above.)X
2563(The)X
2775(\257ags)X
3018(include)X
10 s
3361(FSIO_HAVE_BLOCKS)X
12 s
4152(,)X
10 s
720 3339(FS_SWAP)N
12 s
1070(,)X
1126(and)X
10 s
1293(FS_MAP)X
12 s
1626(to)X
1733(indicate)X
2071(if)X
2162(the)X
2311(client)X
2557(has)X
2716(dirty)X
2929(data)X
3121(blocks,)X
3427(is)X
3522(using)X
3761(the)X
3910(\256le)X
4064(for)X
720 3447(VM)N
898(backing)X
1227(store,)X
1462(or)X
1566(is)X
1654(mapping)X
2015(the)X
2157(\256le)X
2304(into)X
2478(its)X
2593(memory.)X
2987(The)X
3162(version)X
3470(number)X
3789(is)X
3878(the)X
4021(ver-)X
720 3555(sion)N
924(that)X
1113(the)X
1275(client)X
1534(has)X
1706(cached.)X
2066(The)X
2259(reply)X
2500(parameters)X
2966(when)X
3217(reopening)X
3645(a)X
3731(\256le)X
3897(are)X
4058(the)X
720 3663(Fsio_FileState)N
1300(described)X
1693(above.)X
1995(The)X
2169(client)X
2408(should)X
2688(verify)X
2942(that)X
3111(the)X
3253(version)X
3561(number)X
3880(it)X
3959(has)X
4112(is)X
720 3771(correct,)N
1036(just)X
1199(as)X
1303(it)X
1381(does)X
1581(during)X
1856(an)X
10 s
1967(FS_OPEN)X
12 s
2304(.)X
1040 3912(typedef)N
1353(struct)X
1591(FspdevControlReopenParams)X
2763({)X
1328 4020(Fs_FileID)N
1904(\256leID;)X
1328 4128(int)N
1616(serverID;)X
1328 4236(int)N
1616(seed;)X
1040 4344(})N
1110(FspdevControlReopenParams;)X
720 4485(The)N
899(\256le)X
1051(server)X
1315(that)X
1489(stores)X
1742(a)X
1815(pseudo-device)X
2401(\256le)X
2554(also)X
2739(keeps)X
2988(some)X
3221(state)X
3428(as)X
3538(to)X
3643(whether)X
3983(there)X
720 4593(is)N
815(currently)X
1193(a)X
1266(server)X
1531(process)X
1849(for)X
1991(the)X
2139(pseudo-device)X
2725(so)X
2840(it)X
2924(can)X
3088(prevent)X
3407(con\257icts.)X
3811(If)X
3905(the)X
4053(\256le)X
720 4701(server)N
1003(crashes)X
1334(this)X
1521(information)X
2024(has)X
2200(to)X
2323(be)X
2462(restored,)X
2844(and)X
3031(it)X
3133(is)X
3245(done)X
3480(by)X
3624(reopening)X
4058(the)X
720 4809(pseudo-device)N
1306(control)X
1609(handle.)X
1944(The)X
2124(\256leID)X
2378(in)X
2482(the)X
2629(reopen)X
2920(parameters)X
3372(is)X
3465(that)X
3639(returned)X
3989(from)X
10 s
720 4917(FS_OPEN)N
12 s
1090(when)X
1331(the)X
1482(server)X
1750(process)X
2071(opened)X
2382(the)X
2533(pseudo-device)X
3122(with)X
3327(the)X
10 s
3475(FS_PDEV_MASTER)X
12 s
720 5025(\257ag.)N
939(The)X
1116(serverID)X
1479(is)X
1570(-1)X
1677(if)X
1763(the)X
1908(server)X
2170(process)X
2484(has)X
2638(gone)X
2851(away)X
3080(since)X
3304(the)X
3448(\256le)X
3597(server)X
3858(crashed.)X
720 5133(The)N
902(seed)X
1105(is)X
1201(used)X
1409(by)X
1537(the)X
1687(\256le)X
1842(server)X
2109(to)X
2216(generate)X
2575(unique)X
2869(\256leIDs)X
3162(for)X
3306(the)X
3457(connections)X
3950(to)X
4058(the)X
720 5241(pseudo-device,)N
1328(and)X
1495(this)X
1662(needs)X
1909(to)X
2011(be)X
2129(restored,)X
2490(too.)X
2688(Under)X
2955(normal)X
3255(operation)X
3646(the)X
3791(\256le)X
3941(server)X
720 5349(increments)N
1172(its)X
1293(seed)X
1494(every)X
1738(time)X
1940(a)X
2013(new)X
2203(open)X
2420(is)X
2514(done)X
2731(on)X
2857(the)X
3005(pseudo-device,)X
3615(and)X
3784(it)X
3868(puts)X
4058(the)X
720 5457(seed)N
919(into)X
1097(the)X
1243(low-order)X
1650(12)X
1774(bits)X
1941(of)X
2049(the)X
2195(minor)X
2453(\256eld)X
2652(in)X
2755(the)X
2901(ioFileID)X
3255(returned)X
3604(from)X
10 s
3815(FS_OPEN)X
12 s
4152(.)X
720 5565(The)N
909(I/O)X
1076(server)X
1350(knows)X
1639(about)X
1892(this,)X
2094(and)X
2272(it)X
2365(extracts)X
2704(the)X
2861(seed)X
3072(from)X
3299(the)X
3457(ioFileID)X
3823(so)X
3948(it)X
4042(can)X
720 5673(restore)N
1006(it)X
1084(during)X
1359(recovery.)X

29 p
%%Page: 29 29
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(29)N
1040 972(typedef)N
1353(struct)X
1591(StreamReopenParams)X
2465({)X
1328 1080(Fs_FileID)N
1904(streamID;)X
1328 1188(Fs_FileID)N
1904(ioFileID;)X
1328 1296(int)N
1616(useFlags;)X
1328 1404(int)N
1616(offset;)X
1040 1512(})N
1110(StreamReopenParams;)X
720 1653(After)N
948(all)X
1070(the)X
1213(other)X
1436(kinds)X
1669(of)X
1774(I/O)X
1927(handles)X
2247(have)X
2455(been)X
2663(reopened)X
3042(at)X
3138(a)X
3207(server,)X
3492(the)X
3636(client)X
3877(reopens)X
720 1761(its)N
843(stream)X
1132(descriptors)X
1586(that)X
1762(reference)X
2152(the)X
2301(I/O)X
2460(handles.)X
2833(The)X
3014(reopen)X
3307(speci\256es)X
3669(the)X
3818(streamID)X
720 1869(and)N
888(the)X
1035(ioFileID,)X
1414(so)X
1528(the)X
1675(I/O)X
1832(server)X
2096(can)X
2259(verify)X
2518(that)X
2693(its)X
2814(shadow)X
3137(stream)X
3424(descriptor)X
3839(connects)X
720 1977(to)N
826(the)X
975(same)X
1204(I/O)X
1363(handle)X
1651(that)X
1827(the)X
1976(client)X
2222(thinks)X
2487(it)X
2571(should.)X
2905(The)X
3085(offset)X
3334(is)X
3428(used)X
3634(to)X
3739(recover)X
4058(the)X
720 2085(offset)N
982(in)X
1100(the)X
1262(server's)X
1610(shadow)X
1947(stream)X
2248(descriptor.)X
2725(\(This)X
2972(isn't)X
3187(implemented.)X
3783(If)X
3891(the)X
4053(\256le)X
720 2193(server)N
988(crashes)X
1304(while)X
1551(a)X
1627(stream)X
1917(is)X
2014(shared)X
2298(by)X
2427(processes)X
2828(on)X
2957(different)X
3322(hosts,)X
3576(then)X
3775(the)X
3925(shared)X
720 2301(offset)N
978(is)X
1081(lost.)X
1307(This)X
1517(needs)X
1775(to)X
1889(be)X
2019(\256xed,)X
2274(perhaps)X
2612(by)X
2747(adding)X
3048(an)X
3178(offset)X
3436(to)X
3550(the)X
3707(Fs_IOReply)X
720 2409(structure)N
1081(so)X
1190(the)X
1332(client)X
1571(can)X
1729(cache)X
1973(the)X
2115(offset.\))X
3 f
720 2721(33.)N
891(FS_RECOVERY)X
1 f
1674(This)X
1872(is)X
1963(used)X
2166(after)X
2370(a)X
2440(client)X
2682(has)X
2838(completed)X
3268(its)X
3387(state)X
3592(recovery.)X
4005(This)X
720 2829(is)N
836(needed)X
1161(because)X
1518(the)X
1688(server)X
1975(drops)X
2240(regular)X
10 s
2560(FS_OPEN)X
12 s
2948(RPCs)X
3217(while)X
3482(a)X
3576(client)X
3842(is)X
3957(doing)X
10 s
720 2937(FS_REOPEN)N
12 s
1186(RPCs.)X
1479(Speci\256cally,)X
1985(after)X
2189(a)X
2259(server)X
2521(gets)X
2703(a)X
10 s
2769(FS_REOPEN)X
12 s
3235(from)X
3449(a)X
3519(client)X
3762(it)X
3844(drops)X
4085(an)X
10 s
720 3045(FS_OPEN)N
12 s
1092(\(from)X
1346(that)X
1526(client\))X
1808(until)X
2020(it)X
2109(receives)X
2460(an)X
10 s
2581(FS_RECOVERY)X
12 s
3174(RPC.)X
3437(The)X
10 s
3617(FS_RECOVERY)X
12 s
720 3153(RPC)N
932(can)X
1097(also)X
1283(be)X
1405(used)X
1612(by)X
1739(a)X
1813(client)X
2060(to)X
2167(signal)X
2429(that)X
2606(it)X
2692(is)X
2788(begining)X
3157(the)X
3307(recovery)X
3676(protocol,)X
4053(but)X
720 3261(this)N
884(is)X
973(not)X
1121(necessary.)X
1568(The)X
1743(parameter)X
2154(area)X
2340(of)X
2445(the)X
2588(request)X
2891(message)X
3242(contains)X
3587(a)X
3654(single)X
3908(integer)X
720 3369(that)N
892(contains)X
1240(a)X
1310(\257ag)X
10 s
1477(CLT_RECOV_IN_PROGRESS)X
12 s
2534(if)X
2620(the)X
2765(client)X
3007(is)X
3098(initiating)X
3475(recovery,)X
3864(and)X
4031(that)X
720 3477(has)N
872(no)X
992(\257ag)X
1160(\(zero)X
1382(value\))X
1647(when)X
1879(the)X
2021(client)X
2260(completes)X
2675(recovery.)X
1040 3618(#de\256ne)N
10 s
1347(CLT_RECOV_IN_PROGRESS)X
12 s
2480(0x1)X
1040 3726(#de\256ne)N
10 s
1347(CLT_RECOV_COMPLETE)X
12 s
2480(0x0)X
3 f
720 4071(34.)N
896(FS_DOMAIN_INFO)X
1 f
1834(This)X
2037(is)X
2133(used)X
2341(to)X
2448(get)X
2598(information)X
3085(about)X
3331(a)X
3407(\256le)X
3563(system)X
3863(domain,)X
720 4179(including)N
1119(the)X
1272(amount)X
1596(of)X
1711(disk)X
1906(space)X
2155(available.)X
2587(The)X
2772(request)X
3085(parameter)X
3506(area)X
3702(contains)X
4058(the)X
720 4287(\256leID)N
984(associated)X
1420(with)X
1631(the)X
1789(pre\256x)X
2053(of)X
2174(the)X
2333(domain.)X
2711(This)X
2923(is)X
3028(returned)X
3390(from)X
3618(the)X
10 s
3773(FS_PREFIX)X
12 s
720 4395(RPC.)N
981(The)X
1163(reply)X
1392(parameter)X
1809(area)X
2001(contains)X
2353(a)X
2427(FsDomainInfoResults)X
3301(structure.)X
3717(The)X
3898(request)X
720 4503(and)N
883(reply)X
1105(data)X
1290(areas)X
1512(are)X
1654(empty.)X
1040 4644(typedef)N
1353(struct)X
1591(FsDomainInfoResults)X
2458({)X
1328 4752(Fs_DomainInfo)N
2192(domain;)X
1328 4860(Fs_FileID)N
1904(\256leID;)X
1040 4968(})N
1110(FsDomainInfoResults;)X
1040 5184(typedef)N
1353(struct)X
1591({)X
1328 5292(int)N
1616(maxKbytes;)X
1328 5400(int)N
1616(freeKbytes;)X
1328 5508(int)N
1616(maxFileDesc;)X
1328 5616(int)N
1616(freeFileDesc;)X
1328 5724(int)N
1616(blockSize;)X

30 p
%%Page: 30 30
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(30)N
1136 972(int)N
1328(optSize;)X
1040 1080(})N
1110(Fs_DomainInfo;)X
720 1221(The)N
894(\256leID)X
1142(that)X
1311(is)X
1399(returned)X
1744(is)X
1832(the)X
1974(user-visible)X
2448(\256leID)X
2697(that)X
2867(an)X
2983(application)X
3437(program)X
3788(would)X
4053(see)X
720 1329(if)N
806(it)X
887(did)X
1037(a)X
10 s
1103(GET_ATTR_PATH)X
12 s
1784(on)X
1907(the)X
2052(pre\256x.)X
2351(With)X
2571(a)X
2641(pseudo-\256le-system)X
3394(this)X
3560(is)X
3651(different)X
4010(than)X
720 1437(the)N
865(internal)X
1187(\256leID)X
1438(associated)X
1861(with)X
2060(the)X
2206(pre\256x,)X
2482(which)X
2745(identi\256es)X
3126(a)X
3197(request-response)X
3871(connec-)X
720 1545(tion)N
902(between)X
1255(the)X
1405(kernel)X
1678(and)X
1849(the)X
1999(server)X
2266(process.)X
2634(The)X
2816(Fs_DomainInfo)X
3455(indicates)X
3829(the)X
3978(max-)X
720 1653(imum)N
974(size)X
1153(of)X
1262(the)X
1409(\256le)X
1561(system,)X
1881(the)X
2029(number)X
2353(of)X
2463(free)X
2643(kilobytes,)X
3050(the)X
3198(maximum)X
3619(number)X
3943(of)X
4053(\256le)X
720 1761(descriptors,)N
1201(the)X
1354(number)X
1683(of)X
1798(free)X
1983(descriptors,)X
2464(the)X
2617(native)X
2888(blocksize)X
3287(of)X
3402(the)X
3555(\256le)X
3712(system,)X
4037(and)X
720 1869(the)N
862(optimal)X
1181(transfer)X
1499(size)X
1673(of)X
1777(the)X
1919(\256le)X
2066(system.)X
3 f
720 2181(35.)N
900(PROC_MIG_COMMAND)X
1 f
2088(This)X
2295(is)X
2395(used)X
2607(to)X
2718(transfer)X
3049(process)X
3374(state)X
3588(between)X
3946(Sprite)X
720 2289(hosts.)N
994(The)X
1173(request)X
1480(parameter)X
1895(area)X
2085(contains)X
2435(a)X
2507(process)X
2824(ID)X
2954(and)X
3122(a)X
3194(command)X
3602(identi\256er.)X
4026(The)X
720 2397(request)N
1030(data)X
1223(area)X
1416(contains)X
1770(command)X
2183(speci\256c)X
2510(data.)X
2752(The)X
2935(reply)X
3166(parameter)X
3585(area)X
3779(contains)X
4133(a)X
720 2505(return)N
978(status,)X
1249(and)X
1416(optionally)X
1835(some)X
2066(command)X
2474(speci\256c)X
2796(data.)X
3033(The)X
3211(migration)X
3614(commands)X
4058(are)X
720 2613(described)N
1113(below,)X
1396(along)X
1634(with)X
1829(their)X
2030(command)X
2434(speci\256c)X
2752(data.)X
1040 2754(typedef)N
1353(struct)X
1591({)X
1328 2862(Proc_PID)N
1904(remotePid;)X
1328 2970(int)N
1904(command;)X
1040 3078(})N
1110(ProcMigCmd;)X
720 3252(0)N
792(PROC_MIGRATE_CMD_INIT)X
920 3360(This)N
1122(is)X
1217(used)X
1424(to)X
1530(request)X
1839(permission)X
2293(to)X
2400(migrate)X
2727(to)X
2834(another)X
3155(host.)X
3395(The)X
3577(remotePid)X
4005(\256eld)X
920 3468(of)N
1028(the)X
1174(ProcMigCmd)X
1725(is)X
10 s
1812(NIL)X
12 s
1973(if)X
2059(the)X
2204(process)X
2519(is)X
2610(leaving)X
2921(its)X
3039(home)X
3280(node.)X
3542(During)X
3841(eviction,)X
920 3576(when)N
1158(a)X
1231(process)X
1549(is)X
1643(migrating)X
2049(back)X
2262(home,)X
2531(the)X
2680(remotePid)X
3107(\256eld)X
3309(is)X
3404(the)X
3553(home)X
3798(node)X
4016(pro-)X
920 3684(cess)N
1118(ID.)X
1305(The)X
1493(request)X
1809(data)X
2008(area)X
2207(contains)X
2566(a)X
2647(ProcMigInitiateCmd)X
3482(structure,)X
3881(and)X
4058(the)X
920 3792(reply)N
1142(parameter)X
1552(area)X
1737(contains)X
2082(the)X
2224(processID)X
2637(for)X
2773(the)X
2915(process)X
3227(on)X
3347(the)X
3489(remote)X
3781(host.)X
1240 3933(typedef)N
1553(struct)X
1791({)X
1528 4041(int)N
1816(version;)X
1528 4149(Proc_PID)N
2104(processID;)X
1528 4257(int)N
1816(userID;)X
1528 4365(int)N
1816(clientID;)X
1240 4473(})N
1310(ProcMigInitiateCmd;)X
920 4614(The)N
1106(version)X
1425(is)X
1525(a)X
1604(process)X
1928(migration)X
2339 0.2548(implementation)AX
2981(version)X
3300(number)X
3631(to)X
3743(ensure)X
4031(that)X
920 4722(the)N
1066(two)X
1238(hosts)X
1463(are)X
1609(compatible.)X
2114(The)X
2292(processID)X
2709(is)X
2801(the)X
2946(ID)X
3074(of)X
3181(the)X
3326(process)X
3641(that)X
3813(wishes)X
4101(to)X
920 4830(migrate.)N
1292(The)X
1471(userID)X
1761(is)X
1854(that)X
2028(of)X
2137(the)X
2284(owner)X
2554(of)X
2664(the)X
2812(process.)X
3178(The)X
3358(clientID)X
3704(is)X
3798(the)X
3946(Sprite)X
920 4938(hostID)N
1205(of)X
1309(the)X
1451(host)X
1635(issuing)X
1931(the)X
2073(request.)X
720 5079(1)N
792(PROC_MIGRATE_CMD_ENTIRE)X
920 5187(This)N
1116(transfers)X
1472(the)X
1615(process)X
1929(control)X
2228(block.)X
2516(The)X
2692(request)X
2996(data)X
3183(area)X
3370(contains)X
3717(an)X
3834(encapsu-)X
920 5295(lated)N
1137(control)X
1439(block.)X
1730(The)X
1909(exact)X
2142(format)X
2428(of)X
2537(the)X
2684(encapsulated)X
3211(control)X
3513(block)X
3756(is)X
3849(machine)X
920 5403(speci\256c)N
1238(and)X
1401(will)X
1575(not)X
1722(be)X
1837(described)X
2230(here.)X
2468(The)X
2642(reply)X
2864(data)X
3049(area)X
3234(is)X
3322(empty.)X
720 5544(2)N
792(PROC_MIGRATE_CMD_UPDATE)X
920 5652(This)N
1124(is)X
1221(used)X
1430(to)X
1538(update)X
1828(the)X
1979(state)X
2189(of)X
2302(a)X
2378(migrated)X
2754(process.)X
3123(The)X
3306(request)X
3617(data)X
3811(area)X
4005(con-)X
920 5760(tains)N
1151(an)X
1291(UpdateEncapState)X
2052(structure,)X
2461(which)X
2744(contains)X
3113(the)X
3279(few)X
3471(\256elds)X
3727(of)X
3855(a)X
3946(Sprite)X

31 p
%%Page: 31 31
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(31)N
920 972(process)N
1232(control)X
1529(block)X
1767(that)X
1936(a)X
2003(process)X
2315(can)X
2473(modify.)X
1240 1113(typedef)N
1553(struct)X
1791({)X
1528 1221(int)N
1816(familyID;)X
1528 1329(int)N
1816(userID;)X
1528 1437(int)N
1816(effectiveUserID;)X
1528 1545(int)N
1816(billingRate;)X
1240 1653(})N
1310 0.1992(UpdateEncapState;)AX
720 1827(3)N
792(PROC_MIGRATE_CMD_CALLBACK)X
920 1935(Not)N
1088(used.)X
720 2076(4)N
792(PROC_MIGRATE_CMD_DESTROY)X
920 2184(This)N
1135(is)X
1243(called)X
1518(to)X
1637(kill)X
1810(a)X
1897(migrated)X
2284(process.)X
2664(The)X
2859(request)X
3182(and)X
3366(reply)X
3609(data)X
3815(areas)X
4058(are)X
920 2292(empty.)N
720 2433(5)N
792(PROC_MIGRATE_CMD_RESUME)X
920 2541(This)N
1122(is)X
1217(called)X
1479(to)X
1585(continue)X
1948(execution)X
2354(of)X
2466(a)X
2541(suspended)X
2973(migrated)X
3348(process.)X
3716(The)X
3898(request)X
920 2649(and)N
1083(reply)X
1305(data)X
1490(areas)X
1712(are)X
1854(empty.)X
720 2790(6)N
792 -0.1522(PROC_MIGRATE_CMD_SUSPEND)AX
920 2898(This)N
1126(is)X
1225(called)X
1491(to)X
1601(suspend)X
1946(execution)X
2357(of)X
2473(a)X
2552(migrated)X
2931(process.)X
3303(The)X
3489(request)X
3803(and)X
3978(reply)X
920 3006(data)N
1105(areas)X
1327(are)X
1469(empty.)X
3 f
720 3318(36.)N
896(PROC_REMOTE_CALL)X
1 f
2037(This)X
2240(is)X
2336(used)X
2544(to)X
2651(forward)X
2988(a)X
3064(system)X
3364(call)X
3537(from)X
3757(a)X
3833(migrated)X
720 3426(process)N
1046(back)X
1266(to)X
1379(its)X
1508(home)X
1760(node.)X
2033(Most)X
2268(system)X
2573(calls)X
2788(are)X
2944(not)X
3105(forwarded,)X
3562(only)X
3770(a)X
3850(few)X
4031(that)X
720 3534(depend)N
1031(on)X
1160(state)X
1370(maintained)X
1832(at)X
1935(the)X
2086(home)X
2333(node.)X
2601(The)X
2784(format)X
3075(of)X
3189(the)X
3341(request)X
3653(and)X
3826(reply)X
4058(are)X
720 3642 0.2548(implementation)AN
1350(and)X
1513(system)X
1804(call)X
1968(speci\256c,)X
2310(and)X
2473(are)X
2615(not)X
2762(described)X
3155(here.)X
3 f
720 3954(37.)N
900(PROC_REMOTE_WAIT)X
1 f
2045(This)X
2252(is)X
2352(used)X
2564(when)X
2809(a)X
2889(migrated)X
3269(process)X
3594(waits)X
3834(for)X
3983(child)X
720 4062(processes.)N
1162(Communication)X
1809(with)X
2006(the)X
2149(home)X
2388(node)X
2600(is)X
2689(required)X
3035(because)X
3365(synchronization)X
4005(with)X
720 4170(process)N
1038(creation,)X
1403(process)X
1721(exit,)X
1920(and)X
2089(waiting)X
2408(is)X
2502(done)X
2719(there.)X
2991(The)X
3172(parameter)X
3589(area)X
3781(contains)X
4133(a)X
720 4278(ProcRemoteWaitCmd)N
1596(structure,)X
1982(and)X
2146(the)X
2289(request)X
2592(data)X
2778(area)X
2964(contains)X
3309(an)X
3424(array)X
3646(of)X
3750(processIDs)X
720 4386(on)N
846(which)X
1112(to)X
1218(wait.)X
1463(The)X
1644(reply)X
1873(parameter)X
2290(area)X
2482(is)X
2577(empty)X
2849(and)X
3019(the)X
3168(reply)X
3397(data)X
3589(area)X
3781(contains)X
4133(a)X
720 4494(ProcChildInfo)N
1305(structure.)X
1725(\(Byte)X
1974(ordering)X
2335(isn't)X
2541(an)X
2667(issue)X
2894(in)X
3004(the)X
3157(data)X
3353(area)X
3549(because)X
3888(process)X
720 4602(migration)N
1119(only)X
1314(works)X
1572(between)X
1917(hosts)X
2138(of)X
2242(the)X
2384(same)X
2606(machine)X
2957(architecture.\))X
1040 4743(typedef)N
1353(struct)X
1591({)X
1328 4851(Proc_PID)N
1904(pid;)X
1328 4959(int)N
1616(numPids;)X
1328 5067(Boolean)N
1904(\257ags;)X
1328 5175(int)N
1616(token;)X
1040 5283(})N
1110 0.1949(ProcRemoteWaitCmd;)AX
1040 5499(typedef)N
1353(struct)X
1591({)X
1328 5607(Proc_PID)N
1904(processID;)X
1328 5715(int)N
1616(termReason;)X

32 p
%%Page: 32 32
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(32)N
1136 972(int)N
1328(termStatus;)X
1328 1080(int)N
1616(termCode;)X
1328 1188(int)N
1616(numQuantumEnds;)X
1328 1296(int)N
1616(numWaitEvents;)X
1328 1404(Timer_Ticks)N
1904(kernelCpuUsage;)X
1328 1512(Timer_Ticks)N
1904(userCpuUsage;)X
1328 1620(Timer_Ticks)N
1904(childKernelCpuUsage;)X
1328 1728(Timer_Ticks)N
1904(childUserCpuUsage;)X
1040 1836(})N
1110(ProcChildInfo;)X
3 f
720 2073(38.)N
900(PROC_GETPCB)X
1 f
1699(This)X
1906(is)X
2006(used)X
2218(to)X
2329(return)X
2595(the)X
2750(process)X
3075(control)X
3385(block)X
3636(of)X
3753(a)X
3833(migrated)X
720 2181(process)N
1041(for)X
1186 0.2548(implementation)AX
1825(of)X
1938(the)X
3 f
2089(ps)X
1 f
2212(\(process)X
2565(status\))X
2849(application)X
3310(program.)X
3716(The)X
3898(request)X
720 2289(parameter)N
1143(area)X
1342(contains)X
1701(an)X
1830(integer)X
2136(with)X
2345(value)X
10 s
2588(GET_PCB)X
12 s
2972(\(0x1\))X
3218(or)X
10 s
3332(GET_SEG_INFO)X
12 s
3944(\(0x2\).)X
720 2397(With)N
10 s
940(GET_PCB)X
12 s
1317(the)X
1466(request)X
1775(data)X
1967(area)X
2159(contains)X
2511(the)X
2660(processID)X
3080(\(also)X
3298(an)X
3420(integer\).)X
3798(The)X
3978(reply)X
720 2505(parameter)N
1139(area)X
1333(contains)X
1687(a)X
1763(Proc_PCBInfo)X
2361(structure,)X
2756(and)X
2929(the)X
3081(reply)X
3313(data)X
3508(area)X
3703(contains)X
4058(the)X
720 2613(argument)N
1208(string)X
1551(of)X
1755(the)X
1997(process.)X
2457(The)X
2731(Proc_PCBInfo)X
3420(is)X
3608(described)X
4101(in)X
720 2721 0.1542(``/sprite/lib/include/proc.h''.)AN
1872(With)X
10 s
2086(GET_SEG_INFO)X
12 s
2686(the)X
2830(request)X
3134(data)X
3321(area)X
3508(contains)X
3855(a)X
3924(virtual)X
720 2829(memory)N
1086(segment)X
1451(number,)X
1813(and)X
1996(the)X
2158(reply)X
2400(parameter)X
2830(area)X
3035(contains)X
3400(a)X
3487(Vm_SegmentInfo)X
720 2937(structure,)N
1105(which)X
1364(is)X
1452(described)X
1845(in)X
1944 0.1607(``/sprite/lib/include/vm.h''.)AX
3 f
720 3249(39.)N
891(REMOTE_WAKEUP)X
1 f
1873(This)X
2071(is)X
2162(used)X
2365(to)X
2467(notify)X
2724(a)X
2795(remote)X
3091(process)X
3407(that)X
3580(some)X
3811(event)X
4048(has)X
720 3357(occurred.)N
1141(The)X
1327(process)X
1651(has)X
1815(presumably)X
2300(registered)X
2716(itself)X
2945(via)X
3099(some)X
3338(blocking)X
3710(call)X
3885(such)X
4096(as)X
10 s
720 3465(FS_READ)N
12 s
1098(or)X
10 s
1206(FS_WRITE)X
12 s
1588(,)X
1645(whose)X
1923(parameters)X
2379(include)X
2696(a)X
2772 0.1953(Sync_RemoteWaiter)AX
3608(structure.)X
4026(The)X
720 3573(request)N
1038(parameter)X
1464(area)X
1665(of)X
10 s
1780(REMOTE_WAKEUP)X
12 s
2531(contains)X
2891(a)X
2973 0.1953(Sync_RemoteWaiter)AX
3815(structure,)X
720 3681(and)N
886(the)X
1031(request)X
1336(data)X
1524(area,)X
1736(reply)X
1961(parameter)X
2374(area,)X
2586(and)X
2752(reply)X
2977(data)X
3165(area)X
3353(are)X
3499(empty.)X
3816(Note)X
4031(that)X
720 3789(this)N
892(wakeup)X
1224(message)X
1583(can)X
1750(race)X
1944(with)X
2148(the)X
2299(process's)X
2689(decision)X
3042(to)X
3149(wait)X
3347(at)X
3449(the)X
3599(other)X
3829(host.)X
4069(To)X
720 3897(foil)N
879(the)X
1022(race)X
1208(condition)X
1598(a)X
1667(process)X
1981(must)X
2194(be)X
2311(marked)X
2626(as)X
2732(in)X
2833(the)X
2977(process)X
3291(of)X
3397(deciding)X
3755(to)X
3856(wait.)X
4096(In)X
720 4005(the)N
867(Sprite)X
1126 0.2366(implementation,)AX
1785(this)X
1953(is)X
2046(done)X
2262(by)X
2387(clearing)X
2727(a)X
2 f
2799(notify)X
1 f
3047(bit)X
3177(kept)X
3371(in)X
3474(the)X
3620(process's)X
4005(con-)X
720 4113(trol)N
882(block.)X
1172(When)X
1430(a)X
10 s
1497(REMOTE_WAKEUP)X
12 s
2237(RPC)X
2446(is)X
2539(received)X
2895(by)X
3020(a)X
3092(Sprite)X
3351(host,)X
3564(the)X
3711(notify)X
3970(bit)X
4101(in)X
720 4221(the)N
878(process)X
1205(control)X
1517(block)X
1770(is)X
1873(set.)X
2067(Before)X
2368(actually)X
2713(blocking)X
3089(a)X
3171(process)X
3498(\(in)X
3644(response)X
4019(to)X
4133(a)X
10 s
720 4329(FS_WOULD_BLOCK)N
12 s
1488(return)X
1748(code\))X
1992(the)X
2140(Sprite)X
2400(kernel)X
2671(checks)X
2963(that)X
3138(the)X
3287(notify)X
3548(bit)X
3681(has)X
3840(not)X
3994(been)X
720 4437(set)N
857(asynchronously)X
1490(via)X
1638(this)X
1807(RPC.)X
2066(If)X
2160(the)X
2308(bit)X
2439(has)X
2596(been)X
2807(set,)X
2967(then)X
3162(the)X
3309(process)X
3626(is)X
3719(not)X
3871(blocked)X
720 4545(and)N
884(it)X
963(retries)X
1229(its)X
1345(operation)X
1734(immediately.)X
2290(If)X
2379(this)X
2543(technique)X
2944(were)X
3157(not)X
3306(used)X
3508(then)X
3700(noti\256cations)X
720 4653(might)N
969(get)X
1111(lost)X
1274(and)X
1437(hang)X
1648(the)X
1790(process.)X
3 f
720 4965(40.)N
889(SIG_SEND)X
1 f
1430(This)X
1626(is)X
1715(used)X
1916(to)X
2016(issue)X
2233(a)X
2301(signal)X
2556(to)X
2656(a)X
2724(remote)X
3018(process.)X
3380(The)X
3556(request)X
3860(parame-)X
720 5073(ter)N
853(are)X
1002(contains)X
1354(a)X
1428(SigParams)X
1869(structure.)X
2284(The)X
2464(request)X
2772(data)X
2963(area,)X
3178(reply)X
3406(parameter)X
3822(area,)X
4037(and)X
720 5181(reply)N
942(data)X
1127(area)X
1312(are)X
1454(empty.)X
1040 5322(typedef)N
1353(struct)X
1591({)X
1328 5430(int)N
1616(sigNum;)X
1328 5538(int)N
1616(code;)X
1328 5646(Proc_PID)N
1904(id;)X
1328 5754(Boolean)N
1904(familyID;)X

33 p
%%Page: 33 33
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(33)N
1136 972(int)N
1328(effUid;)X
1040 1080(})N
1110(SigParms;)X
720 1221(The)N
897(sigNum)X
1228(is)X
1319(a)X
1390(Sprite)X
1648(signal,)X
1930(and)X
2097(the)X
2243(code)X
2453(\256eld)X
2652(is)X
2744(used)X
2948(to)X
3051(modify)X
3357(this.)X
3572(The)X
3750(id)X
3853(is)X
3945(a)X
4016(pro-)X
720 1329(cess)N
906(identi\256er)X
1280(if)X
1365(the)X
1509(familyID)X
1887(\256eld)X
2083(is)X
2172(zero,)X
2387(otherwise)X
2786(id)X
2886(is)X
2975(a)X
3043(process)X
3356(group)X
3605(identi\256er.)X
4026(The)X
720 1437(effUid)N
998(is)X
1089(the)X
1234(effective)X
1599(user)X
1787(ID)X
1916(of)X
2024(the)X
2170(signaling)X
2551(process,)X
2891(and)X
3058(this)X
3225(is)X
3317(used)X
3521(to)X
3624(verify)X
3882(permis-)X
720 1545(sions.)N
3 f
720 1857(41.)N
897(FS_RELEASE_NEW)X
1 f
1862(This)X
2066(is)X
2163(used)X
2372(by)X
2502(the)X
2654(I/O)X
2816(server)X
3085(during)X
3370(process)X
3692(migration)X
4101(to)X
720 1965(tell)N
872(the)X
1018(source)X
1297(of)X
1405(a)X
1476(migrated)X
1847(process)X
2163(that)X
2336(it)X
2418(can)X
2580(release)X
2875(an)X
2993(I/O)X
3148(stream)X
3432(that)X
3604(had)X
3770(been)X
3979(asso-)X
720 2073(ciated)N
982(with)X
1184(the)X
1333(process.)X
1700(Recall)X
1978(that)X
2154(fork\(\))X
2410(and)X
2581(dup\(\))X
2821(create)X
3084(extra)X
3309(references)X
3737(to)X
3844(a)X
3919(stream)X
720 2181(descriptor,)N
1156(so)X
1268(this)X
1434(call)X
1601(is)X
1692(used)X
1895(to)X
1997(release)X
2292(that)X
2463(reference.)X
2896(This)X
3093(cannot)X
3376(be)X
3493(done)X
3706(safely)X
3962(at)X
4058(the)X
720 2289(time)N
917(the)X
1060(process)X
1373(leaves,)X
1663(so)X
1773(it)X
1852(is)X
1941(done)X
2153(as)X
2258(a)X
2326(side)X
2506(effect)X
2751(of)X
2857(the)X
10 s
2997(FS_MIGRATE)X
12 s
3516(RPC)X
3723(issued)X
3989(from)X
720 2397(the)N
863(destination)X
1311(client.)X
1599(At)X
1720(this)X
1883(time)X
2079(the)X
2221(current)X
2518(offset)X
2761(in)X
2860(the)X
3002(source)X
3277(client's)X
3585(stream)X
3866(descrip-)X
720 2505(tor)N
854(is)X
945(also)X
1127(returned)X
1475(to)X
1577(the)X
1723(I/O)X
1879(server,)X
2166(in)X
2269(case)X
2463(it)X
2545(needs)X
2792(to)X
2895(be)X
3014(cached)X
3310(there)X
3531(while)X
3773(the)X
3919(stream)X
720 2613(is)N
814(shared)X
1095(by)X
1221(processes)X
1618(on)X
1743(different)X
2104(hosts.)X
2378(The)X
2557(request)X
2864(parameter)X
3279(area)X
3469(contains)X
3819(the)X
3966(ID)X
4096(of)X
720 2721(the)N
863(stream)X
1145(that)X
1315(migrated,)X
1708(and)X
1873(the)X
2017(reply)X
2241(contains)X
2588(an)X
2705(inUse)X
2955(\257ag)X
3125(and)X
3290(the)X
3434(current)X
3733(offset.)X
4026(The)X
720 2829(inUse)N
974(\257ag)X
1147(should)X
1432(be)X
1552(set)X
1688(if)X
1776(their)X
1982(are)X
2129(still)X
2303(processes)X
2700(on)X
2825(the)X
2972(source)X
3252(client)X
3496(that)X
3670(reference)X
4058(the)X
720 2937(stream)N
1001(descriptor.)X
1040 3078(typedef)N
1353(struct)X
1591({)X
1328 3186(Fs_FileID)N
1741(streamID;)X
1040 3294(})N
1110(FsStreamReleaseParam;)X
1040 3510(typedef)N
1353(struct)X
1591({)X
1328 3618(Boolean)N
1904(inUse;)X
1328 3726(int)N
1616(offset;)X
1040 3834(})N
1110(FsStreamReleaseReplyNew;)X
3 f
720 4179(42.)N
888(Bugs)X
1114(and)X
1292(Omissions)X
1 f
920 4320(This)N
1119(speci\256cation)X
1634(is)X
1726(based)X
1973(on)X
2097(the)X
2244(Sprite)X
2503 0.2548(implementation)AX
3138(as)X
3247(of)X
3356(Fall)X
3535(1989.)X
3804(There)X
4058(are)X
720 4428(a)N
800(couple)X
1094(of)X
1211(known)X
1509(bugs)X
1727(in)X
1839(it,)X
1954(and)X
2130(it)X
2221(is)X
2322(a)X
2402(bit)X
2541(crufty.)X
2855(However,)X
3267(there)X
3496(is)X
3596(a)X
3675(lot)X
3813(of)X
3929(inertia)X
720 4536(behind)N
1022(the)X
1180(network)X
1535(interface)X
1913(because)X
2258(changing)X
2651(it)X
2745(requires)X
3095(coordinated)X
3591(changes)X
3942(on)X
4079(all)X
720 4644(Sprite)N
985(hosts.)X
1265(Future)X
1551(changes)X
1895(to)X
2004(the)X
2156(interface)X
2528(will)X
2712(ideally)X
3009(be)X
3134(backward)X
3542(compatible)X
4005(with)X
720 4752(this)N
887(interface)X
1253(by)X
1377(introducing)X
1849(new)X
2037(RPCs)X
2284(that)X
2458(\256x)X
2588(certain)X
2880(bugs,)X
3114(while)X
3357(retaining)X
3729(the)X
3876(original)X
720 4860(for)N
871(compatibility)X
1425(with)X
1635(hosts)X
1871(running)X
2209(older)X
2446(versions)X
2805(of)X
2923(Sprite.)X
3239(The)X
3427(known)X
3726(bugs)X
3945(in)X
4058(the)X
720 4968(interface)N
1082(are)X
1224(summarized)X
1719(below.)X
3 f
720 5280(42.1.)N
965(FS_REMOTE_LINK)X
1875(vs.)X
2014(FS_SYMBOLIC_LINK)X
1 f
3067(The)X
3247(Fs_ReadLink)X
3795(\(or)X
3937(UNIX)X
720 5388(readlink\))N
1099(system)X
1397(call)X
1568(is)X
1663(implemented)X
2197(as)X
2307(an)X
10 s
2424(FS_OPEN)X
12 s
2791(followed)X
3163(by)X
3289(an)X
10 s
3406(FS_READ)X
12 s
3752(.)X
3830(The)X
4010(type)X
720 5496(\256eld)N
917(in)X
1018(the)X
1162(Fs_OpenArgs)X
1720(is)X
1811(speci\256ed)X
2180(as)X
10 s
2283(FS_REMOTE_LINK)X
12 s
2999(in)X
3101(the)X
3246(current)X
3546 0.2366(implementation,)AX
720 5604(but)N
867(the)X
1009(server)X
1268(should)X
1548(also)X
1727(allow)X
1965(regular)X
2262(symbolic)X
2639(links)X
2850(to)X
2949(be)X
3064(opened.)X

34 p
%%Page: 34 34
12 s 12 xH 0 xS 1 f
3 f
1 f
4080 684(34)N
3 f
720 972(42.2.)N
984(Device)X
1305(Attributes)X
1 f
1822(Currently,)X
2263(while)X
2525(the)X
2691(I/O)X
2867(server)X
3151(maintains)X
3575(the)X
3742(access)X
4037(and)X
720 1080(modify)N
1030(times)X
1271(for)X
1415(a)X
1490(device)X
1773(while)X
2018(it)X
2103(is)X
2198(opened,)X
2531(this)X
2701(information)X
3187(is)X
3282(not)X
3436(pushed)X
3739(back)X
3952(to)X
4058(the)X
720 1188(\256le)N
867(server)X
1126(when)X
1358(the)X
1500(device)X
1776(is)X
1864(closed.)X
3 f
720 1500(42.3.)N
970(Pathname)X
1420(Redirection)X
1 f
1983(There)X
2243(is)X
2342(some)X
2580(cruft)X
2797(in)X
2907(the)X
3060(way)X
3255(pathnames)X
3702(are)X
3855(returned)X
720 1608(from)N
933(the)X
1077(server.)X
1386(In)X
1492(some)X
1721(RPCs)X
1965(there)X
2184(is)X
2274(an)X
2391(extra)X
2610(4)X
2683(bytes)X
2911(in)X
3011(the)X
3154(data)X
3340(area)X
3526(that)X
3696(precedes)X
4058(the)X
720 1716(pathname,)N
1146(but)X
1296(in)X
1398(the)X
1544(Attributes)X
1957(RPCs)X
2203(the)X
2349(padding)X
2687(is)X
2779(gone.)X
3042(This)X
3241(is)X
3333(a)X
3404(hold-over)X
3806(from)X
4021(pre-)X
720 1824(byteswapping)N
1285(days)X
1492(when)X
1731(the)X
1880(4)X
1959(bytes)X
2193(in)X
2299(the)X
2448(data)X
2640(area)X
2832(contained)X
3238(the)X
3387(pre\256x)X
3642(length.)X
3962(Simi-)X
720 1932(larly,)N
958(with)X
1166(the)X
10 s
1317(FS_RENAME)X
12 s
1820(and)X
10 s
1992(FS_LINK)X
12 s
(,)S
2374(there)X
2605(are)X
2761(8)X
2847(bytes)X
3088(of)X
3206(junk)X
3415(before)X
3699(the)X
3855(returned)X
720 2040(pathname.)N
3 f
720 2352(42.4.)N
963(FS_SERVER_WRITE_THRU)X
1 f
2289(This)X
2487(\257ag)X
2658(is)X
2749(currently)X
3125(private)X
3421(to)X
3524(the)X
3670(client)X
3913(side)X
4096(of)X
720 2460(the)N
868 0.2366(implementation.)AX
1552(It)X
1641(could)X
1885(be)X
2006(passed)X
2292(through)X
2621(to)X
2726(the)X
2874(server)X
3139(to)X
3244(force)X
3471(a)X
3543(write-through)X
4101(to)X
720 2568(disk.)N
958(Currently,)X
1381(however,)X
1766(the)X
1914(client)X
2159(and)X
2328(server)X
2593(writing)X
2901(policies)X
3231(are)X
3379(completely)X
3839(indepen-)X
720 2676(dent.)N
963(Ordinarily)X
1393(clients)X
1674(uses)X
1867(a)X
1938(30)X
2062(second)X
2357(delay,)X
2618(and)X
2785(servers)X
3085(use)X
3241(write-back-ASAP.)X
4005(This)X
720 2784(means)N
995(that)X
1169(a)X
1241(\256le)X
1393(ages)X
1593(in)X
1697(the)X
1844(client's)X
2157(cache)X
2406(for)X
2547(30)X
2672(seconds,)X
3029(and)X
3197(then)X
3392(gets)X
3576(scheduled)X
3991(for)X
4133(a)X
720 2892(disk)N
918(write-back)X
1368(after)X
1583(the)X
1739(last)X
1910(block)X
2161(arrives)X
2460(from)X
2684(the)X
2839(client.)X
3139(Note)X
3363(that)X
3545(a)X
3625(client)X
3877(can)X
4048(use)X
720 3000(fsync\(\),)N
1058(in)X
1175(which)X
1452(case)X
1660(the)X
1820(blocks)X
2113(are)X
2273(forced)X
2561(through)X
2902(to)X
3019(the)X
3180(servers)X
3495(disk,)X
3722(and)X
3904(fsync\(\))X
720 3108(doesn't)N
1027(return)X
1281(until)X
1482(after)X
1683(that)X
1852(has)X
2004(happened.)X

35 p
%%Page: 35 35
12 s 12 xH 0 xS 1 f
3 f
14 s
2311 990(Index)N
1 f
12 s
960 1239(1)N
1032(Introduction)X
1536(..................................................................................................)X
4128(1)X
960 1366(1.1)N
1104(The)X
1278(RPC)X
1483(Protocol)X
1848(.....................................................................................)X
4128(1)X
960 1493(1.2)N
1104(Source)X
1395(Code)X
1622(References)X
2088(...........................................................................)X
4128(1)X
960 1620(2)N
1032(ECHO_2)X
1416(.......................................................................................................)X
4128(3)X
960 1747(3)N
1032(SEND)X
1320(...........................................................................................................)X
4128(3)X
960 1874(4)N
1032(RECEIVE)X
1464(.....................................................................................................)X
4128(3)X
960 2001(5)N
1032(GETTIME)X
1488(....................................................................................................)X
4128(3)X
960 2128(6)N
1032(FS_PREFIX)X
1560(.................................................................................................)X
4128(4)X
960 2255(7)N
1032(FS_OPEN)X
1464(.....................................................................................................)X
4128(5)X
960 2382(7.1)N
1104(FS_OPEN)X
1532(Request)X
1866(Format)X
2184(.......................................................................)X
4128(5)X
960 2509(7.2)N
1104(FS_OPEN)X
1532(Reply)X
1786(Format)X
2088(...........................................................................)X
4128(9)X
960 2636(8)N
1032(FS_READ)X
1488(....................................................................................................)X
4080(11)X
960 2763(9)N
1032(FS_WRITE)X
1536(..................................................................................................)X
4080(12)X
960 2890(10)N
1080(FS_CLOSE)X
1584(................................................................................................)X
4080(13)X
960 3017(11)N
1080(FS_UNLINK)X
1632(..............................................................................................)X
4080(13)X
960 3144(12)N
1080(FS_RENAME)X
1680(............................................................................................)X
4080(14)X
960 3271(13)N
1080(FS_MKDIR)X
1584(................................................................................................)X
4080(15)X
960 3398(14)N
1080(FS_RMDIR)X
1584(................................................................................................)X
4080(15)X
960 3525(15)N
1080(FS_MKDEV)X
1632(..............................................................................................)X
4080(15)X
960 3652(16)N
1080(FS_LINK)X
1488(....................................................................................................)X
4080(17)X
960 3779(17)N
1080(FS_SYM_LINK)X
1752(.........................................................................................)X
4080(17)X
960 3906(18)N
1080(FS_GET_ATTR)X
1752(.........................................................................................)X
4080(17)X
960 4033(19)N
1080(FS_SET_ATTR)X
1728(..........................................................................................)X
4080(18)X
960 4160(20)N
1080(FS_GET_ATTR_PATH)X
2064(............................................................................)X
4080(18)X
960 4287(21)N
1080(FS_SET_ATTR_PATH)X
2040(.............................................................................)X
4080(19)X
960 4414(22)N
1080(FS_GET_IO_ATTR)X
1896(...................................................................................)X
4080(20)X
960 4541(23)N
1080(FS_SET_IO_ATTR)X
1896(...................................................................................)X
4080(20)X
960 4668(24)N
1080(FS_DEV_OPEN)X
1776(........................................................................................)X
4080(20)X
960 4795(25)N
1080(FS_SELECT)X
1632(..............................................................................................)X
4080(21)X
960 4922(26)N
1080(FS_IO_CONTROL)X
1872(....................................................................................)X
4080(21)X
960 5049(27)N
1080(FS_CONSIST)X
1680(............................................................................................)X
4080(24)X
960 5176(28)N
1080(FS_CONSIST_REPLY)X
2016(..............................................................................)X
4080(25)X
960 5303(29)N
1080(FS_COPY_BLOCK)X
1896(...................................................................................)X
4080(26)X
960 5430(30)N
1080(FS_MIGRATE)X
1704(...........................................................................................)X
4080(26)X
960 5557(31)N
1080(FS_RELEASE)X
1680(............................................................................................)X
4080(27)X
960 5684(32)N
1080(FS_REOPEN)X
1632(..............................................................................................)X
4080(27)X
960 5811(33)N
1080(FS_RECOVERY)X
1776(........................................................................................)X
4080(29)X

36 p
%%Page: 36 36
12 s 12 xH 0 xS 1 f
3 f
1 f
960 972(34)N
1080 -0.2500(FS_DOMAIN_INFO)AX
1944(.................................................................................)X
4080(29)X
960 1099(35)N
1080 -0.2333(PROC_MIG_COMMAND)AX
2160(........................................................................)X
4080(30)X
960 1226(36)N
1080(PROC_REMOTE_CALL)X
2112(..........................................................................)X
4080(31)X
960 1353(37)N
1080(PROC_REMOTE_WAIT)X
2112(..........................................................................)X
4080(31)X
960 1480(38)N
1080(PROC_GETPCB)X
1776(........................................................................................)X
4080(32)X
960 1607(39)N
1080(REMOTE_WAKEUP)X
1968(................................................................................)X
4080(32)X
960 1734(40)N
1080(SIG_SEND)X
1560(.................................................................................................)X
4080(32)X
960 1861(41)N
1080(FS_RELEASE_NEW)X
1968(................................................................................)X
4080(33)X
960 1988(42)N
1080(Bugs)X
1301(and)X
1464(Omissions)X
1896(...................................................................................)X
4080(33)X
960 2115(42.1)N
1152(FS_REMOTE_LINK)X
2002(vs.)X
2135(FS_SYMBOLIC_LINK)X
3096(.................................)X
4080(33)X
960 2242(42.2)N
1152(Device)X
1449(Attributes)X
1872(....................................................................................)X
4080(34)X
960 2369(42.3)N
1152(Pathname)X
1556(Redirection)X
2040(.............................................................................)X
4080(34)X
960 2496(42.4)N
1152(FS_SERVER_WRITE_THRU)X
2376(...............................................................)X
4080(34)X

37 p
%%Page: 37 37
12 s 12 xH 0 xS 1 f
3 f
14 s
2121 990(List)N
2336(of)X
2458(Tables)X
1 f
10 s
920 1239(1.)N
1000(Sprite)X
1211(Remote)X
1480(Procedure)X
1826(Calls)X
12 s
2016(..............................................................................)X
4128(2)X
10 s
920 1366(2.)N
1000(Source)X
1243(Code)X
1432(References)X
12 s
1824(......................................................................................)X
4128(3)X
960 1493(3.)N
1056(Sprite)X
1310(Internal)X
1634(Stream)X
1931(Types)X
2208(......................................................................)X
4128(5)X
960 1620(4.)N
1056(Permission)X
1507(Bits)X
1704(...........................................................................................)X
4128(6)X
960 1747(5.)N
1056(File)X
1230(Descriptor)X
1660(Types)X
1920(..................................................................................)X
4128(7)X
960 1874(6.)N
1056(Usage)X
1320(Flags)X
1560(.................................................................................................)X
4128(8)X
960 2001(7.)N
1056(Device)X
1353(Types)X
1632(..............................................................................................)X
4080(16)X
960 2128(8.)N
1056(Set)X
1203(Attribute)X
1575(Flags)X
1824(......................................................................................)X
4080(18)X
960 2255(9.)N
1056(User-de\256ned)X
1576(File)X
1750(Types)X
2016(..............................................................................)X
4080(19)X

37 p
%%Trailer
xt

xs
