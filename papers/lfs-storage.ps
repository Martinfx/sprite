%!PS-Adobe-1.0
%%Creator: jaywalk.Berkeley.EDU:mendel (& Rosenblum,477E,9669,7754121)
%%Title: stdin (ditroff)
%%CreationDate: Wed May  1 10:49:13 1991
%%EndComments
%	@(#)psdit.pro	1.3 4/15/88
% lib/psdit.pro -- prolog for psdit (ditroff) files
% Copyright (c) 1984, 1985 Adobe Systems Incorporated. All Rights Reserved.
% last edit: shore Sat Nov 23 20:28:03 1985
% RCSID: $Header: psdit.pro,v 2.1 85/11/24 12:19:43 shore Rel $

% Changed by Edward Wang (edward@ucbarpa.berkeley.edu) to handle graphics,
% 17 Feb, 87.

/$DITroff 140 dict def $DITroff begin
/fontnum 1 def /fontsize 10 def /fontheight 10 def /fontslant 0 def
/xi{0 72 11 mul translate 72 resolution div dup neg scale 0 0 moveto
 /fontnum 1 def /fontsize 10 def /fontheight 10 def /fontslant 0 def F
 /pagesave save def}def
/PB{save /psv exch def currentpoint translate 
 resolution 72 div dup neg scale 0 0 moveto}def
/PE{psv restore}def
/arctoobig 90 def /arctoosmall .05 def
/m1 matrix def /m2 matrix def /m3 matrix def /oldmat matrix def
/tan{dup sin exch cos div}def
/point{resolution 72 div mul}def
/dround	{transform round exch round exch itransform}def
/xT{/devname exch def}def
/xr{/mh exch def /my exch def /resolution exch def}def
/xp{}def
/xs{docsave restore end}def
/xt{}def
/xf{/fontname exch def /slotno exch def fontnames slotno get fontname eq not
 {fonts slotno fontname findfont put fontnames slotno fontname put}if}def
/xH{/fontheight exch def F}def
/xS{/fontslant exch def F}def
/s{/fontsize exch def /fontheight fontsize def F}def
/f{/fontnum exch def F}def
/F{fontheight 0 le{/fontheight fontsize def}if
 fonts fontnum get fontsize point 0 0 fontheight point neg 0 0 m1 astore
 fontslant 0 ne{1 0 fontslant tan 1 0 0 m2 astore m3 concatmatrix}if
 makefont setfont .04 fontsize point mul 0 dround pop setlinewidth}def
/X{exch currentpoint exch pop moveto show}def
/N{3 1 roll moveto show}def
/Y{exch currentpoint pop exch moveto show}def
/S{show}def
/ditpush{}def/ditpop{}def
/AX{3 -1 roll currentpoint exch pop moveto 0 exch ashow}def
/AN{4 2 roll moveto 0 exch ashow}def
/AY{3 -1 roll currentpoint pop exch moveto 0 exch ashow}def
/AS{0 exch ashow}def
/MX{currentpoint exch pop moveto}def
/MY{currentpoint pop exch moveto}def
/MXY{moveto}def
/cb{pop}def	% action on unknown char -- nothing for now
/n{}def/w{}def
/p{pop showpage pagesave restore /pagesave save def}def
/Dt{/Dlinewidth exch def}def 1 Dt
/Ds{/Ddash exch def}def -1 Ds
/Di{/Dstipple exch def}def 1 Di
/Dsetlinewidth{2 Dlinewidth mul setlinewidth}def
/Dsetdash{Ddash 4 eq{[8 12]}{Ddash 16 eq{[32 36]}
 {Ddash 20 eq{[32 12 8 12]}{[]}ifelse}ifelse}ifelse 0 setdash}def
/Dstroke{gsave Dsetlinewidth Dsetdash 1 setlinecap stroke grestore
 currentpoint newpath moveto}def
/Dl{rlineto Dstroke}def
/arcellipse{/diamv exch def /diamh exch def oldmat currentmatrix pop
 currentpoint translate 1 diamv diamh div scale /rad diamh 2 div def
 currentpoint exch rad add exch rad -180 180 arc oldmat setmatrix}def
/Dc{dup arcellipse Dstroke}def
/De{arcellipse Dstroke}def
/Da{/endv exch def /endh exch def /centerv exch def /centerh exch def
 /cradius centerv centerv mul centerh centerh mul add sqrt def
 /eradius endv endv mul endh endh mul add sqrt def
 /endang endv endh atan def
 /startang centerv neg centerh neg atan def
 /sweep startang endang sub dup 0 lt{360 add}if def
 sweep arctoobig gt
 {/midang startang sweep 2 div sub def /midrad cradius eradius add 2 div def
  /midh midang cos midrad mul def /midv midang sin midrad mul def
  midh neg midv neg endh endv centerh centerv midh midv Da
  Da}
 {sweep arctoosmall ge
  {/controldelt 1 sweep 2 div cos sub 3 sweep 2 div sin mul div 4 mul def
   centerv neg controldelt mul centerh controldelt mul
   endv neg controldelt mul centerh add endh add
   endh controldelt mul centerv add endv add
   centerh endh add centerv endv add rcurveto Dstroke}
  {centerh endh add centerv endv add rlineto Dstroke}
  ifelse}
 ifelse}def
/Dpatterns[
[%cf[widthbits]
[8<0000000000000010>]
[8<0411040040114000>]
[8<0204081020408001>]
[8<0000103810000000>]
[8<6699996666999966>]
[8<0000800100001008>]
[8<81c36666c3810000>]
[8<0f0e0c0800000000>]
[8<0000000000000010>]
[8<0411040040114000>]
[8<0204081020408001>]
[8<0000001038100000>]
[8<6699996666999966>]
[8<0000800100001008>]
[8<81c36666c3810000>]
[8<0f0e0c0800000000>]
[8<0042660000246600>]
[8<0000990000990000>]
[8<0804020180402010>]
[8<2418814242811824>]
[8<6699996666999966>]
[8<8000000008000000>]
[8<00001c3e363e1c00>]
[8<0000000000000000>]
[32<00000040000000c00000004000000040000000e0000000000000000000000000>]
[32<00000000000060000000900000002000000040000000f0000000000000000000>]
[32<000000000000000000e0000000100000006000000010000000e0000000000000>]
[32<00000000000000002000000060000000a0000000f00000002000000000000000>]
[32<0000000e0000000000000000000000000000000f000000080000000e00000001>]
[32<0000090000000600000000000000000000000000000007000000080000000e00>]
[32<00010000000200000004000000040000000000000000000000000000000f0000>]
[32<0900000006000000090000000600000000000000000000000000000006000000>]]
[%ug
[8<0000020000000000>]
[8<0000020000002000>]
[8<0004020000002000>]
[8<0004020000402000>]
[8<0004060000402000>]
[8<0004060000406000>]
[8<0006060000406000>]
[8<0006060000606000>]
[8<00060e0000606000>]
[8<00060e000060e000>]
[8<00070e000060e000>]
[8<00070e000070e000>]
[8<00070e020070e000>]
[8<00070e020070e020>]
[8<04070e020070e020>]
[8<04070e024070e020>]
[8<04070e064070e020>]
[8<04070e064070e060>]
[8<06070e064070e060>]
[8<06070e066070e060>]
[8<06070f066070e060>]
[8<06070f066070f060>]
[8<060f0f066070f060>]
[8<060f0f0660f0f060>]
[8<060f0f0760f0f060>]
[8<060f0f0760f0f070>]
[8<0e0f0f0760f0f070>]
[8<0e0f0f07e0f0f070>]
[8<0e0f0f0fe0f0f070>]
[8<0e0f0f0fe0f0f0f0>]
[8<0f0f0f0fe0f0f0f0>]
[8<0f0f0f0ff0f0f0f0>]
[8<1f0f0f0ff0f0f0f0>]
[8<1f0f0f0ff1f0f0f0>]
[8<1f0f0f8ff1f0f0f0>]
[8<1f0f0f8ff1f0f0f8>]
[8<9f0f0f8ff1f0f0f8>]
[8<9f0f0f8ff9f0f0f8>]
[8<9f0f0f9ff9f0f0f8>]
[8<9f0f0f9ff9f0f0f9>]
[8<9f8f0f9ff9f0f0f9>]
[8<9f8f0f9ff9f8f0f9>]
[8<9f8f1f9ff9f8f0f9>]
[8<9f8f1f9ff9f8f1f9>]
[8<bf8f1f9ff9f8f1f9>]
[8<bf8f1f9ffbf8f1f9>]
[8<bf8f1fdffbf8f1f9>]
[8<bf8f1fdffbf8f1fd>]
[8<ff8f1fdffbf8f1fd>]
[8<ff8f1fdffff8f1fd>]
[8<ff8f1ffffff8f1fd>]
[8<ff8f1ffffff8f1ff>]
[8<ff9f1ffffff8f1ff>]
[8<ff9f1ffffff9f1ff>]
[8<ff9f9ffffff9f1ff>]
[8<ff9f9ffffff9f9ff>]
[8<ffbf9ffffff9f9ff>]
[8<ffbf9ffffffbf9ff>]
[8<ffbfdffffffbf9ff>]
[8<ffbfdffffffbfdff>]
[8<ffffdffffffbfdff>]
[8<ffffdffffffffdff>]
[8<fffffffffffffdff>]
[8<ffffffffffffffff>]]
[%mg
[8<8000000000000000>]
[8<0822080080228000>]
[8<0204081020408001>]
[8<40e0400000000000>]
[8<66999966>]
[8<8001000010080000>]
[8<81c36666c3810000>]
[8<f0e0c08000000000>]
[16<07c00f801f003e007c00f800f001e003c007800f001f003e007c00f801f003e0>]
[16<1f000f8007c003e001f000f8007c003e001f800fc007e003f001f8007c003e00>]
[8<c3c300000000c3c3>]
[16<0040008001000200040008001000200040008000000100020004000800100020>]
[16<0040002000100008000400020001800040002000100008000400020001000080>]
[16<1fc03fe07df0f8f8f07de03fc01f800fc01fe03ff07df8f87df03fe01fc00f80>]
[8<80>]
[8<8040201000000000>]
[8<84cc000048cc0000>]
[8<9900009900000000>]
[8<08040201804020100800020180002010>]
[8<2418814242811824>]
[8<66999966>]
[8<8000000008000000>]
[8<70f8d8f870000000>]
[8<0814224180402010>]
[8<aa00440a11a04400>]
[8<018245aa45820100>]
[8<221c224180808041>]
[8<88000000>]
[8<0855800080550800>]
[8<2844004482440044>]
[8<0810204080412214>]
[8<00>]]]def
/Dfill{
 transform /maxy exch def /maxx exch def
 transform /miny exch def /minx exch def
 minx maxx gt{/minx maxx /maxx minx def def}if
 miny maxy gt{/miny maxy /maxy miny def def}if
 Dpatterns Dstipple 1 sub get exch 1 sub get
 aload pop /stip exch def /stipw exch def /stiph 128 def
 /imatrix[stipw 0 0 stiph 0 0]def
 /tmatrix[stipw 0 0 stiph 0 0]def
 /minx minx cvi stiph idiv stiph mul def
 /miny miny cvi stipw idiv stipw mul def
 gsave eoclip 0 setgray
 miny stiph maxy{
  tmatrix exch 5 exch put
  minx stipw maxx{
   tmatrix exch 4 exch put tmatrix setmatrix
   stipw stiph true imatrix {stip} imagemask
  }for
 }for
 grestore
}def
/Dp{Dfill Dstroke}def
/DP{Dfill currentpoint newpath moveto}def
end

/ditstart{$DITroff begin
 /nfonts 60 def			% NFONTS makedev/ditroff dependent!
 /fonts[nfonts{0}repeat]def
 /fontnames[nfonts{()}repeat]def
/docsave save def
}def

% character outcalls
/oc{
 /pswid exch def /cc exch def /name exch def
 /ditwid pswid fontsize mul resolution mul 72000 div def
 /ditsiz fontsize resolution mul 72 div def
 ocprocs name known{ocprocs name get exec}{name cb}ifelse
}def
/fractm [.65 0 0 .6 0 0] def
/fraction{
 /fden exch def /fnum exch def gsave /cf currentfont def
 cf fractm makefont setfont 0 .3 dm 2 copy neg rmoveto
 fnum show rmoveto currentfont cf setfont(\244)show setfont fden show 
 grestore ditwid 0 rmoveto
}def
/oce{grestore ditwid 0 rmoveto}def
/dm{ditsiz mul}def
/ocprocs 50 dict def ocprocs begin
(14){(1)(4)fraction}def
(12){(1)(2)fraction}def
(34){(3)(4)fraction}def
(13){(1)(3)fraction}def
(23){(2)(3)fraction}def
(18){(1)(8)fraction}def
(38){(3)(8)fraction}def
(58){(5)(8)fraction}def
(78){(7)(8)fraction}def
(sr){gsave 0 .06 dm rmoveto(\326)show oce}def
(is){gsave 0 .15 dm rmoveto(\362)show oce}def
(->){gsave 0 .02 dm rmoveto(\256)show oce}def
(<-){gsave 0 .02 dm rmoveto(\254)show oce}def
(==){gsave 0 .05 dm rmoveto(\272)show oce}def
(uc){gsave currentpoint 400 .009 dm mul add translate
     8 -8 scale ucseal oce}def
end

% an attempt at a PostScript FONT to implement ditroff special chars
% this will enable us to 
%	cache the little buggers
%	generate faster, more compact PS out of psdit
%	confuse everyone (including myself)!
50 dict dup begin
/FontType 3 def
/FontName /DIThacks def
/FontMatrix [.001 0 0 .001 0 0] def
/FontBBox [-260 -260 900 900] def% a lie but ...
/Encoding 256 array def
0 1 255{Encoding exch /.notdef put}for
Encoding
 dup 8#040/space put %space
 dup 8#110/rc put %right ceil
 dup 8#111/lt put %left  top curl
 dup 8#112/bv put %bold vert
 dup 8#113/lk put %left  mid curl
 dup 8#114/lb put %left  bot curl
 dup 8#115/rt put %right top curl
 dup 8#116/rk put %right mid curl
 dup 8#117/rb put %right bot curl
 dup 8#120/rf put %right floor
 dup 8#121/lf put %left  floor
 dup 8#122/lc put %left  ceil
 dup 8#140/sq put %square
 dup 8#141/bx put %box
 dup 8#142/ci put %circle
 dup 8#143/br put %box rule
 dup 8#144/rn put %root extender
 dup 8#145/vr put %vertical rule
 dup 8#146/ob put %outline bullet
 dup 8#147/bu put %bullet
 dup 8#150/ru put %rule
 dup 8#151/ul put %underline
 pop
/DITfd 100 dict def
/BuildChar{0 begin
 /cc exch def /fd exch def
 /charname fd /Encoding get cc get def
 /charwid fd /Metrics get charname get def
 /charproc fd /CharProcs get charname get def
 charwid 0 fd /FontBBox get aload pop setcachedevice
 2 setlinejoin 40 setlinewidth
 newpath 0 0 moveto gsave charproc grestore
 end}def
/BuildChar load 0 DITfd put
/CharProcs 50 dict def
CharProcs begin
/space{}def
/.notdef{}def
/ru{500 0 rls}def
/rn{0 840 moveto 500 0 rls}def
/vr{0 800 moveto 0 -770 rls}def
/bv{0 800 moveto 0 -1000 rls}def
/br{0 840 moveto 0 -1000 rls}def
/ul{0 -140 moveto 500 0 rls}def
/ob{200 250 rmoveto currentpoint newpath 200 0 360 arc closepath stroke}def
/bu{200 250 rmoveto currentpoint newpath 200 0 360 arc closepath fill}def
/sq{80 0 rmoveto currentpoint dround newpath moveto
    640 0 rlineto 0 640 rlineto -640 0 rlineto closepath stroke}def
/bx{80 0 rmoveto currentpoint dround newpath moveto
    640 0 rlineto 0 640 rlineto -640 0 rlineto closepath fill}def
/ci{500 360 rmoveto currentpoint newpath 333 0 360 arc
    50 setlinewidth stroke}def

/lt{0 -200 moveto 0 550 rlineto currx 800 2cx s4 add exch s4 a4p stroke}def
/lb{0 800 moveto 0 -550 rlineto currx -200 2cx s4 add exch s4 a4p stroke}def
/rt{0 -200 moveto 0 550 rlineto currx 800 2cx s4 sub exch s4 a4p stroke}def
/rb{0 800 moveto 0 -500 rlineto currx -200 2cx s4 sub exch s4 a4p stroke}def
/lk{0 800 moveto 0 300 -300 300 s4 arcto pop pop 1000 sub
    0 300 4 2 roll s4 a4p 0 -200 lineto stroke}def
/rk{0 800 moveto 0 300 s2 300 s4 arcto pop pop 1000 sub
    0 300 4 2 roll s4 a4p 0 -200 lineto stroke}def
/lf{0 800 moveto 0 -1000 rlineto s4 0 rls}def
/rf{0 800 moveto 0 -1000 rlineto s4 neg 0 rls}def
/lc{0 -200 moveto 0 1000 rlineto s4 0 rls}def
/rc{0 -200 moveto 0 1000 rlineto s4 neg 0 rls}def
end

/Metrics 50 dict def Metrics begin
/.notdef 0 def
/space 500 def
/ru 500 def
/br 0 def
/lt 416 def
/lb 416 def
/rt 416 def
/rb 416 def
/lk 416 def
/rk 416 def
/rc 416 def
/lc 416 def
/rf 416 def
/lf 416 def
/bv 416 def
/ob 350 def
/bu 350 def
/ci 750 def
/bx 750 def
/sq 750 def
/rn 500 def
/ul 500 def
/vr 0 def
end

DITfd begin
/s2 500 def /s4 250 def /s3 333 def
/a4p{arcto pop pop pop pop}def
/2cx{2 copy exch}def
/rls{rlineto stroke}def
/currx{currentpoint pop}def
/dround{transform round exch round exch itransform} def
end
end
/DIThacks exch definefont pop
ditstart
(psc)xT
576 1 1 xr
1(Times-Roman)xf 1 f
2(Times-Italic)xf 2 f
3(Times-Bold)xf 3 f
4(Times-BoldItalic)xf 4 f
5(Helvetica)xf 5 f
6(Helvetica-Bold)xf 6 f
7(Courier)xf 7 f
8(Courier-Bold)xf 8 f
9(Symbol)xf 9 f
10(DIThacks)xf 10 f
10 s
1 f
xi
%%EndProlog

%%Page: 1 1
10 s 10 xH 0 xS 1 f
12 s
3 f
16 s
1552 1425(The)N
1797(LFS)X
2063(Storage)X
2515(M)X
2636(anager)X
1 f
12 s
1905 1759(Mendel)N
2223(Rosenblum)X
1908 1867(John)N
2113(K.)X
2230(Ousterhout)X
1751 2083(Computer)N
2160(Science)X
2484(Division)X
1383 2191 0.3542(Electrical)AN
1778(Engineering)X
2273(and)X
2436(Computer)X
2845(Sciences)X
1820 2299(University)N
2250(of)X
2354(California)X
1886 2407(Berkeley,)N
2282(CA)X
2439(94720)X
2011 2515(415-642-9669)N
1730 2623 0.1400(mendel@sprite.berkeley.edu)AN
1755 2731(ouster@sprite.berkeley.edu)N
3 f
2104 3292(Abstract)N
1 f
555 3433(Advances)N
973(in)X
1087(computer)X
1490(system)X
1796(technology)X
2263(in)X
2377(the)X
2534(areas)X
2771(of)X
2890(CPUs,)X
3175(disk)X
3373(subsystems,)X
3872(and)X
555 3541(volatile)N
879(RAM)X
1130(memory)X
1484(are)X
1635(combining)X
2080(to)X
2188(create)X
2452(performance)X
2972(problems)X
3363(existing)X
3701(\256le)X
3857(sys-)X
555 3649(tems)N
771(are)X
923(ill-equipped)X
1423(to)X
1532(solve.)X
1817(This)X
2022(paper)X
2270(identi\256es)X
2657(the)X
2809(problems)X
3201(of)X
3314(using)X
3555(the)X
3706(existing)X
555 3757(UNIX)N
829(\256le)X
987(systems)X
1326(on)X
1456(1990's)X
1751(technology)X
2213(and)X
2386(presents)X
2735(an)X
2860(alternative)X
3302(\256le)X
3459(system)X
3760(design)X
555 3865(that)N
735(can)X
904(use)X
1067(disks)X
1299(an)X
1425(order-of-magnitude)X
2214(more)X
2446(ef\256ciently)X
2871(for)X
3017(typical)X
3314(UNIX)X
3587(workloads.)X
555 3973(The)N
746(design,)X
1061(named)X
1358(LFS)X
1563(for)X
1715(log-structured)X
2295(\256le)X
2458(system,)X
2789(treats)X
3038(the)X
3196(disk)X
3396(as)X
3516(a)X
3599(segmented)X
555 4081(append-only)N
1065(log.)X
1265(This)X
1465(allows)X
1745(LFS)X
1939(to)X
2043(write)X
2270(many)X
2513(small)X
2751(changes)X
3090(to)X
3194(disk)X
3383(in)X
3487(a)X
3559(single)X
3818(large)X
555 4189(I/O)N
710(while)X
951(still)X
1123(maintaining)X
1611(the)X
1756(fast)X
1922(\256le)X
2071(reads)X
2300(of)X
2406(existing)X
2737(\256le)X
2886(systems.)X
3240(In)X
3346(addition,)X
3712(the)X
3856(log-)X
555 4297(structured)N
979(approach)X
1371(allows)X
1660(near)X
1864(instantaneous)X
2426(\256le)X
2587(system)X
2892(crash)X
3133(recovery)X
3508(without)X
3840(cou-)X
555 4405(pling)N
779(CPU)X
991(and)X
1156(disk)X
1342(performance)X
1855(with)X
2051(synchronous)X
2561(disk)X
2746(writes.)X
3054(This)X
3250(paper)X
3489(describes)X
3872(and)X
555 4513(justi\256es)N
883(the)X
1030(major)X
1284(data)X
1474(structures)X
1877(and)X
2045(algorithms)X
2486(of)X
2594(the)X
2740(LFS)X
2933(design.)X
3236(We)X
3398(compare)X
3758(an)X
3877(im-)X
555 4621(plementation)N
1096(of)X
1213(LFS)X
1415(in)X
1527(the)X
1681(Sprite)X
1947(distributed)X
2395(operating)X
2795(system)X
3098(to)X
3209(SunOS's)X
3585(\256le)X
3744(system)X
555 4729(running)N
891(on)X
1024(the)X
1179(same)X
1414(hardware.)X
1833(For)X
2003(tests)X
2211(that)X
2393(create,)X
2685(destroy,)X
3029(or)X
3145(modify)X
3459(\256les)X
3655(at)X
3761(a)X
3840(high)X
555 4837(rate,)N
750(LFS)X
941(can)X
1101(achieve)X
1422(an)X
1539(order-of-magnitude)X
2318(speedup)X
2658(over)X
2854(SunOS.)X
3174(In)X
3279(spite)X
3486(of)X
3591(its)X
3707(obvious)X
555 4945 0.1910(write-optimization,)AN
1332(LFS's)X
1601(read)X
1802(performance)X
2324(matches)X
2675(or)X
2790(exceeds)X
3130(the)X
3282(SunOS)X
3587(\256le)X
3744(system)X
555 5053(under)N
798(most)X
1009(common)X
1370(UNIX)X
1633(workloads.)X
555 5486(This)N
757(paper)X
1002(was)X
1182(presented)X
1582(at)X
1682(the)X
1830(Summer)X
2186('90)X
2344(USENIX)X
2725(Technical)X
3136(Conference,)X
3634(Anaheim,)X
555 5598(California,)N
994(June)X
1194(1990.)X

1 p
%%Page: 1 2
12 s 12 xH 0 xS 1 f
3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
555 780(1.)N
675(Introduction)X
1 f
755 921(When)N
1019(the)X
1171(current)X
1478(UNIX)X
1751(\256le)X
1908(systems)X
2246(were)X
2467(designed,)X
2867(a)X
2944("fast")X
3195(computer)X
3592(had)X
3764(a)X
3840(one-)X
555 1029(MIPS)N
812(CPU)X
1032(and)X
1205(at)X
1309(most)X
1530(a)X
1607(few)X
1785(megabytes)X
2231(of)X
2345(memory.)X
2723(The)X
2906(machines)X
3303(of)X
3416(the)X
3567(1990's)X
3861(will)X
555 1137(have)N
777(many)X
1031(hundreds)X
1423(of)X
1543(MIPS)X
1806(of)X
1926(CPU)X
2152(and)X
2331(many)X
2585(hundreds)X
2977(of)X
3096(megabytes)X
3547(of)X
3666(memory.)X
555 1245(Unfortunately,)N
1144(the)X
1287(disks)X
1509(attached)X
1856(to)X
1956(these)X
2179(machines)X
2568(will)X
2743(likely)X
2988(have)X
3195(access)X
3465(times)X
3698(within)X
3968(a)X
555 1353(factor)N
809(of)X
918(\256ve)X
1091(of)X
1200(the)X
1347(1970's)X
1637(disks.)X
1911(Unless)X
2201(current)X
2503(\256le)X
2655(systems)X
2988(are)X
3135(modi\256ed)X
3505(to)X
3608(match)X
3872(this)X
555 1461(change)N
862(of)X
976(balance)X
1305(between)X
1660(technologies,)X
2205(the)X
2357(machines)X
2754(of)X
2867(the)X
3018(1990's)X
3312(will)X
3495(operate)X
3812(in)X
3920(an)X
555 1569(I/O-bound)N
981(mode)X
1221(where)X
1481(order-of-magnitude)X
2260(increases)X
2638(in)X
2738(CPU)X
2949(speed)X
3193(may)X
3384(produce)X
3719(no)X
3840(visi-)X
555 1677(ble)N
697(speed-up)X
1068(in)X
1167(applications.)X
755 1818(As)N
887(faster)X
1127(CPUs)X
1376(shrink)X
1642(the)X
1786(CPU)X
1998(time)X
2195(of)X
2300(programs,)X
2712(the)X
2855(overall)X
3148(execution)X
3548(time)X
3745(will)X
3920(be)X
555 1926(dominated)N
989(by)X
1112(the)X
1257(time)X
1456(to)X
1558(perform)X
1895(disk)X
2082(accesses.)X
2483(Large)X
2735(volatile)X
3052(main)X
3272(memories)X
3679(will)X
3856(per-)X
555 2034(mit)N
712(large)X
933(\256le)X
1084(caches.)X
1417(Disk)X
1626(delays)X
1900(due)X
2067(to)X
2170(\256le)X
2321(reads)X
2552(will)X
2730(be)X
2849(alleviated)X
3253(by)X
3377(these)X
3603(caches)X
3888(but)X
555 2142(\256le)N
707(writes)X
971(must)X
1187(be)X
1307(pushed)X
1607(to)X
1710(disk)X
1898(for)X
2038(reliability.)X
2490(Disk)X
2699(traf\256c)X
2957(will)X
3135(be)X
3254(dominated)X
3689(by)X
3813(these)X
555 2250(writes.)N
866(The)X
1044(challenge)X
1442(for)X
1582(computer)X
1974(systems)X
2305(of)X
2412(the)X
2557(1990's)X
2845(will)X
3022(be)X
3140(to)X
3242(support)X
3557(these)X
3782(work-)X
555 2358(loads)N
787(without)X
1110(requiring)X
1492(the)X
1639(redesign)X
1994(of)X
2102(programs)X
2493(in)X
2596(order)X
2827(to)X
2930(change)X
3231(their)X
3436(\256le)X
3587(access)X
3861(pat-)X
555 2485(terns.)N
809(For)X
985(the)X
11 s
1144(UNIX)X
9 s
1362 2447(1)N
12 s
1441 2485(environment)N
1971(this)X
2153(means)X
2442(ef\256ciently)X
2875(supporting)X
3328(changes)X
3680(to)X
3797(many)X
555 2593(small)N
788(\256les)X
972(as)X
1076(well)X
1266(as)X
1370(large)X
1587(\256les.)X
755 2734(In)N
877(the)X
1037(existing)X
11 s
1382(UNIX)X
12 s
1642(\256le)X
1807(system,)X
2140(creation)X
2492(and)X
2672(deletion)X
3024(of)X
3145(small)X
3395(\256les)X
3596(cause)X
3851(disk)X
555 2842(accesses)N
907(that)X
1077(are)X
1220(small,)X
1478(non-sequential,)X
2094(and)X
2258(synchronous)X
2768(\(the)X
2943(application)X
3397(cannot)X
3679(continue)X
555 2950(until)N
759(the)X
904(disk)X
1091(I/O)X
1246(completes.\))X
1720(The)X
1896(synchronous)X
2407(accesses)X
2759(limit)X
2968(application)X
3423(performance)X
3936(to)X
555 3058(disk)N
740(performance.)X
1300(The)X
1475(small)X
1709(non-sequential)X
2301(accesses)X
2652(limit)X
2860(the)X
3003(disk)X
3188(bandwidth)X
3619(utilization)X
555 3166(to)N
659(a)X
731(fraction)X
1060(of)X
1169(the)X
1316(disk's)X
1574(maximum)X
1994(bandwidth.)X
2477(File)X
2656(systems)X
2989(of)X
3098(the)X
3245(1990's)X
3534(must)X
3749(decou-)X
555 3274(ple)N
705(application)X
1166(and)X
1337(disk)X
1528(performance)X
2046(and)X
2216(use)X
2375(the)X
2524(disks)X
2752(much)X
2997(more)X
3226(ef\256ciently)X
3648(to)X
3754(reduce)X
555 3382(the)N
697(I/O)X
849(bottleneck.)X
755 3523(This)N
958(paper)X
1204(describes)X
1594(a)X
1669(disk)X
1860(storage)X
2169(manager)X
2532(designed)X
2905(to)X
3011(use)X
3170(disks)X
3398(as)X
3509(ef\256ciently)X
3931(as)X
555 3631(possible)N
902(to)X
1009(support)X
1329(write-dominated)X
1997(workloads.)X
2476(The)X
2657(storage)X
2966(manager,)X
3353(called)X
3 f
3615(LFS)X
1 f
3791(,)X
3846(uses)X
555 3739(the)N
705(concepts)X
1074(of)X
3 f
1186(log-structured)X
1804(\256le)X
1958(systems)X
1 f
2272([1])X
2415(to)X
2521(increase)X
2868(the)X
3017(performance)X
3535(of)X
3646(the)X
11 s
3793(UNIX)X
12 s
555 3847(\256le)N
707(system.)X
1051(In)X
1160(a)X
1232(log-structured)X
1801(\256le)X
1953(system,)X
2273(all)X
2399(modi\256cations)X
2952(to)X
3055(the)X
3201(\256le)X
3352(system)X
3647(including)X
555 3955(data,)N
765(directories,)X
1221(and)X
1385(metadata)X
1759(blocks)X
2034(are)X
2176(written)X
2473(to)X
2572(disk)X
2756(in)X
2855(large,)X
3096(sequential)X
3511(transfers)X
3866(that)X
555 4063(proceed)N
888(at)X
986(maximum)X
1404(disk)X
1591(bandwidth.)X
2072(Small)X
2324(\256le)X
2474(creation)X
2812(and)X
2978(deletion)X
3316(in)X
3418(LFS)X
3610(cause)X
3851(disk)X
555 4171(accesses)N
905(that)X
1074(are)X
1216(large,)X
1457(sequential,)X
1896(and)X
2059(asynchronous.)X
755 4312(LFS's)N
1016(large)X
1236(sequential)X
1654(writes)X
1915(cause)X
2155(a)X
2224(disk)X
2410(layout)X
2677(that)X
2848(is)X
2938(very)X
3135(different)X
3493(from)X
3706(existing)X
555 4420(UNIX)N
823(\256le)X
975(systems.)X
1356(Although)X
1748(the)X
1895(layout)X
2165(differs,)X
2469(LFS)X
2663(maintains)X
3067(many)X
3310(of)X
3419(the)X
3565(same)X
3791(meta-)X
555 4528(data)N
743(structures)X
1144(such)X
1346(as)X
1452(inodes)X
1729(and)X
1894(indirect)X
2215(blocks.)X
2540(This)X
2737(allows)X
3014(LFS)X
3205(to)X
3306(ef\256ciently)X
3723(support)X
555 4636(the)N
703(full)X
867(UNIX)X
1136(\256le)X
1289(system)X
1585(semantics)X
1994(including)X
2387(fast)X
2555(random)X
2878(and)X
3046(sequential)X
3466(read)X
3661(access)X
3936(to)X
555 4744(\256les.)N
796(The)X
979(major)X
1237(difference)X
1661(between)X
2015(LFS)X
2213(and)X
2385(UNIX)X
2656(disk)X
2848(layout)X
3121(is)X
3217(that)X
3394(inodes,)X
3701(the)X
3851(disk)X
555 4852(resident)N
887(data)X
1075(structure)X
1439(containing)X
1873(\256le)X
2023(attributes,)X
2432(are)X
2576(not)X
2725(at)X
2821(\256xed)X
3039(locations)X
3413(on)X
3535(disk)X
3721(in)X
3822(LFS.)X
555 4960(LFS)N
750(must)X
967(maintain)X
1335(a)X
1408(data)X
1599(structure)X
1966(that)X
2141(tracks)X
2400(the)X
2547(current)X
2849(location)X
3189(of)X
3298(the)X
3445(inode)X
3688(of)X
3797(every)X
555 5068(\256le.)N
750(Once)X
977(LFS)X
1166(has)X
1318(indexed)X
1647(through)X
1970(this)X
2133(data)X
2318(structure,)X
2703(\256le)X
2850(reads)X
3077(are)X
3219(identical)X
3576(to)X
3675(UNIX.)X
755 5209(The)N
941(log-structure)X
1469(of)X
1585(LFS)X
1786(requires)X
2131(that)X
2311(large)X
2539(disk)X
2734(regions)X
3052(be)X
3178(available)X
3562(for)X
3709(writing.)X
555 5317(LFS)N
757(manages)X
1131(these)X
1366(regions)X
1686(by)X
1819(partitioning)X
2306(the)X
2461(disk)X
2658(into)X
2845(large)X
3075(sequential)X
3503(pieces)X
3780(called)X
10 s
10 f
555 5407(h)N
587(hhhhhhhhhhhhhhhhhhhhhhhhhhhh)X
7 s
1 f
727 5500(1)N
9 s
773 5532(UNIX)N
10 s
973(is)X
1046(a)X
1102(trademark)X
1448(of)X
1535(AT&T.)X
3 f
12 s
2203 6048(-)N
2259(1)X
2331(-)X

2 p
%%Page: 2 3
12 s 12 xH 0 xS 3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
555 780(segments)N
1 f
928(.)X
1003(Blocks)X
1297(are)X
1442(added)X
1699(to)X
1801(the)X
1946(\256le)X
2096(system)X
2390(a)X
2460(segment)X
2808(at)X
2905(a)X
2975(time)X
3173(and)X
3338(disjoint)X
3653(segments)X
555 888(are)N
702(linked)X
972(together)X
1317(to)X
1421(form)X
1637(a)X
1709(logically)X
2076(consecutive)X
2560(segmented)X
3000(log.)X
3199(In)X
3307(order)X
3538(to)X
3641(keep)X
3851(seg-)X
555 996(ments)N
821(available)X
1206(for)X
1354(writing,)X
1692(LFS)X
1892(performs)X
2274(an)X
2400(operation)X
2799(called)X
3 f
3065(segment)X
3436(cleaning)X
1 f
3778(.)X
3861(The)X
555 1104(operation)N
949(reads)X
1182(fragmented)X
1651(segments)X
2039(into)X
2219(memory,)X
2594(compacts)X
2988(the)X
3136(live)X
3311(data,)X
3525(and)X
3693(writes)X
3957(it)X
555 1212(back)N
761(to)X
860(segments)X
1242(on)X
1362(disk.)X
755 1353(The)N
936(log-structure)X
1459(of)X
1570(LFS)X
1766(provides)X
2127(several)X
2430(other)X
2658(bene\256ts)X
2987(in)X
3092(addition)X
3438(to)X
3543(high)X
3744(perfor-)X
555 1461(mance.)N
891(The)X
1077(log)X
1236(allows)X
1523(LFS)X
1724(to)X
1835(recover)X
2160(from)X
2383(system)X
2686(crashes)X
3005(much)X
3255(faster)X
3505(than)X
3706(existing)X
555 1569(UNIX)N
834(\256le)X
997(systems.)X
1365(LFS)X
1570(never)X
1824(needs)X
2083(to)X
2198(scan)X
2409(the)X
2567(entire)X
2827(\256le)X
2990(system)X
3297(to)X
3412(recover)X
3741(from)X
3968(a)X
555 1677(crash.)N
833(The)X
1010(append-only)X
1518(nature)X
1786(of)X
1893(LFS)X
2085(means)X
2357(that)X
2528(\256les)X
2714(and)X
2879(directories)X
3312(are)X
3456(not)X
3605(updated)X
3936(in)X
555 1785(place.)N
831(This)X
1026(allows)X
1301(LFS)X
1490(to)X
1589(provide)X
1907(better)X
2151(crash)X
2378(guarantees)X
2814(and)X
2977(higher)X
3247(performance.)X
755 1926(The)N
934(rest)X
1102(of)X
1211(this)X
1379(paper)X
1622(is)X
1715(organized)X
2124(into)X
2303(5)X
2380(sections.)X
2742(It)X
2829(begins)X
3108(with)X
3307(an)X
3426(examination)X
3931(of)X
555 2034(current)N
866(technology)X
1332(trends)X
1605(and)X
1782(their)X
1997(effects)X
2292(on)X
2426(storage)X
2742(manager)X
3112(design.)X
3449(The)X
3637(following)X
555 2142(section,)N
877(Section)X
1190(3,)X
1286(describes)X
1668(failures)X
1981(of)X
2085(existing)X
2414(\256le)X
2561(systems.)X
2937(Section)X
3250(4)X
3322(describes)X
3704(the)X
3846(LFS)X
555 2250(design,)N
856(and)X
1020(Section)X
1334(5)X
1407(presents)X
1747(some)X
1975(performance)X
2487(numbers)X
2843(taken)X
3077(from)X
3289(an)X
3405 0.2548(implementation)AX
555 2358(in)N
665(the)X
818(Sprite)X
1083(distributed)X
1530(operating)X
1929(system[2].)X
2391(The)X
2576(paper)X
2825(concludes)X
3245(with)X
3451(a)X
3528(status)X
3781(report)X
555 2466(and)N
718(discussion)X
1142(of)X
1246(future)X
1500(directions)X
1904(for)X
2040(LFS.)X
3 f
555 2670(2.)N
675(Technology)X
1174(and)X
1352(storage)X
1675(managers)X
1 f
755 2811(This)N
957(section)X
1261(examines)X
1656(the)X
1805(effect)X
2056(that)X
2232(the)X
2381(current)X
2685(technology)X
3144(trends)X
3410(in)X
3515(CPU)X
3731(speeds,)X
555 2919(disk)N
744(performance,)X
1284(and)X
1452(main)X
1674(memory)X
2024(sizes)X
2240(are)X
2387(having)X
2678(on)X
2803(storage)X
3110(managers.)X
3532(Many)X
3785(of)X
3893(the)X
555 3027(design)N
838(decisions)X
1228(of)X
1340(LFS)X
1537(can)X
1703(be)X
1826(attributed)X
2228(to)X
2334(the)X
2483(desire)X
2744(to)X
2850(allow)X
3095(graceful)X
3442(scaling)X
3746(of)X
3857(sys-)X
555 3135(tems)N
761(in)X
860(the)X
1002(face)X
1187(of)X
1291(unbalanced)X
1754(technology)X
2206(changes.)X
3 f
555 3339(2.1.)N
747(Disks)X
994(and)X
1172(CPUs)X
1430(speed)X
1 f
755 3480(The)N
953(most)X
1188(obvious)X
1540(technology)X
2016(mismatch)X
2439(affecting)X
2830(disk)X
3038(storage)X
3364(managers)X
3781(is)X
3893(the)X
555 3588(exponential)N
1047(increase)X
1405(in)X
1522(CPU)X
1750(speeds)X
2048(compared)X
2470(with)X
2682(the)X
2841(small)X
3091(increase)X
3448(in)X
3564(disk)X
3765(access)X
555 3696(speeds.)N
872(The)X
1059(later)X
1268(part)X
1455(of)X
1572(the)X
1727(1980's)X
2025(has)X
2190(seen)X
2398(CPUs)X
2658(speeds)X
2951(doubling)X
3330(every)X
3580(year.)X
3830(Disk)X
555 3804(access)N
826(times,)X
1084(constrained)X
1553(by)X
1674(mechanics,)X
2130(have)X
2337(only)X
2533(improved)X
2927(by)X
3048(a)X
3115(factor)X
3364(of)X
3468(two)X
3636(in)X
3735(the)X
3877(last)X
555 3912(decade.)N
901(Although)X
1294(the)X
1442(the)X
1590(bandwidth)X
2025(and)X
2193(throughput)X
2644(of)X
2753(disk)X
2942(subsystems)X
3408(can)X
3571(be)X
3691(substan-)X
555 4020(tially)N
782(increased)X
1174(by)X
1298(the)X
1444(use)X
1600(of)X
1708(arrays)X
1971(of)X
2078(disks)X
2302(such)X
2505(as)X
2612(RAIDs[3],)X
3046(the)X
3191(access)X
3464(time)X
3663(for)X
3802(small)X
555 4128(disk)N
745(accesses)X
1101(is)X
1195(not)X
1348(substantially)X
1865(improved)X
2264(and)X
2433(can)X
2597(even)X
2809(be)X
2930(hurt)X
3115(by)X
3241(this)X
3409(technique.)X
3861(The)X
555 4236(widening)N
940(gap)X
1106(between)X
1454(CPU)X
1667(and)X
1833(disk)X
2020(access)X
2293(time)X
2492(suggests)X
2844(that)X
3016(the)X
3161(performance)X
3675(of)X
3781(future)X
555 4344(systems)N
883(may)X
1073(be)X
1188(limited)X
1486(by)X
1606(the)X
1748(disk)X
1932(subsystem.)X
3 f
555 4548(2.2.)N
747(Memory)X
1124(sizes)X
1335(and)X
1513(disk)X
1707(read/write)X
2159(ratios)X
1 f
755 4689(Disk)N
980(and)X
1163(CPU)X
1393(speeds)X
1693(are)X
1855(not)X
2022(the)X
2184(only)X
2399(technology)X
2870(that)X
3058(affects)X
3358(storage)X
3679(manager)X
555 4797(design.)N
858(Main)X
1089(memory)X
1438(sizes)X
1653(of)X
1761(machines)X
2153(are)X
2299(increasing)X
2723(with)X
2922(CPU)X
3136(speeds.)X
3444(The)X
3622(fast)X
3788(CPUs)X
555 4905(of)N
680(the)X
843(1990s)X
1117(will)X
1312(have)X
1539(multi-billions)X
2109(of)X
2234(bytes)X
2482(of)X
2607(memory,)X
2996(from)X
3227(which)X
3506(effective)X
3888(\256le)X
555 5013(caches)N
844(will)X
1026(be)X
1149(built.)X
1406(Large)X
1663(\256le)X
1818(caches)X
2107(will)X
2289(alter)X
2493(the)X
2643(read-to-write)X
3178(ratio)X
3387(presented)X
3787(to)X
3893(the)X
555 5121(disk)N
753(subsystems.)X
1252(Most)X
1487(reads)X
1728(will)X
1916(be)X
2045(satis\256ed)X
2398(by)X
2532(the)X
2688(cache)X
2946(while)X
3198(most)X
3423(writes)X
3696(must)X
3920(be)X
555 5229(written)N
857(to)X
960(disk)X
1148(for)X
1288(reliability.)X
1740(In)X
1848(contrast)X
2181(to)X
2284(the)X
2430(\256le)X
2581(systems)X
2913(of)X
3021(the)X
3167(1970's)X
3456(and)X
3623(1980's,)X
3936(in)X
555 5337(which)N
825(disk)X
1020(traf\256c)X
1285(was)X
1469(dominated)X
1911(by)X
2041(reads,)X
2302(the)X
2454(\256le)X
2611(systems)X
2949(of)X
3063(the)X
3215(1990's)X
3510(will)X
3694(see)X
3851(disk)X
555 5445(traf\256c)N
809(dominated)X
1240(by)X
1360(writes.)X
3 f
2203 6048(-)N
2259(2)X
2331(-)X

3 p
%%Page: 3 4
12 s 12 xH 0 xS 3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
555 780(2.3.)N
747(Storage)X
1086(manager)X
1473(design)X
1 f
755 921(The)N
950(radical)X
1258(difference)X
1694(in)X
1814(CPU)X
2045(and)X
2229(disk)X
2434(speeds)X
2735(make)X
2989(it)X
3087(imperative)X
3544(that)X
3733(storage)X
555 1029(managers)N
957(decouple)X
1338(an)X
1462(application's)X
1993(performance)X
2513(from)X
2733(the)X
2884(disk)X
3076(access)X
3354(speed.)X
3653(This)X
3856(sec-)X
555 1137(tion)N
735(describes)X
1123(disk)X
1313(access)X
1589(modes)X
1870(that)X
2045(storage)X
2353(managers)X
2752(can)X
2916(exploit)X
3214(in)X
3319(order)X
3552(to)X
3657(use)X
3814(disks)X
555 1245(more)N
777(ef\256ciently.)X
3 f
555 1386(Asynchronous)N
1164(I/O)X
1 f
755 1494(Storage)N
1080(managers)X
1480(can)X
1645(lessen)X
1910(the)X
2058(effect)X
2308(of)X
2418(the)X
2566(disk/CPU)X
2969(speed)X
3218(unbalance)X
3639(by)X
3765(avoid-)X
755 1602(ing)N
910(operations)X
1343(in)X
1450(which)X
1717(the)X
1867(CPU)X
2085(is)X
2181(forced)X
2458(to)X
2564(wait)X
2761(for)X
2904(disk)X
3095(operations)X
3527(to)X
3633(complete.)X
755 1710(Blocking)N
1140(operations,)X
1597(called)X
1860(synchronous)X
2377(disk)X
2569(operations,)X
3026(couple)X
3315(the)X
3464(CPU)X
3681(and)X
3851(disk)X
755 1818(by)N
875(requiring)X
1252(the)X
1394(requesting)X
1819(processes)X
2211(to)X
2310(wait)X
2500(while)X
2738(the)X
2880(disk)X
3064(is)X
3152(accessed.)X
3 f
555 1959(Sequential)N
1011(I/O)X
1 f
755 2067(Disk)N
969(access)X
1248(ef\256ciency)X
1661(depends)X
2009(on)X
2138(how)X
2336(the)X
2487(disk)X
2680(is)X
2777(accessed.)X
3195(Disk)X
3408(subsystems)X
3877(can)X
755 2175(be)N
885(accessed)X
1261(in)X
1374(sequential)X
1803(mode)X
2055(an)X
2184(order-of-magnitude)X
2976(more)X
3212(ef\256ciently)X
3641(than)X
3845(they)X
755 2283(can)N
923(be)X
1048(accessed)X
1419(randomly.)X
1870(Storage)X
2198(managers)X
2601(should)X
2891(exploit)X
3193(this)X
3366(property)X
3726(by)X
3856(per-)X
755 2391(forming)N
1111(large)X
1350(sequential)X
1786(accesses.)X
2181(Disk)X
2407(head)X
2634(motion)X
2952(\(seeks\))X
3269(should)X
3570(be)X
3706(avoided)X
755 2499(whenever)N
1153(possible.)X
3 f
555 2703(3.)N
675(Problems)X
1089(with)X
1294(existing)X
1633(UNIX)X
1901(\256le)X
2048(systems)X
1 f
755 2844(Before)N
1042(presenting)X
1468(the)X
1611(design)X
1887(of)X
1992(LFS)X
2182(it)X
2261(is)X
2350(useful)X
2609(to)X
2708(outline)X
3000(the)X
3142(failures)X
3455(of)X
3559(existing)X
3888(\256le)X
555 2952(systems.)N
913(Although)X
1306(this)X
1475(section)X
1778(uses)X
1973(the)X
2121(BSD)X
2337(\256le)X
2489(system[4])X
2897(as)X
3006(an)X
3126(example,)X
3506(the)X
3653(problems)X
555 3060(are)N
700(present)X
1005(in)X
1107(most)X
1321(commercial)X
1804(\256le)X
1954(systems)X
2285(in)X
2387(use)X
2542(today.)X
2831(The)X
3007(major)X
3258(reason)X
3535(that)X
3706(existing)X
555 3168(\256le)N
715(systems)X
1056(will)X
1243(not)X
1403(scale)X
1633(with)X
1840(technology)X
2304(is)X
2404(that)X
2585(they)X
2787(perform)X
3133(too)X
3292(many)X
3542(random)X
3872(and)X
555 3276(synchronous)N
1064(disk)X
1248(operations.)X
755 3417(A)N
859(disk)X
1054(storage)X
1367(manager)X
1734(design)X
2019(is)X
2117(strongly)X
2466(in\257uenced)X
2901(by)X
3031(the)X
3183(expected)X
3560(workload)X
3957(it)X
555 3525(must)N
767(support.)X
1128(LFS)X
1318(is)X
1407(designed)X
1774(to)X
1873(support)X
2185(the)X
2327(workload)X
2714(of)X
2818(the)X
2960(of\256ce/engineering)X
3685(environ-)X
555 3633(ment.)N
827(This)X
1029(environment)X
1546(has)X
1704(been)X
1916 0.2813(characterized)AX
2461(\(see[5]\))X
2790(by)X
2916(a)X
2989(large)X
3212(number)X
3536(of)X
3646(relatively)X
555 3741(small)N
798(\256les)X
992(\(less)X
1202(than)X
1402(8)X
1484(kilobytes\))X
1902(whose)X
2180(contents)X
2534(are)X
2685(accessed)X
3055(sequentially)X
3554(and)X
3726(in)X
3834(their)X
555 3849(entirety.)N
912(The)X
1100(average)X
1438(\256le)X
1599(life)X
1766(time)X
1976(is)X
2078(short,)X
2332(less)X
2514(than)X
2718(a)X
2799(day)X
2975(before)X
3258(it)X
3349(is)X
3450(overwritten)X
3931(or)X
555 3957(deleted.)N
915(Ef\256cient)X
1280(handling)X
1650(of)X
1763(\256le)X
1918(systems)X
2254(containing)X
2693(both)X
2896(small,)X
3161(rapidly)X
3466(changing)X
3851(\256les)X
555 4065(and)N
718(large)X
935(\256les)X
1119(is)X
1207(needed)X
1504(by)X
1624(this)X
1787(and)X
1950(many)X
2188(other)X
2410(UNIX)X
2673(environments.)X
3 f
555 4269(3.1.)N
747(File)X
927(creation)X
1288(example)X
1 f
755 4410(The)N
930(performance)X
1442(problems)X
1825(of)X
1929(the)X
2071(BSD)X
2281(\256le)X
2428(system)X
2719(in)X
2818(the)X
2960(of\256ce/engineering)X
3685(environ-)X
555 4518(ment)N
785(can)X
956(be)X
1084(seen)X
1292(by)X
1425(examining)X
1869(the)X
2023(disk)X
2219(access)X
2501(patterns)X
2842(caused)X
3140(by)X
3272(small)X
3517(\256le)X
3676(creation.)X
555 4626(Figure)N
845(1)X
932(shows)X
1210(the)X
1367(disk)X
1566(accesses)X
1931(required)X
2290(to)X
2403(create)X
2672(two)X
2854(single-block)X
3368(\256les)X
3566(in)X
3679(different)X
555 4734(directories.)N
1010(The)X
1184(UNIX)X
1447(system)X
1738(calls)X
1939(used)X
2139(to)X
2238(create)X
2493(the)X
2635(\256les)X
2819(were:)X
7 f
875 4875(fd)N
1049(=)X
1165 0.3958(creat\("dir1/file1",)AX
2325(0\);)X
875 4983 0.3894(write\(fd,buffer,blockSize\);)AN
875 5091 0.4167(close\(fd\);)AN
875 5199(fd)N
1049(=)X
1165 0.3958(creat\("dir2/file2",)AX
2325(0\);)X
875 5307 0.3894(write\(fd,buffer,blockSize\);)AN
875 5415 0.4167(close\(fd\);)AN
1 f
555 5556(Figure)N
832(1)X
906(illustrates)X
1306(the)X
1449(disturbing)X
1864(access)X
2135(patterns)X
2465(of)X
2570(many)X
2809(small)X
3043(random)X
3362(and)X
3526(synchronous)X
555 5664(writes.)N
868(Each)X
2 f
1091(creat)X
1 f
1319(system)X
1616(call)X
1786(causes)X
2067(a)X
2140(random)X
2464(synchronous)X
2979(write)X
3206(of)X
3315(both)X
3515(the)X
3662(allocated)X
555 5772(inode)N
830(block)X
1105(and)X
1305(the)X
1484(directory)X
1893(block.)X
2192(Synchronous)X
2754(writes)X
3050(of)X
3190(directory)X
3598(and)X
3797(inode)X
3 f
2203 6048(-)N
2259(3)X
2331(-)X

4 p
%%Page: 4 5
12 s 12 xH 0 xS 3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
1 f
10 f
555 876(hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh)N
11 s
1 f
1084 2307(Block)N
1317(key:)X
3230 2347(Allocated)N
2845(Data)X
2197(Directory)X
1711(Inode)X
-1 Ds
1 Dt
3068 2226 MXY
0 162 Dl
81 0 Dl
0 -162 Dl
-81 0 Dl
1 Di
2683 MX
 2683 2226 lineto
 2683 2388 lineto
 2764 2388 lineto
 2764 2226 lineto
 2683 2226 lineto
closepath 1 2683 2226 2764 2388 Dp
2035 MX
 2035 2226 lineto
 2035 2388 lineto
 2116 2388 lineto
 2116 2226 lineto
 2035 2226 lineto
closepath 21 2035 2226 2116 2388 Dp
1549 MX
 1549 2226 lineto
 1549 2388 lineto
 1630 2388 lineto
 1630 2226 lineto
 1549 2226 lineto
closepath 23 1549 2226 1630 2388 Dp
2947 2044(Delayed)N
3262(write-back)X
2947 1639(After)N
3154(creat\(dir2/\256le2\))X
2947 1234(After)N
3154(creat\(dir1/\256le1\))X
2542 1841(\256le2)N
1995 2165(dir2)N
1995 1760(dir2)N
1732 1841(\256le1)N
1732 1436(\256le1)N
1083 2165(dir1)N
1083 1760(dir1)N
1083 1355(dir1)N
2015 1821 MXY
486 0 Dl
1902 MY
9 -14 Dl
-9 5 Dl
-9 -5 Dl
9 14 Dl
0 -81 Dl
2015 MX
-9 14 Dl
9 -5 Dl
9 5 Dl
-9 -14 Dl
0 81 Dl
2461 MX
 2461 1902 lineto
 2461 2064 lineto
 2542 2064 lineto
 2542 1902 lineto
 2461 1902 lineto
closepath 1 2461 1902 2542 2064 Dp
1651 MX
 1651 1902 lineto
 1651 2064 lineto
 1732 2064 lineto
 1732 1902 lineto
 1651 1902 lineto
closepath 1 1651 1902 1732 2064 Dp
2602 2003(Disk)N
2582 1598(Disk)N
2582 1193(Disk)N
2177 2145 MXY
162 0 Dl
2064 MY
-9 14 Dl
9 -5 Dl
9 5 Dl
-9 -14 Dl
0 81 Dl
2177 MX
9 -14 Dl
-9 5 Dl
-9 -5 Dl
9 14 Dl
0 -81 Dl
2299 1902 MXY
 2299 1902 lineto
 2299 2064 lineto
 2380 2064 lineto
 2380 1902 lineto
 2299 1902 lineto
closepath 21 2299 1902 2380 2064 Dp
2137 MX
 2137 1902 lineto
 2137 2064 lineto
 2218 2064 lineto
 2218 1902 lineto
 2137 1902 lineto
closepath 23 2137 1902 2218 2064 Dp
1975 MX
 1975 1902 lineto
 1975 2064 lineto
 2056 2064 lineto
 2056 1902 lineto
 1975 1902 lineto
closepath 23 1975 1902 2056 2064 Dp
1448 1821 MXY
243 0 Dl
1902 MY
9 -14 Dl
-9 5 Dl
-9 -5 Dl
9 14 Dl
0 -81 Dl
1448 MX
-9 14 Dl
9 -5 Dl
9 5 Dl
-9 -14 Dl
0 81 Dl
1286 2145 MXY
567 0 Dl
2064 MY
-9 14 Dl
9 -5 Dl
9 5 Dl
-9 -14 Dl
0 81 Dl
1286 MX
9 -14 Dl
-9 5 Dl
-9 -5 Dl
9 14 Dl
0 -81 Dl
1813 1902 MXY
 1813 1902 lineto
 1813 2064 lineto
 1894 2064 lineto
 1894 1902 lineto
 1813 1902 lineto
closepath 21 1813 1902 1894 2064 Dp
1408 MX
 1408 1902 lineto
 1408 2064 lineto
 1489 2064 lineto
 1489 1902 lineto
 1408 1902 lineto
closepath 23 1408 1902 1489 2064 Dp
1246 MX
 1246 1902 lineto
 1246 2064 lineto
 1327 2064 lineto
 1327 1902 lineto
 1246 1902 lineto
closepath 23 1246 1902 1327 2064 Dp
1165 MX
0 162 Dl
1701 0 Dl
0 -162 Dl
-1701 0 Dl
2177 1740 MXY
162 0 Dl
1659 MY
-9 14 Dl
9 -5 Dl
9 5 Dl
-9 -14 Dl
0 81 Dl
2177 MX
9 -14 Dl
-9 5 Dl
-9 -5 Dl
9 14 Dl
0 -81 Dl
2299 1497 MXY
 2299 1497 lineto
 2299 1659 lineto
 2380 1659 lineto
 2380 1497 lineto
 2299 1497 lineto
closepath 21 2299 1497 2380 1659 Dp
2137 MX
 2137 1497 lineto
 2137 1659 lineto
 2218 1659 lineto
 2218 1497 lineto
 2137 1497 lineto
closepath 23 2137 1497 2218 1659 Dp
1975 MX
 1975 1497 lineto
 1975 1659 lineto
 2056 1659 lineto
 2056 1497 lineto
 1975 1497 lineto
closepath 23 1975 1497 2056 1659 Dp
1448 1416 MXY
243 0 Dl
1497 MY
9 -14 Dl
-9 5 Dl
-9 -5 Dl
9 14 Dl
0 -81 Dl
1448 MX
-9 14 Dl
9 -5 Dl
9 5 Dl
-9 -14 Dl
0 81 Dl
1651 MX
0 162 Dl
81 0 Dl
0 -162 Dl
-81 0 Dl
1286 1740 MXY
567 0 Dl
1659 MY
-9 14 Dl
9 -5 Dl
9 5 Dl
-9 -14 Dl
0 81 Dl
1286 MX
9 -14 Dl
-9 5 Dl
-9 -5 Dl
9 14 Dl
0 -81 Dl
1813 1497 MXY
 1813 1497 lineto
 1813 1659 lineto
 1894 1659 lineto
 1894 1497 lineto
 1813 1497 lineto
closepath 21 1813 1497 1894 1659 Dp
1408 MX
 1408 1497 lineto
 1408 1659 lineto
 1489 1659 lineto
 1489 1497 lineto
 1408 1497 lineto
closepath 23 1408 1497 1489 1659 Dp
1246 MX
 1246 1497 lineto
 1246 1659 lineto
 1327 1659 lineto
 1327 1497 lineto
 1246 1497 lineto
closepath 23 1246 1497 1327 1659 Dp
1165 MX
0 162 Dl
1701 0 Dl
0 -162 Dl
-1701 0 Dl
1286 1335 MXY
567 0 Dl
1254 MY
-9 14 Dl
9 -5 Dl
9 5 Dl
-9 -14 Dl
0 81 Dl
1286 MX
9 -14 Dl
-9 5 Dl
-9 -5 Dl
9 14 Dl
0 -81 Dl
1813 1092 MXY
 1813 1092 lineto
 1813 1254 lineto
 1894 1254 lineto
 1894 1092 lineto
 1813 1092 lineto
closepath 21 1813 1092 1894 1254 Dp
1408 MX
 1408 1092 lineto
 1408 1254 lineto
 1489 1254 lineto
 1489 1092 lineto
 1408 1092 lineto
closepath 23 1408 1092 1489 1254 Dp
1246 MX
 1246 1092 lineto
 1246 1254 lineto
 1327 1254 lineto
 1327 1092 lineto
 1246 1092 lineto
closepath 23 1246 1092 1327 1254 Dp
1165 MX
0 162 Dl
1701 0 Dl
0 -162 Dl
-1701 0 Dl
1286 1740 MXY
-20 -20 Dl
1286 1740 MXY
20 -20 Dl
1286 2145 MXY
-20 -20 Dl
1286 2145 MXY
20 -20 Dl
1286 1335 MXY
20 -20 Dl
1286 1335 MXY
-20 -20 Dl
2177 1740 MXY
-20 -20 Dl
2177 1740 MXY
20 -20 Dl
2177 2145 MXY
20 -20 Dl
2177 2145 MXY
-20 -20 Dl
1691 1497 MXY
-20 -20 Dl
1691 1497 MXY
20 -20 Dl
1691 1902 MXY
20 -20 Dl
1691 1902 MXY
-20 -20 Dl
1853 1659 MXY
-20 20 Dl
1853 1659 MXY
20 20 Dl
2339 1659 MXY
-20 20 Dl
2339 1659 MXY
20 20 Dl
1853 1254 MXY
20 20 Dl
1853 1254 MXY
-20 20 Dl
2015 1821 MXY
-20 20 Dl
2015 1821 MXY
20 20 Dl
1448 1821 MXY
20 20 Dl
1448 1821 MXY
-20 20 Dl
1448 1416 MXY
-20 20 Dl
1448 1416 MXY
20 20 Dl
2339 2064 MXY
20 20 Dl
2339 2064 MXY
-20 20 Dl
1853 2064 MXY
-20 20 Dl
1853 2064 MXY
20 20 Dl
2501 1902 MXY
20 -20 Dl
2501 1902 MXY
-20 -20 Dl
3 Dt
-1 Ds
3 f
10 s
1593 2650(Figure)N
1840(1)X
1900(\320)X
2000(BSD)X
2175(\256le)X
2297(system)X
2549(\256le)X
2671(creation.)X
1 f
555 2740(Disk)N
731(image)X
952(of)X
1044(the)X
1167(BSD)X
1347(\256le)X
1474(system)X
1721(at)X
1804(different)X
2106(points)X
2326(in)X
2413(the)X
2536(creation)X
2820(of)X
2912(two)X
3056(\256les.)X
3233(The)X
3382(state)X
3553(is)X
3630(shown)X
3863(after)X
555 2830(each)N
2 f
728(creat)X
1 f
918(system)X
1165(call)X
1306(and)X
1447(after)X
1620(the)X
1743(delayed)X
2018(write-back)X
2387(has)X
2519(occurred.)X
2866(Each)X
2 f
3052(creat)X
1 f
3242(call)X
3383(forces)X
3605(the)X
3727(modi\256ed)X
555 2920(directory)N
875(block)X
1083(and)X
1229(newly)X
1455(allocated)X
1775(inode)X
1983(to)X
2075(disk.)X
2278(For)X
2419(example)X
2721(during)X
2960(the)X
3088(\256rst)X
2 f
3242(creat)X
1 f
3407(,)X
3457(\256le1's)X
3687(inode)X
3895(and)X
555 3010(dir1's)N
764(inode)X
963(and)X
1100(directory)X
1411(data)X
1566(block)X
1765(are)X
1885(written)X
2133(to)X
2216(disk.)X
2410(The)X
2556(write)X
2742(system)X
2985(calls)X
3153(allocate)X
3424(blocks)X
3654(on)X
3755(disk)X
3909(but)X
555 3100(the)N
685(blocks)X
926(are)X
1057(not)X
1190(written)X
1448(to)X
1541(disk)X
1705(until)X
1882(the)X
2011(delayed)X
2292(write-back)X
2667(occurs.)X
2948(After)X
3149(the)X
3278(second)X
2 f
3532(creat)X
1 f
3697(,)X
3748(the)X
3877(data)X
555 3190(block)N
753(of)X
840(\256le1)X
1002(is)X
1075(allocated)X
1385(but)X
1507(is)X
1580(not)X
1702(written)X
1949(to)X
2031(disk)X
2184(until)X
2350(the)X
2468(delayed)X
2738(write-back.)X
12 s
10 f
555 3298(hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh)N
1 f
555 3610(modi\256cations)N
1111(are)X
1261(intended)X
1625(to)X
1732(limit)X
1947(the)X
2097(damage)X
2429(caused)X
2723(by)X
2851(system)X
3150(crashes.)X
3513(The)X
3695(\256le)X
3850(data)X
555 3718(blocks)N
846(and)X
1025(inode)X
1279(blocks)X
1570(for)X
1722(the)X
1880(directories)X
2327(are)X
2485(allocated)X
2874(in)X
2988(a)X
3070(manner)X
3398(that)X
3582(allows)X
3872(fast)X
555 3826(reads.)N
839(Unfortunately,)X
1436(when)X
1676(\256les)X
1868(are)X
2018(small,)X
2283(allocations)X
2733(cause)X
2979(small)X
3220(random)X
3546(writes.)X
3861(The)X
555 3934(\256le)N
711(data)X
905(blocks)X
1188(and)X
1359(inode)X
1605(blocks)X
1888(for)X
2032(the)X
2182(directories)X
2621(are)X
2771(written)X
3076(asynchronously)X
3711(but)X
3866(still)X
555 4042(randomly.)N
977(The)X
1156(total)X
1357(disk)X
1546(I/O)X
1703(in)X
1807(this)X
1975(example)X
2331(includes)X
2681(8)X
2758(random)X
3081(writes)X
3344(of)X
3452(which)X
3715(half)X
3893(are)X
555 4150(synchronous.)N
1119(Because)X
1471(of)X
1582(these)X
1811(random)X
2136(accesses,)X
2517(only)X
2719(a)X
2793(small)X
3032(fraction)X
3362(of)X
3472(the)X
3620(maximum)X
555 4258(disk)N
753(write)X
989(bandwidth)X
1433(can)X
1605(be)X
1733(used)X
1946(by)X
2079(the)X
2234(\256le)X
2394(system.)X
2746(The)X
2933(synchronous)X
3455(updates)X
3786(effec-)X
555 4366(tively)N
802(limit)X
1012(the)X
1157(speed)X
1402(of)X
1508(\256le)X
1657(creation)X
1994(and)X
2159(deletion)X
2496(to)X
2597(the)X
2741(disk's)X
2996(speeds.)X
3302(For)X
3461(example,)X
3838(a)X
3907(.9-)X
555 4474(MIPS)N
806(DEC)X
1026(MicroVaxII)X
1513(using)X
1749(the)X
1895(BSD)X
2109(\256le)X
2260(system)X
2555(can)X
2717(create)X
2976(and)X
3142(delete)X
3400(an)X
3518(empty)X
3786(\256le)X
3936(in)X
555 4582(100)N
743(milliseconds.)X
1298(A)X
1411(14-MIPS)X
1806(DEC)X
2042(DecStation)X
2513(3100)X
2748(using)X
2999(the)X
3160(same)X
3401(\256le)X
3567(system)X
3877(can)X
555 4690(create)N
815(and)X
983(delete)X
1243(an)X
1363(empty)X
1633(\256le)X
1785(in)X
1889(80)X
2014(milliseconds.)X
2554(Because)X
2904(of)X
3012(the)X
3158(synchronous)X
3671(disk)X
3859(I/O,)X
555 4798(an)N
676(order-of-magnitude)X
1460(increase)X
1806(in)X
1911(CPU)X
2127(speeds)X
2412(causes)X
2692(only)X
2892(a)X
2964(20)X
3089(percent)X
3402(increase)X
3747(in)X
3851(pro-)X
555 4906(gram)N
777(speed!)X
3 f
555 5110(4.)N
675(LFS)X
875(storage)X
1198(manager)X
1585(design)X
1 f
755 5251(Ef\256ciently)N
1202(supporting)X
1653(of\256ce/engineering)X
2394(workloads)X
2834(means)X
3119(eliminating)X
3598(small)X
3846(syn-)X
555 5359(chronous)N
938(writes.)X
1251(This)X
1452(section)X
1755(presents)X
2100(the)X
2248(major)X
2503(data)X
2694(structures)X
3098(and)X
3267(algorithms)X
3709(used)X
3915(by)X
555 5467(the)N
705(LFS)X
902(storage)X
1212(manager)X
1576(to)X
1683(accomplish)X
2154(this)X
2325(goal.)X
2571(The)X
2753(algorithms)X
3196(include)X
3511(those)X
3745(for)X
3888(\256le)X
555 5575(writing,)N
881(\256le)X
1028(reading,)X
1365(and)X
1528(disk)X
1712(free)X
1886(space)X
2124(management.)X
3 f
2203 6048(-)N
2259(4)X
2331(-)X

5 p
%%Page: 5 6
12 s 12 xH 0 xS 3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
555 780(4.1.)N
747(File)X
927(Writing)X
1 f
755 921(The)N
938(key)X
1110(idea)X
1304(of)X
1417(LFS)X
1615(is)X
1712(to)X
1820(make)X
2062(writes)X
2330(fast)X
2502(by)X
2631(accessing)X
3032(the)X
3182(disk)X
3374(sequentially)X
3872(and)X
555 1029(asynchronously.)N
1232(LFS)X
1423(collects)X
1744(the)X
1888(changes)X
2224(to)X
2325(the)X
2469(\256le)X
2618(system)X
2911(in)X
3012(the)X
3156(\256le)X
3305(cache,)X
3574(packs)X
3818(them)X
555 1137(together,)N
932(and)X
1108(writes)X
1380(them)X
1610(to)X
1722(disk)X
1919(in)X
2031(large)X
2261(sequential)X
2689(disk)X
2886(transfers.)X
3302(Modi\256ed)X
3691(\256le)X
3850(data)X
555 1245(blocks,)N
876(directory)X
1270(blocks,)X
1591(and)X
1776(\256le)X
1944(system)X
2256(metadata)X
2650(such)X
2871(as)X
2996(inode)X
3255(blocks,)X
3575(are)X
3738(packed)X
555 1353(together)N
898(and)X
1064(written)X
1364(sequentially)X
1857(to)X
1958(disk.)X
2192(LFS)X
2383(provides)X
2740(the)X
2884(abstraction)X
3333(that)X
3504(data)X
3691(is)X
3781(added)X
555 1461(to)N
661(the)X
810(\256le)X
964(system)X
1262(in)X
1368(an)X
1490(append-only)X
2002(log)X
2156(format.)X
2492(The)X
2673(log)X
2826(format)X
3113(implies)X
3427(that)X
3602(LFS)X
3797(never)X
555 1569(updates)N
875(disk)X
1061(blocks)X
1337(in)X
1437(place.)X
1714(This)X
1910(feature)X
2203(is)X
2292(the)X
2435(key)X
2599(to)X
2699(LFS's)X
2958(fast)X
3122(recovery)X
3484(and)X
3648(its)X
3764(ability)X
555 1677(to)N
654(eliminate)X
1038(synchronous)X
1547(writes.)X
755 1818(Because)N
1108(all)X
1237(writes)X
1504(are)X
1654(asynchronous,)X
2238(LFS)X
2435(uses)X
2632(the)X
2781(\256le)X
2935(cache)X
3186(as)X
3297(a)X
3371(write)X
3600(buffer)X
3866(that)X
555 1926(accumulates)N
1066(changes)X
1409(to)X
1517(the)X
1668(\256le)X
1824(system)X
2124(and)X
2296(performs)X
2676(speed)X
2928(matching)X
3320(between)X
3674(the)X
3825(CPU)X
555 2034(and)N
728(disk)X
922(subsystem.)X
1404(Bursts)X
1683(of)X
1797(small)X
2040(writes)X
2308(to)X
2416(the)X
2567(\256le)X
2723(system)X
3023(are)X
3174(combined)X
3587(together)X
3936(in)X
555 2142(the)N
703(\256le)X
856(cache)X
1106(and)X
1275(converted)X
1685(into)X
1865(large)X
2088(transfers.)X
2497(This)X
2698(conversion)X
3150(means)X
3425(that,)X
3623(unlike)X
3893(the)X
555 2250(UNIX)N
830(\256le)X
989(system,)X
1316(\256le)X
1475(creation)X
1822(and)X
1997(deletion)X
2344(speeds)X
2636(in)X
2747(LFS)X
2948(are)X
3102(tied)X
3283(to)X
3394(the)X
3548(disk's)X
3813(max-)X
555 2358(imum)N
808(bandwidth)X
1242(and)X
1409(not)X
1560(its)X
1678(latency.)X
2032(Figure)X
2310(2)X
2385(shows)X
2651(the)X
2796(single)X
3053(disk)X
3240(access)X
3513(generated)X
3915(by)X
555 2466(the)N
704(LFS)X
900(storage)X
1209(manager)X
1572(executing)X
1978(the)X
2127(\256le)X
2280(creation)X
2621(example)X
2978(from)X
3195(Section)X
3514(3.1.)X
3712(In)X
3822(LFS,)X
555 2574(the)N
2 f
708(creat)X
1 f
941(system)X
1243(call)X
1418(simply)X
1715(allocates)X
2088(the)X
2241(\256le's)X
2468(number)X
2797(and)X
2971(modi\256es)X
3337(the)X
3490(directory)X
3872(and)X
555 2682(inode)N
811(in)X
928(memory.)X
1315(No)X
1474(synchronous)X
2001(disk)X
2203(writes)X
2480(are)X
2640(performed.)X
3131(The)X
3323(modi\256ed)X
3707(\256le)X
3872(and)X
555 2790(directory)N
938(blocks)X
1224(are)X
1377(packed)X
1685(together)X
2036(and)X
2210(written)X
2517(in)X
2626(a)X
2703(single)X
2967(transfer.)X
3343(This)X
3548(form)X
3769(of)X
3883(I/O)X
555 2898(can)N
724(be)X
850(an)X
976(order-of-magnitude)X
1765(faster)X
2014(than)X
2215(the)X
2368(many)X
2617(random)X
2945(write)X
3177(transfers)X
3542(done)X
3763(by)X
3893(the)X
555 3006(UNIX)N
827(\256le)X
983(system.)X
1331(For)X
1497(workloads)X
1930(that)X
2108(are)X
2259(limited)X
2566(by)X
2694(disk)X
2886(write)X
3116(performance,)X
3659(LFS)X
3856(per-)X
555 3114(mits)N
751(\256les)X
941(of)X
1051(any)X
1220(size)X
1400(to)X
1504(be)X
1624(written)X
1926(to)X
2030(disk)X
2219(at)X
2318(near)X
2513(maximum)X
2933(bandwidth.)X
3392(The)X
3571(elimination)X
555 3222(of)N
659(synchronous)X
1168(writes)X
1427(allows)X
1702(LFS)X
1891(to)X
1990(scale)X
2207(with)X
2402(CPU)X
2612(speeds.)X
10 f
555 3613(hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh)N
1 f
1538 4275(\256le2)N
1181(\256le1)X
1643 3829(dir2)N
1286(dir1)X
-1 Ds
1 Dt
1486 MX
89 0 Dl
1842 MX
90 0 Dl
1664 4186 MXY
89 0 Dl
1307 MX
89 0 Dl
1842 3918 MXY
10 -15 Dl
-10 5 Dl
-9 -5 Dl
9 15 Dl
0 -89 Dl
1932 MX
-10 15 Dl
10 -5 Dl
9 5 Dl
-9 -15 Dl
0 89 Dl
1664 4096 MXY
-10 16 Dl
10 -6 Dl
10 6 Dl
-10 -16 Dl
0 90 Dl
1753 MX
10 -16 Dl
-10 6 Dl
-10 -6 Dl
10 16 Dl
0 -90 Dl
1486 3918 MXY
9 -15 Dl
-9 5 Dl
-10 -5 Dl
10 15 Dl
0 -89 Dl
1575 MX
-10 15 Dl
10 -5 Dl
10 5 Dl
-10 -15 Dl
0 89 Dl
1307 4096 MXY
-10 16 Dl
10 -6 Dl
10 6 Dl
-10 -16 Dl
0 90 Dl
1396 MX
10 -16 Dl
-10 6 Dl
-9 -6 Dl
9 16 Dl
0 -90 Dl
1263 4431(Block)N
1517(key:)X
3202 4475(Data)N
2489(Directory)X
1954(Inode)X
3024 4342 MXY
 3024 4342 lineto
 3024 4520 lineto
 3113 4520 lineto
 3113 4342 lineto
 3024 4342 lineto
closepath 1 3024 4342 3113 4520 Dp
2311 MX
 2311 4342 lineto
 2311 4520 lineto
 2400 4520 lineto
 2400 4342 lineto
 2311 4342 lineto
closepath 21 2311 4342 2400 4520 Dp
1775 MX
 1775 4342 lineto
 1775 4520 lineto
 1865 4520 lineto
 1865 4342 lineto
 1775 4342 lineto
closepath 23 1775 4342 1865 4520 Dp
2266 3840(Delayed)N
2611(write-back)X
1619 3918 MXY
 1619 3918 lineto
 1619 4096 lineto
 1709 4096 lineto
 1709 3918 lineto
 1619 3918 lineto
closepath 1 1619 3918 1709 4096 Dp
1263 MX
 1263 3918 lineto
 1263 4096 lineto
 1352 4096 lineto
 1352 3918 lineto
 1263 3918 lineto
closepath 1 1263 3918 1352 4096 Dp
2846 4029(Disk)N
1798 3918 MXY
 1798 3918 lineto
 1798 4096 lineto
 1887 4096 lineto
 1887 3918 lineto
 1798 3918 lineto
closepath 21 1798 3918 1887 4096 Dp
1887 MX
 1887 3918 lineto
 1887 4096 lineto
 1976 4096 lineto
 1976 3918 lineto
 1887 3918 lineto
closepath 23 1887 3918 1976 4096 Dp
1709 MX
 1709 3918 lineto
 1709 4096 lineto
 1798 4096 lineto
 1798 3918 lineto
 1709 3918 lineto
closepath 23 1709 3918 1798 4096 Dp
1441 MX
 1441 3918 lineto
 1441 4096 lineto
 1530 4096 lineto
 1530 3918 lineto
 1441 3918 lineto
closepath 21 1441 3918 1530 4096 Dp
1530 MX
 1530 3918 lineto
 1530 4096 lineto
 1619 4096 lineto
 1619 3918 lineto
 1530 3918 lineto
closepath 23 1530 3918 1619 4096 Dp
1352 MX
 1352 3918 lineto
 1352 4096 lineto
 1441 4096 lineto
 1441 3918 lineto
 1352 3918 lineto
closepath 23 1352 3918 1441 4096 Dp
1263 MX
0 178 Dl
1873 0 Dl
0 -178 Dl
-1873 0 Dl
1486 MX
-23 -22 Dl
1486 3918 MXY
22 -22 Dl
1307 4096 MXY
-22 23 Dl
1307 4096 MXY
23 23 Dl
1396 4186 MXY
-22 -23 Dl
1396 4186 MXY
23 -23 Dl
1753 4186 MXY
22 -23 Dl
1753 4186 MXY
-22 -23 Dl
1842 3918 MXY
-22 -22 Dl
1842 3918 MXY
23 -22 Dl
1664 4096 MXY
-22 23 Dl
1664 4096 MXY
22 23 Dl
1932 3829 MXY
22 22 Dl
1932 3829 MXY
-23 22 Dl
1575 3829 MXY
-23 22 Dl
1575 3829 MXY
22 22 Dl
3 Dt
-1 Ds
3 f
10 s
1598 4782(Figure)N
1845(2)X
1905(\320)X
2005(LFS)X
2171(\256le)X
2293(system)X
2545(\256le)X
2667(creation.)X
1 f
555 4872(Disk)N
728(image)X
946(of)X
1035(the)X
1155(LFS)X
1314(\256le)X
1438(system)X
1682(after)X
1852(two)X
1994(\256les)X
2149(are)X
2270(created.)X
2564(When)X
2777(a)X
2834(disk)X
2988(write)X
3174(is)X
3248(started,)X
3503(all)X
3604(modi\256ed)X
3909(\256le)X
555 4962(system)N
802(blocks)X
1036(are)X
1160(packed)X
1413(together)X
1701(and)X
1842(written)X
2094(to)X
2181(disk)X
2339(in)X
2426(a)X
2487(single)X
2703(transfer.)X
3014(Note)X
3195(that)X
3340(the)X
3463(formats)X
3732(of)X
3823(direc-)X
555 5052(tories)N
756(and)X
895(inodes)X
1127(are)X
1249(the)X
1370(same)X
1558(as)X
1647(in)X
1731(the)X
1851(BSD)X
2028(example)X
2322(\(Figure)X
2580(1\).)X
2709(Rather)X
2945(than)X
3105(placing)X
3363(the)X
3483(blocks)X
3714(to)X
3798(optim-)X
555 5142(ize)N
677(reading,)X
966(LFS)X
1130(writes)X
1353(all)X
1460(changes)X
1746(sequentially)X
2160(to)X
2249(disk.)X
2429(LFS)X
2593(performs)X
2910(the)X
3035(8)X
3102(writes)X
3325(in)X
3414(one)X
3557(large)X
3745(transfer.)X
555 5232(Unlike)N
793(the)X
911(BSD)X
1086(example,)X
1398(all)X
1498(writes)X
1714(are)X
1833(sequential)X
2178(and)X
2314(none)X
2490(are)X
2609(synchronous.)X
12 s
10 f
555 5340(hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh)N
3 f
2203 6048(-)N
2259(5)X
2331(-)X

6 p
%%Page: 6 7
12 s 12 xH 0 xS 3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
555 780(4.2.)N
747(File)X
927(reading)X
1 f
755 921(This)N
957(section)X
1261(describes)X
1650(the)X
1799(data)X
1991(structures)X
2395(and)X
2564(algorithms)X
3006(used)X
3212(to)X
3317(read)X
3513(\256les)X
3703(from)X
3920(an)X
555 1029(LFS)N
746(\256le)X
895(system.)X
1212(Given)X
1473(the)X
1617(very)X
1814(large)X
2033(\256le)X
2181(caches)X
2463(that)X
2633(future)X
2888(systems)X
3217(will)X
3392(have,)X
3623(it)X
3702(is)X
3791(likely)X
555 1137(that)N
742(read)X
950(performance)X
1479(will)X
1671(have)X
1895(only)X
2108(a)X
2192(small)X
2442(impact)X
2746(on)X
2883(overall)X
3192(system)X
3500(performance.)X
555 1245(Nevertheless,)N
1109(LFS's)X
1376(read)X
1575(performance)X
2095(will)X
2277(match)X
2545(or)X
2657(exceed)X
2957(the)X
3107(performance)X
3626(of)X
3738(current)X
555 1353(read-optimized)N
1169(\256le)X
1322(systems)X
1656(in)X
1761(many)X
2005(cases.)X
2286(Although)X
2678(LFS)X
2872(always)X
3168(writes)X
3432(blocks)X
3712(sequen-)X
555 1461(tially,)N
807(it)X
890(still)X
1064(maintains)X
1468(the)X
1615(same)X
1842(data)X
2032(structures)X
2435(that)X
2608(permit)X
2888(fast)X
3055(read)X
3249(access)X
3523(in)X
3626(the)X
3772(UNIX)X
555 1569(\256le)N
702(system.)X
3 f
555 1773(4.2.1.)N
819(Inode)X
1077(map)X
1 f
755 1914(The)N
934(major)X
1187(difference)X
1606(between)X
1955(\256le)X
2106(location)X
2445(in)X
2548(LFS)X
2741(and)X
2908(UNIX)X
3175(is)X
3267(that)X
3440(in)X
3543(LFS,)X
3760(inodes)X
555 2022(are)N
707(no)X
836(longer)X
1115(at)X
1218(\256xed)X
1443(locations)X
1824(on)X
1953(disks.)X
2231(The)X
2414(append-only)X
2928(log)X
3084(abstraction)X
3540(provided)X
3915(by)X
555 2130(LFS)N
768(requires)X
1125(that)X
1317(inodes)X
1615(be)X
1753(written)X
2073(to)X
2195(a)X
2285(new)X
2492(location)X
2850(on)X
2993(disk)X
3200(every)X
3461(time)X
3680(they)X
3893(are)X
555 2238(modi\256ed.)N
976(LFS)X
1172(quickly)X
1491(locates)X
1789(inodes)X
2070(using)X
2308(a)X
2381(data)X
2572(structure)X
2939(called)X
3200(the)X
3 f
3348(inode)X
3602(map)X
1 f
3783(.)X
3861(The)X
555 2346(data)N
766(structure)X
1153(maintains)X
1578(a)X
1671(mapping)X
2058(between)X
2428(an)X
2568(inode)X
2831(number)X
3174(and)X
3362(the)X
3529(current)X
3851(disk)X
555 2454(address)N
876(of)X
989(the)X
1140(inode.)X
1411(The)X
1594(inode)X
1841(map)X
2040(also)X
2228(keeps)X
2480(the)X
2631(inode)X
2878(status)X
3130(\(allocated)X
3543(or)X
3655(free\),)X
3893(the)X
555 2581(\256le's)N
772(access)X
1043(time)X
9 s
1215 2543(2)N
12 s
2581(,)Y
1300(and)X
1464(a)X
1531(version)X
1838(number)X
2156(that)X
2325(is)X
2413(updated)X
2742(every)X
2980(time)X
3176(the)X
3318(\256le)X
3465(is)X
3553(truncated)X
3936(to)X
555 2689(length)N
820(zero.)X
1058(The)X
1232(version)X
1539(number)X
1857(usage)X
2100(is)X
2188(discussed)X
2580(in)X
2679(Section)X
2992(4.3.)X
755 2830(For)N
929(\256le)X
1093(systems)X
1438(having)X
1741(large)X
1975(numbers)X
2347(of)X
2468(\256les)X
2669(the)X
2828(inode)X
3083(map)X
3290(can)X
3465(get)X
3623(large.)X
3904(To)X
555 2938(reduce)N
849(memory)X
1207(usage,)X
1487(LFS)X
1689(partitions)X
2089(the)X
2243(map)X
2445(into)X
2631(blocks)X
2918(that)X
3099(are)X
3253(cached)X
3557(like)X
3738(regular)X
555 3046(\256les.)N
797(It)X
890(is)X
988(expected)X
1365(that)X
1544(the)X
1696(blocks)X
1981(mapping)X
2352(active)X
2616(\256les)X
2809(will)X
2992(stay)X
3180(memory)X
3534(resident)X
3872(and)X
555 3154(impose)N
864(little)X
1073(overhead)X
1457(to)X
1563(the)X
1712(\256le)X
1866(inode)X
2111(fetch.)X
2382(Modi\256ed)X
2764(inode)X
3008(map)X
3204(blocks)X
3485(are)X
3633(written)X
3936(to)X
555 3262(the)N
701(log)X
852(like)X
1025(any)X
1192(other)X
1418(\256le)X
1569(block.)X
1859(The)X
2037(timing)X
2317(of)X
2425(inode)X
2667(map)X
2860(block)X
3101(writes)X
3363(and)X
3529(the)X
3674(recovery)X
555 3370(of)N
659(the)X
801(inode)X
1039(map)X
1229(after)X
1430(crashes)X
1737(are)X
1879(discussed)X
2271(in)X
2370(Section)X
2683(4.4.)X
755 3511(Except)N
1061(for)X
1211(the)X
1367(address)X
1693(lookup)X
1998(using)X
2244(the)X
2400(inode)X
2651(map,)X
2878(the)X
3033(\256le)X
3193(reading)X
3519(algorithm)X
3931(of)X
555 3619(LFS)N
749(is)X
842(identical)X
1204(to)X
1308(that)X
1482(of)X
1591(existing)X
1925(UNIX)X
2192(\256le)X
2343(systems.)X
2699(The)X
2877(format)X
3162(of)X
3270(inodes)X
3549(and)X
3716(indirect)X
555 3727(blocks)N
836(is)X
930(unchanged.)X
1425(For)X
1588(\256les)X
1778(that)X
1953(are)X
2101(written)X
2404(in)X
2509(their)X
2716(entirety,)X
3065(the)X
3213(log)X
3366(layout)X
3636(algorithm)X
555 3835(places)N
822(the)X
966(data)X
1153(blocks)X
1430(sequentially)X
1922(on)X
2044(disk.)X
2278(The)X
2454(read)X
2646(performance)X
3159(of)X
3265(such)X
3467(a)X
3536(\256le)X
3685(is)X
3775(excel-)X
555 3943(lent)N
724(because)X
1053(the)X
1195(inode)X
1433(and)X
1596(all)X
1717(of)X
1821(the)X
1963(\256le's)X
2179(data)X
2364(blocks)X
2639(are)X
2781(located)X
3084(close)X
3306(together)X
3646(on)X
3766(disk.)X
3 f
555 4147(4.3.)N
747(Free)X
959(space)X
1207(management)X
1 f
755 4288(An)N
903(LFS)X
1099(\256le)X
1253(system)X
1551(must)X
1769(manage)X
2099(the)X
2247(disk)X
2437(free)X
2617(space)X
2861(to)X
2966(keep)X
3178(open)X
3395(large)X
3618(regions)X
3931(of)X
555 4396(consecutive)N
1039(disk)X
1228(sectors.)X
1572(LFS)X
1766(simpli\256es)X
2169(this)X
2337(task)X
2521(by)X
2646(dividing)X
2996(the)X
3143(disk)X
3332(storage)X
3639(into)X
3818(large)X
555 4504(\256xed-size)N
958(pieces)X
1228(called)X
3 f
1488(segments)X
1 f
1861(.)X
1938(The)X
2117(idea)X
2306(is)X
2398(that)X
2571(the)X
2717(sequential)X
3136(log)X
3287(abstraction)X
3738(of)X
3846(LFS)X
555 4612(need)N
771(not)X
928(be)X
1053(totally)X
1334(sequential)X
1759(on)X
1889(disk.)X
2131(What)X
2374(really)X
2628(matters)X
2946(is)X
3044(that)X
3223(the)X
3375(log)X
3532(is)X
3630(written)X
3936(in)X
555 4720(large)N
797(enough)X
1129(pieces)X
1419(to)X
1542(support)X
1878(I/O)X
2054(at)X
2172(near-maximum)X
2809(disk)X
3017(bandwidth.)X
3519(This)X
3738(can)X
3920(be)X
555 4828(achieved)N
926(by)X
1049(sizing)X
1306(segments)X
1691(so)X
1803(that)X
1975(the)X
2120(disk)X
2307(seek)X
2505(at)X
2602(the)X
2747(start)X
2940(of)X
3047(a)X
3117(segment)X
3465(write)X
3690(is)X
3781(amor-)X
555 4936(tized)N
767(across)X
1031(a)X
1098(long)X
1293(data)X
1478(transfer)X
1796(time.)X
2040(The)X
2214(test)X
2372(presented)X
2765(in)X
2864(Section)X
3177(5)X
3249(used)X
3449(a)X
3516(segment)X
3861(size)X
555 5044(of)N
659(one)X
822(megabyte.)X
10 s
10 f
555 5134(h)N
587(hhhhhhhhhhhhhhhhhhhhhhhhhhhh)X
7 s
1 f
727 5227(2)N
10 s
5259(The)Y
910(\256le's)X
1100(access)X
1336(time)X
1508(is)X
1591(kept)X
1759(in)X
1851(the)X
1979(inode)X
2187(map)X
2355(because)X
2640(it)X
2714(is)X
2797(the)X
2925(only)X
3097(\256le)X
3229(attribute)X
3526(that)X
3675(is)X
3757(updated)X
555 5349(when)N
751(the)X
870(\256le)X
993(is)X
1067(read.)X
1267(Keeping)X
1560(the)X
1679(access)X
1906(time)X
2069(in)X
2152(the)X
2271(inode)X
2470(map)X
2629(rather)X
2838(than)X
2997(the)X
3116(inode)X
3315(allows)X
3545(faithful)X
3802(imple-)X
555 5439(mentation)N
905(of)X
1002(the)X
1129(UNIX)X
1359(\256le)X
1490(access)X
1725(time)X
1896(semantics)X
2241(without)X
2514(inodes)X
2752(constantly)X
3110(moving)X
3383(every)X
3591(time)X
3762(a)X
3827(\256le)X
3958(is)X
555 5529(read.)N
3 f
12 s
2203 6048(-)N
2259(6)X
2331(-)X

7 p
%%Page: 7 8
12 s 12 xH 0 xS 3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
555 780(4.3.1.)N
819(Segment)X
1195(summary)X
1608(blocks)X
1 f
755 921(Each)N
977(LFS)X
1171(segment)X
1521(contains)X
1871(a)X
1943(few)X
2116(sectors)X
2412(of)X
2521(summary)X
2908(information)X
3392(that)X
3565(identify)X
3893(the)X
555 1029(contents)N
901(of)X
1006(the)X
1149(segment)X
1495(and)X
1659(allow)X
1898(segments)X
2281(to)X
2381(be)X
2497(formed)X
2800(into)X
2975(a)X
3043(linked)X
3309(list.)X
3500(The)X
3674(informa-)X
555 1137(tion)N
734(is)X
827(kept)X
1022(in)X
1126(a)X
1198(region)X
1473(of)X
1582(the)X
1729(segment)X
2079(called)X
2338(the)X
3 f
2484(summary)X
2901(block)X
1 f
3125(.)X
3201(The)X
3379(append-only)X
3888(log)X
555 1245(abstraction)N
1002(can)X
1160(be)X
1275(visualized)X
1690(by)X
1810(following)X
2208(the)X
2350(links)X
2561(between)X
2906(segments.)X
755 1386(For)N
916(each)X
1121(block)X
1363(in)X
1466(the)X
1612(segment,)X
1985(the)X
2131(summary)X
2517(blocks)X
2796(indicates)X
3167(the)X
3313(\256le)X
3464(number)X
3786(of)X
3893(the)X
555 1494(block's)N
869(\256le)X
1023(and)X
1193(the)X
1342(position)X
1683(of)X
1793(the)X
1941(block)X
2185(within)X
2461(the)X
2609(\256le.)X
2810(All)X
2963(the)X
3111(information)X
3596(needed)X
3899(for)X
555 1602(the)N
699(summary)X
1083(blocks)X
1360(of)X
1466(a)X
1535(segment)X
1882(is)X
1972(available)X
2347(when)X
2581(a)X
2650(segment)X
2997(is)X
3087(formed)X
3391(in)X
3491(memory.)X
3861(The)X
555 1710(cost)N
738(of)X
846(the)X
992(summary)X
1378(blocks)X
1656(is)X
1747(small)X
1983(in)X
2085(terms)X
2326(of)X
2433(CPU,)X
2670(disk)X
2857(space,)X
3122(and)X
3288(transfer)X
3609(time)X
3808(over-)X
555 1818(heads.)N
3 f
555 2022(4.3.2.)N
819(Segment)X
1195(cleaning)X
1 f
755 2163(The)N
932(segmented-log)X
1526(structure)X
1890(of)X
1997(LFS)X
2189(reduces)X
2510(the)X
2654(free)X
2830(space)X
3070(management)X
3589(problem)X
3936(to)X
555 2271(that)N
729(of)X
838(\256nding)X
1139(a)X
1211(free)X
1390(segment)X
1740(to)X
1843(write.)X
2117(During)X
2417(normal)X
2718(operations)X
3147(segments)X
3533(will)X
3711(become)X
555 2379(fragmented:)N
1049(blocks)X
1328(in)X
1431(a)X
1501(segment)X
1849(will)X
2026(be)X
2144(overwritten)X
2615(or)X
2722(deleted,)X
3052(leaving)X
3363(the)X
3508(segment)X
3856(par-)X
555 2487(tially)N
793(utilized.)X
1170(LFS)X
1374(generates)X
1777(free)X
1966(segments,)X
2387(called)X
3 f
2657(clean)X
2910(segments)X
1 f
3283(,)X
3346(from)X
3572(fragmented)X
555 2595(segments)N
944(using)X
1183(an)X
1305(operation)X
1700(called)X
3 f
1961(segment)X
2327(cleaning)X
1 f
2669(.)X
2747(During)X
3049(segment)X
3400(cleaning)X
3757(two)X
3931(or)X
555 2703(more)N
781(fragmented)X
1248(segments)X
1634(are)X
1780(read)X
1974(into)X
2152(memory,)X
2525(combined,)X
2956(and)X
3122(appended)X
3518(to)X
3620(the)X
3765(log)X
3915(on)X
555 2811(disk.)N
798(Segment)X
1170(cleaning)X
1532(in)X
1642(LFS)X
1842(is)X
1941(simply)X
2238(a)X
2316(form)X
2538(of)X
2653(incremental)X
3 f
3143(garbage)X
3508(collection)X
1 f
3899([6])X
555 2919(where)N
829(the)X
986(fragmented)X
1464(segments)X
1861(are)X
2018(compressed)X
2511(together)X
2866(to)X
2980(create)X
3250(space)X
3502(to)X
3615(write)X
3851(new)X
555 3027(segments.)N
988(LFS)X
1180(implements)X
1657(cleaning)X
2011(by)X
2134(reading)X
2450(the)X
2595(live)X
2767(blocks)X
3045(of)X
3152(a)X
3221(segment)X
3568(into)X
3744(the)X
3888(\256le)X
555 3135(cache)N
809(and)X
981(then)X
1180(using)X
1421(the)X
1572(cache)X
1825(write-back)X
2270(code)X
2485(to)X
2593(combine)X
2958(and)X
3130(copy)X
3350(the)X
3501(blocks)X
3785(into)X
3968(a)X
555 3243(new)N
743(segment.)X
1140(The)X
1318(cleaning)X
1673(algorithm)X
2076(proceeds)X
2446(in)X
2549(two)X
2720(phases.)X
3027(During)X
3326(the)X
3471(\256rst)X
3647(phase)X
3893(the)X
555 3351(live)N
736(blocks)X
1023(of)X
1139(fragmented)X
1614(segments)X
2008(are)X
2162(identi\256ed)X
2562(and)X
2737(read)X
2939(into)X
3125(the)X
3279(cache.)X
3559(The)X
3744(second)X
555 3459(phase)N
803(combines)X
1201(the)X
1348(blocks)X
1628(into)X
1807(a)X
1879(new)X
2068(segment)X
2418(and)X
2586(writes)X
2850(them)X
3071(to)X
3174(disk.)X
3410(Segment)X
3775(clean-)X
555 3567(ing)N
708(in)X
813(LFS)X
1008(can)X
1172(be)X
1293(overlapped)X
1750(with)X
1950(normal)X
2252(\256le)X
2404(system)X
2700(operations.)X
3178(Files)X
3394(can)X
3557(be)X
3677(read)X
3872(and)X
555 3675(written)N
852(while)X
1090(segments)X
1472(are)X
1614(being)X
1852(cleaned.)X
3 f
555 3879(4.3.3.)N
819(Block)X
1078(allocation)X
1503(determination)X
1 f
755 4020(In)N
865(order)X
1098(to)X
1203(perform)X
1543(segment)X
1894(cleaning)X
2251(ef\256ciently,)X
2695(the)X
2842(LFS)X
3036(storage)X
3343(manager)X
3704(must)X
3920(be)X
555 4128(able)N
744(to)X
847(identify)X
1175(the)X
1321("owner")X
1667(\(\256le)X
1850(number)X
2171(and)X
2337(block)X
2578(offset\))X
2856(of)X
2963(each)X
3167(block)X
3408(in)X
3510(a)X
3580(segment.)X
3952(It)X
555 4236(also)N
735(needs)X
979(to)X
1079(determine)X
1490(if)X
1574(a)X
1642(block)X
1880(is)X
3 f
1968(live)X
1 f
2113(,)X
2161(belonging)X
2570(to)X
2669(an)X
2784(active)X
3039(\256le,)X
3210(or)X
3314(if)X
3397(a)X
3464(block)X
3702(is)X
3 f
3790(dead)X
1 f
3987(,)X
555 4344(having)N
845(been)X
1055(overwritten)X
1527(or)X
1635(truncated.)X
2070(LFS)X
2263(identi\256es)X
2644(blocks)X
2923(using)X
3159(the)X
3305(segment)X
3653(summary)X
555 4452(blocks,)N
858(the)X
1003(inode)X
1244(map,)X
1461(and)X
1627(inodes.)X
1929(The)X
2106(block)X
2347(identi\256cation)X
2883(algorithm)X
3285(works)X
3546(for)X
3685(\256les)X
3872(and)X
555 4560(directories)N
986(as)X
1090(follows:)X
555 4701(1\))N
755(The)X
931(segment's)X
1347(summary)X
1731(block)X
1971(is)X
2061(used)X
2263(to)X
2364(determine)X
2776(the)X
2920(\256le)X
3069(number)X
3389(and)X
3553(block)X
3792(offset)X
755 4809(of)N
877(the)X
1037(block)X
1293(being)X
1549(cleaned.)X
1934(Included)X
2313(in)X
2430(the)X
2590(summary)X
2990(entry)X
3230(is)X
3336(the)X
3495(\256le's)X
3728(version)X
755 4917(number)N
1075(from)X
1288(the)X
1432(inode)X
1672(map)X
1864(when)X
2098(the)X
2241(block)X
2480(was)X
2654(written.)X
2976(If)X
3065(the)X
3208(version)X
3516(number)X
3835(does)X
755 5025(not)N
911(match)X
1180(the)X
1331(current)X
1637(version)X
1953(number)X
2280(of)X
2393(the)X
2544(\256le,)X
2723(the)X
2873(block)X
3119(is)X
3215(known)X
3508(to)X
3615(have)X
3829(been)X
755 5133(deleted)N
1058(or)X
1162(overwritten.)X
555 5274(2\))N
755(If)X
853(the)X
1005(previous)X
1370(step)X
1559(fails)X
1759(to)X
1868(determine)X
2288(the)X
2440(allocation)X
2855(status)X
3108(of)X
3222(the)X
3374(block,)X
3646(the)X
3797(inode)X
755 5382(and)N
932(any)X
1109(indirect)X
1442(blocks)X
1731(that)X
1914(map)X
2118(the)X
2274(block)X
2526(of)X
2643(the)X
2798(\256le)X
2958(are)X
3113(examined)X
3525(to)X
3637(see)X
3797(if)X
3893(the)X
755 5490(block)N
1010(is)X
1115(still)X
1301(part)X
1492(of)X
1612(the)X
1770(\256le.)X
1981(The)X
2171(block)X
2425(is)X
2529(classi\256ed)X
2927(as)X
3047(being)X
3301(live)X
3486(if)X
3585(it)X
3679(is)X
3783(still)X
3968(a)X
755 5598(member)N
1095(of)X
1199(the)X
1341(\256le.)X
3 f
2203 6048(-)N
2259(7)X
2331(-)X

8 p
%%Page: 8 9
12 s 12 xH 0 xS 3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
1 f
555 780(Using)N
811(these)X
1036(steps)X
1255(the)X
1400(cleaning)X
1754(algorithm)X
2156(can)X
2317(tell)X
2468(which)X
2730(blocks)X
3008(need)X
3216(to)X
3317(be)X
3434(copied)X
3717(into)X
3893(the)X
555 888(new)N
742(segment.)X
1114(Since)X
1355(total)X
1554(overwrite)X
1950(or)X
2057(deletion)X
2395(are)X
2540(the)X
2685(most)X
2899(common)X
3263(write)X
3488(access)X
3760(modes)X
555 996(to)N
676(\256les)X
882(in)X
1003(the)X
1167(workstation)X
1667(environment,)X
2224(Step)X
2441(1)X
2535(is)X
2645(able)X
2852(to)X
2973(determine)X
3405(the)X
3569(live)X
3760(blocks)X
555 1104(quickly.)N
906(Even)X
1142(if)X
1239(Step)X
1448(2)X
1534(must)X
1759(fetch)X
1990(the)X
2146(inode)X
2398(and)X
2575(indirect)X
2908(blocks)X
3197(to)X
3310(check)X
3573(the)X
3728(block's)X
555 1212(status,)N
838(these)X
1076(blocks)X
1367(are)X
1525(exactly)X
1843(the)X
2000(blocks)X
2290(that)X
2474(must)X
2700(be)X
2830(fetched)X
3153(and)X
3331(modi\256ed)X
3712(anyway)X
555 1320(when)N
787(the)X
929(block)X
1167(of)X
1271(interest)X
1579(is)X
1667(copied)X
1948(to)X
2047(a)X
2114(new)X
2298(segment.)X
3 f
555 1524(4.3.4.)N
819(Choosing)X
1226(segments)X
1623(to)X
1727(clean)X
1 f
755 1665(Although)N
1148(cleaning)X
1505(full)X
1669(segments)X
2057(will)X
2237(not)X
2390(harm)X
2618(the)X
2766(system,)X
3087(it)X
3170(is)X
3263(desirable)X
3640(to)X
3744(choose)X
555 1773(the)N
703(segments)X
1091(with)X
1292(the)X
1439(most)X
1655(free)X
1834(space.)X
2125(To)X
2261(keep)X
2472(this)X
2640(information)X
3124(available,)X
3526(LFS)X
3720(keeps)X
3968(a)X
555 1881(data)N
750(structure)X
1121(called)X
1386(the)X
3 f
1537(segment)X
1906(usage)X
2168(array)X
1 f
2431(that)X
2609(keeps)X
2861(an)X
2985(estimate)X
3340(of)X
3453(the)X
3604(number)X
3931(of)X
555 1989(live)N
730(blocks)X
1011(in)X
1116(each)X
1323(segment)X
1674(in)X
1779(the)X
1926(system.)X
2246(The)X
2425(array)X
2652(is)X
2745(updated)X
3079(when)X
3316(\256les)X
3505(are)X
3652(truncated)X
555 2097(or)N
667(overwritten)X
1143(and)X
1314(when)X
1554(segments)X
1944(are)X
2094(written)X
2399(or)X
2511(cleaned.)X
2862(Since)X
3108(segments)X
3498(are)X
3648(large)X
3872(and)X
555 2205(the)N
710(usage)X
966(array)X
1201(only)X
1409(takes)X
1644(a)X
1724(few)X
1905(bytes)X
2145(per)X
2305(segment,)X
2687(the)X
2842(array)X
3077(is)X
3178(small)X
3424(enough)X
3744(to)X
3856(stay)X
555 2313(memory-resident.)N
1266(Since)X
1509(the)X
1656(usage)X
1904(level)X
2121(of)X
2230(nonclean)X
2607(segments)X
2994(is)X
3087(used)X
3292(only)X
3492(as)X
3601(a)X
3673(hint)X
3851(dur-)X
555 2421(ing)N
702(cleaning,)X
1077(costly)X
1331(exact)X
1559(crash)X
1786(recovery)X
2147(of)X
2251(this)X
2414(data)X
2599(structure)X
2960(is)X
3048(not)X
3195(needed.)X
755 2562(Cleaning)N
1147(is)X
1255(activated)X
1648(either)X
1912(when)X
2164(the)X
2326(number)X
2663(of)X
2786(clean)X
3033(segments)X
3434(drops)X
3690(below)X
3968(a)X
555 2670(threshold)N
941(value)X
1178(or)X
1285(when)X
1520(a)X
1590(user-level)X
1997(process)X
2312(initiates)X
2645(it.)X
2774(The)X
2951(user-level)X
3358(process)X
3673(interface)X
555 2778(allows)N
845(cleaning)X
1210(to)X
1323(be)X
1452(initialized)X
1877(at)X
1985(night)X
2221(or)X
2339(other)X
2575(times)X
2822(of)X
2940(slack)X
3176(usage.)X
3481(Segments)X
3893(are)X
555 2886(cleaned)N
881(until)X
1089(all)X
1217(segments)X
1606(are)X
1755(either)X
2006(clean)X
2241(or)X
2352(contain)X
2667(at)X
2768(least)X
2976(a)X
3050(\256le-system-settable)X
3829(frac-)X
555 2994(tion)N
729(of)X
833(live)X
1002(blocks.)X
3 f
555 3198(4.3.5.)N
819(Segment)X
1195(write)X
1433(timing)X
1 f
755 3339(Because)N
1103(LFS)X
1294(does)X
1496(not)X
1645(perform)X
1981(synchronous)X
2492(writes,)X
2777(algorithms)X
3215(are)X
3359(needed)X
3658(to)X
3759(decide)X
555 3447(when)N
792(segments)X
1179(should)X
1464(be)X
1584(written)X
1886(to)X
1990(disk.)X
2226(Segment)X
2591(writes)X
2854(in)X
2957(LFS)X
3150(are)X
3296(initiated)X
3641(by)X
3765(condi-)X
555 3555(tions)N
771(similar)X
1068(to)X
1172(those)X
1403(that)X
1576(cause)X
1818(UNIX)X
2085(\256le)X
2236(data)X
2425(blocks)X
2704(to)X
2807(be)X
2926(written.)X
3275(A)X
3372(segment)X
3721(write)X
3947(is)X
555 3663(generated)N
954(triggered)X
1326(by)X
1446(one)X
1609(of)X
1713(three)X
1930(conditions:)X
3 f
555 3804(Cache)N
842(full)X
1 f
1378(The)X
1559(\256le)X
1713(cache)X
1964(may)X
2161(request)X
2469(a)X
2542(segment)X
2893(write)X
3121(when)X
3359(it)X
3443(detects)X
3741(a)X
3814(shor-)X
1371 3912(tage)N
1565(of)X
1678(clean)X
1915(blocks)X
2199(in)X
2307(the)X
2458(cache.)X
2759(This)X
2962(condition)X
3358(will)X
3540(be)X
3663(triggered)X
1371 4020(when)N
1605(many)X
1845(changes)X
2181(are)X
2325(made)X
2560(to)X
2661(the)X
2805(\256le)X
2954(system)X
3247(and)X
3411(the)X
3554(\256le)X
3702(cache)X
3947(is)X
1371 4128(\256lled)N
1593(with)X
1788(dirty)X
1994(blocks.)X
3 f
555 4269(Cache)N
853(write-back)X
1 f
1389(The)X
1581(\256le)X
1746(cache)X
2008(may)X
2216(request)X
2536(a)X
2621(segment)X
2984(write)X
3224(to)X
3341(start)X
3548(if)X
3648(it)X
3743(detects)X
1371 4377(modi\256ed)N
1749(blocks)X
2036(older)X
2270(than)X
2472(a)X
2551(certain)X
2850(age)X
3020(threshold.)X
3438(The)X
3623(age)X
3792(thres-)X
1371 4485(hold)N
1588(is)X
1698(much)X
1958(like)X
2149(the)X
2313(delayed)X
2659(write-back)X
3117(policy)X
3404(of)X
3529(UNIX.)X
3861(The)X
1371 4593(current)N
1668(LFS)X
1857 0.2548(implementation)AX
2487(uses)X
2676(a)X
2743(threshold)X
3125(of)X
3229(30)X
3349(seconds.)X
3 f
555 4734(Sync)N
782(request)X
1 f
1377(A)X
1476(program)X
1832(executing)X
2237(a)X
3 f
2310(sync)X
1 f
2521(or)X
3 f
2631(fsync)X
1 f
2874(system)X
3171(call)X
3340(can)X
3503(cause)X
3746(data)X
3936(to)X
1371 4842(be)N
1491(pushed)X
1792(to)X
1896(disk.)X
2133(The)X
2312(system)X
2608(call)X
2777(will)X
2956(block)X
3199(until)X
3404(the)X
3550(dirty)X
3760(blocks)X
1371 4950(are)N
1513(written)X
1810(to)X
1909(disk.)X
555 5091(Note)N
784(that)X
971(either)X
1233(of)X
1355(the)X
1515(last)X
1691(two)X
1877(conditions)X
2320(can)X
2496(cause)X
2752(a)X
2837(partial)X
3126(segment)X
3489(to)X
3606(be)X
3738(written)X
555 5199(because)N
894(the)X
1046(\256le)X
1203(cache)X
1456(may)X
1655(not)X
1811(contain)X
2128(enough)X
2444(data)X
2638(to)X
2746(\256ll)X
2886(an)X
3010(entire)X
3263(segment.)X
3641(This)X
3845(may)X
555 5307(appear)N
843(wasteful)X
1200(but)X
1354(since)X
1582(there)X
1805(were)X
2022(not)X
2175(enough)X
2488(dirty)X
2700(blocks)X
2981(for)X
3123(the)X
3271(entire)X
3521(segment)X
3872(this)X
555 5415(is)N
648(a)X
720(situation)X
1080(where)X
1343(the)X
1489(system)X
1784(was)X
1961(running)X
2288(much)X
2530(below)X
2793(capacity.)X
3191(Partially-written)X
3851(seg-)X
555 5523(ments)N
809(are)X
951(handled)X
1280(by)X
1400(the)X
1542(segment)X
1887(cleaning)X
2238(algorithm)X
2637(like)X
2806(any)X
2969(other)X
3191(fragmented)X
3654(segment.)X
3 f
2203 6048(-)N
2259(8)X
2331(-)X

9 p
%%Page: 9 10
12 s 12 xH 0 xS 3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
555 780(4.4.)N
747(Crash)X
1021(recovery)X
1 f
755 921(The)N
930(last)X
1089(part)X
1264(of)X
1369(the)X
1512(LFS)X
1702(design)X
1978(presented)X
2372(in)X
2472(this)X
2636(paper)X
2875(is)X
2964(the)X
3106(fast)X
3269(crash)X
3496(recovery)X
3857(sys-)X
555 1029(tem.)N
775(System)X
1085(crashes)X
1395(can)X
1556(cause)X
1797(\256le)X
1947(systems)X
2277(to)X
2378(become)X
2704(inconsistent)X
3190(when)X
3424(disk)X
3610(operations)X
555 1137(are)N
710(terminated)X
1160(by)X
1293(the)X
1448(crash)X
1688(or)X
1805(delayed)X
2142(writes)X
2414(are)X
2568(not)X
2727(completed.)X
3213(The)X
3399(log)X
3558(structure)X
3931(of)X
555 1245(LFS)N
745(allows)X
1021(techniques)X
1458(commonly)X
1894(used)X
2094(in)X
2193(data)X
2378(base)X
2573(systems[7])X
3013(to)X
3112(be)X
3227(used)X
3427(by)X
3547(LFS)X
3736(for)X
3872(fast)X
555 1353(recovery)N
921(from)X
1137(system)X
1433(crashes.)X
1793(Unlike)X
2084(the)X
2231(UNIX)X
2498(\256le)X
2649(system,)X
2968(which)X
3231(must)X
3446(scan)X
3645(the)X
3791(entire)X
555 1461(disk)N
752(after)X
966(a)X
1046(crash)X
1286(to)X
1398(repair)X
1659(damage,)X
2019(LFS)X
2220(need)X
2438(only)X
2645(examine)X
3008(the)X
3162(tail)X
3322(of)X
3438(the)X
3592(log)X
3751(to)X
3862(\256nd)X
555 1569(crash)N
784(damage.)X
1158(LFS)X
1349(speeds)X
1631(recovery)X
1994(even)X
2202(more)X
2426(by)X
2547(periodically)X
3033(marking)X
3379(places)X
3645(in)X
3745(the)X
3888(log)X
555 1677(where)N
831(the)X
990(\256le)X
1154(system)X
1462(is)X
1567(known)X
1869(to)X
1985(be)X
2117(consistent.)X
2567(From)X
2816(these)X
3055(consistent)X
3481(points,)X
3780(called)X
3 f
555 1785(checkpoints)N
1 f
1040(,)X
1088(LFS)X
1277(can)X
1435(attach)X
1690(the)X
1832(\256le)X
1979(system)X
2270(without)X
2588(fear)X
2762(of)X
2866(inconsistent)X
3350(metadata.)X
755 1926(The)N
932(current)X
1232 0.2548(implementation)AX
1864(of)X
1970(LFS)X
2161(does)X
2363(not)X
2512(fully)X
2720(implement)X
3159(the)X
3303(high)X
3500(performance,)X
555 2034(reliable)N
882(crash)X
1122(recovery)X
1496(mechanism)X
1972(designed)X
2351(for)X
2500(LFS.)X
2749(A)X
2854(much)X
3104(simpler)X
3429(algorithm)X
3840(with)X
555 2142(zero)N
756(recovery)X
1128(time)X
1335(is)X
1434(used)X
1645(in)X
1755(the)X
1908(current)X
2216 0.2548(implementation)AX
2856(and)X
3029(described)X
3432(in)X
3541(this)X
3714(section.)X
555 2250(The)N
744(current)X
1056 0.2548(implementation)AX
1701(has)X
1868(more)X
2104(overhead)X
2495(during)X
2784(normal)X
3095(operations)X
3534(and)X
3711(is)X
3813(more)X
555 2358(vulnerable)N
986(to)X
1085(data)X
1270(loss)X
1443(at)X
1537(crashes)X
1844(than)X
2034(the)X
2176(recovery)X
2537(system)X
2828(LFS)X
3017(will)X
3191(ultimately)X
3607(use.)X
3 f
555 2562(4.4.1.)N
819(Checkpoints)X
1 f
755 2703(LFS)N
946(provides)X
1303(for)X
1441(the)X
1585(saving)X
1862(of)X
1968(dynamic)X
2326(\256le)X
2475(system)X
2768(state)X
2971(using)X
3205(an)X
3322(operation)X
3712(called)X
3968(a)X
3 f
555 2811(checkpoint)N
1 f
(.)S
1108(During)X
1437(a)X
1537(checkpoint,)X
2041(all)X
2195(of)X
2331(the)X
2505(memory-resident)X
3219(data)X
3436(structures)X
3866(that)X
555 2919(describe)N
901(the)X
1044(current)X
1342(state)X
1544(of)X
1649(the)X
1791(\256le)X
1938(system)X
2229(are)X
2371(written)X
2668(to)X
2767(a)X
2834(known)X
3119(disk)X
3303(location)X
3638(called)X
3893(the)X
3 f
555 3027(checkpoint)N
1029(region)X
1 f
1291(.)X
1365(The)X
1541(checkpoint)X
1989(marks)X
2249(a)X
2317(consistent)X
2727(state)X
2929(of)X
3034(the)X
3177(\256le)X
3325(system.)X
3665(To)X
3797(allow)X
555 3135(for)N
715(recovery)X
1100(from)X
1334(crashes)X
1664(during)X
1962(checkpoints,)X
2493(two)X
2684(checkpoint)X
3154(regions)X
3484(are)X
3649(used)X
3872(and)X
555 3243(checkpoint)N
1007(writes)X
1270(alternate)X
1631(between)X
1980(them.)X
2225(The)X
2403(checkpoint)X
2854(includes)X
3203(a)X
3274(timestamp)X
3704(that)X
3877(can)X
555 3351(be)N
670(used)X
870(to)X
969(determine)X
1379(which)X
1638(region)X
1908(is)X
1996(the)X
2138(most)X
2349(recent)X
2609(checkpoint.)X
755 3492(During)N
1052(a)X
1120(checkpoint,)X
1592(all)X
1714(modi\256ed)X
2081(blocks)X
2357(in)X
2457(the)X
2600(cache)X
2844(including)X
3232(all)X
3353(\256le)X
3500(system)X
3791(meta-)X
555 3600(data)N
755(blocks)X
1045(such)X
1260(as)X
1379(the)X
1536(inode)X
1789(map)X
1994(and)X
2172(segment)X
2532(usage)X
2790(array,)X
3051(are)X
3207(packed)X
3518(together)X
3872(and)X
555 3708(written)N
865(to)X
977(segments.)X
1420(Once)X
1660(all)X
1794(modi\256cations)X
2355(are)X
2509(safely)X
2775(on)X
2907(disk,)X
3127(a)X
3206(checkpoint)X
3665(region)X
3947(is)X
555 3816(written)N
859(that)X
1035(contains)X
1387(a)X
1461(pointer)X
1765(to)X
1871(the)X
2020(last)X
2185(segment)X
2537(written)X
2841(and)X
3011(the)X
3160(locations)X
3539(of)X
3649(the)X
3797(inode)X
555 3924(map)N
752(and)X
922(segment)X
1274(usage)X
1524(map.)X
1769(Crash)X
2024(recovery)X
2392(consists)X
2727(of)X
2838(nothing)X
3163(more)X
3392(than)X
3589(the)X
3738(normal)X
555 4032(\256le)N
717(system)X
1023("mount")X
1386(code)X
1607(that)X
1791(uses)X
1995(the)X
2152(last)X
2325(checkpoint)X
2787(area)X
2987(to)X
3100(recover)X
3427(the)X
3583(\256le)X
3744(system)X
555 4140(state.)N
805(Unfortunately,)X
1394(if)X
1478(the)X
1621(system)X
1913(crashes)X
2221(without)X
2540(writing)X
2843(the)X
2986(cache)X
3231(to)X
3330(disk,)X
3538(any)X
3701(changes)X
555 4248(made)N
791(to)X
893(the)X
1038(\256le)X
1188(system)X
1482(since)X
1707(the)X
1852(last)X
2013(checkpoint)X
2463(will)X
2640(be)X
2758(lost.)X
2971(The)X
3147(window)X
3482(of)X
3588(vulnerabil-)X
555 4356(ity)N
701(can)X
879(be)X
1014(controlled)X
1449(be)X
1584(setting)X
1885(the)X
2046(checkpointing)X
2635(interval.)X
2997(For)X
3173(example,)X
3567(our)X
3738(current)X
555 4464(checkpointing)N
1133(interval)X
1460(of)X
1571(30)X
1698(seconds)X
2033(means)X
2310(that)X
2486(in)X
2592(the)X
2741(worst)X
2985(case,)X
3206(changes)X
3547(made)X
3787(in)X
3893(the)X
555 4572(thirty)N
788(seconds)X
1116(before)X
1386(a)X
1453(crash)X
1680(may)X
1870(be)X
1985(lost.)X
755 4713(Ultimately)N
1210(LFS)X
1416(will)X
1607(be)X
1739(able)X
1941(to)X
2057(recover)X
2387(the)X
2546(information)X
3042(written)X
3356(between)X
3718(the)X
3877(last)X
555 4821(checkpoint)N
1011(and)X
1183(the)X
1334(crash.)X
1618(Using)X
1880(information)X
2368(in)X
2476(the)X
2627(segment)X
2981(summary)X
3372(blocks,)X
3680(LFS)X
3877(can)X
555 4929("roll)N
762(forward")X
1139(from)X
1360(the)X
1512(last)X
1680(checkpoint,)X
2161(updating)X
2532(metadata)X
2915(structures)X
3323(such)X
3533(as)X
3646(the)X
3797(inode)X
555 5037(map)N
752(and)X
922(indirect)X
1248(blocks.)X
1577(This)X
1778(system)X
2075(will)X
2255(not)X
2408(require)X
2711(the)X
2859(entire)X
3109(\256le)X
3262(cache)X
3512(to)X
3617(be)X
3738(written)X
555 5145(on)N
690(every)X
943(checkpoint.)X
1453(Recovery)X
1861(will)X
2049(be)X
2178(slightly)X
2505(slower)X
2799(because)X
3142(the)X
3298(portion)X
3614(of)X
3732(the)X
3888(log)X
555 5253(between)N
900(the)X
1042(last)X
1200(checkpoint)X
1647(and)X
1810(and)X
1973(the)X
2115(crash)X
2342(must)X
2553(be)X
2668(processed.)X
3 f
555 5457(4.5.)N
747(Related)X
1086(Work)X
1 f
755 5598(LFS)N
953(borrows)X
1300(ideas)X
1530(from)X
1749(many)X
1995(other)X
2225(systems.)X
2585(This)X
2788(section)X
3093(lists)X
3280(some)X
3515(of)X
3627(these)X
3857(sys-)X
555 5706(tems.)N
810(Organizing)X
1268(a)X
1336(\256le)X
1484(system)X
1776(as)X
1881(an)X
1997(append-only)X
2503(log)X
2651(is)X
2740(not)X
2888(a)X
2956(new)X
3141(idea.)X
3351(Several)X
3665(other)X
3888(\256le)X
3 f
2203 6048(-)N
2259(9)X
2331(-)X

10 p
%%Page: 10 11
12 s 12 xH 0 xS 3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
1 f
555 780(systems,)N
918(motivated)X
1339(by)X
1470(the)X
1622(advent)X
1913(of)X
2027(write-once)X
2473(media)X
2743(such)X
2953(as)X
3067(optical)X
3364(disks,)X
3619(have)X
3835(used)X
555 888(similar)N
861(mechanisms.)X
1399(Write-once)X
1871(storage)X
2187(managers)X
2594(with)X
2803(random)X
3135(access)X
3418(to)X
3530(\256les)X
3727(include)X
555 996(SWALLOW[8],)N
1224(the)X
1384(Optical)X
1710(File)X
1902(Cabinet[9],)X
2380(and)X
2560(others[10].)X
3044(These)X
3315(\256le)X
3479(systems)X
3824(were)X
555 1104(intended)N
943(principally)X
1417(for)X
1585(archival)X
1952(storage)X
2285(and)X
2479(not)X
2657(as)X
2792(high-performance)X
3537(\256le)X
3715(servers.)X
555 1212(Another)N
900(way)X
1090(of)X
1200(viewing)X
1540(the)X
1688(LFS)X
1883(design)X
2164(is)X
2258(to)X
2363(see)X
2516(its)X
2637(roots)X
2858(in)X
2962(\256le)X
3114(systems)X
3447(like)X
3621(Cedar[11])X
555 1320(that)N
752(use)X
932(logging)X
1278(to)X
1405(improve)X
1778(write)X
2028(performance)X
2567(and)X
2758(recovery)X
3147(time.)X
3419(The)X
3620(difference)X
555 1428(between)N
908(LFS)X
1104(and)X
1274(other)X
1503(logging)X
1828(systems)X
2163(is)X
2258(that)X
2434(a)X
2508(read-optimized)X
3123(copy)X
3341(of)X
3452(the)X
3601(data)X
3793(is)X
3888(not)X
555 1536(kept)N
758(and)X
934(hence)X
1195(a)X
1274(copy)X
1497(does)X
1709(not)X
1868(need)X
2086(to)X
2197(be)X
2324(updated.)X
2689(The)X
2875(read-optimized)X
3495(format)X
3788(is)X
3888(not)X
555 1644(needed)N
863(because)X
1202(reads)X
1439(are)X
1591(infrequent)X
2021(and)X
2194(the)X
2346(log's)X
2572(format)X
2863(is)X
2961(already)X
3279(well)X
3479(optimized)X
3899(for)X
555 1752(most)N
768(\256le)X
917(reads.)X
1194(The)X
1370(writing)X
1673(of)X
1778(several)X
2076(\256les)X
2261(to)X
2361(disk)X
2546(in)X
2646(one)X
2810(operation)X
3199(is)X
3288(much)X
3527(like)X
3697(the)X
3840(con-)X
555 1860(cept)N
752(of)X
3 f
868(group)X
1149(commit)X
1 f
1459([12])X
1655(found)X
1915(in)X
2026(database)X
2394(literature.)X
2802(Using)X
3066(group)X
3325(commit,)X
3679(database)X
555 1968(systems)N
887(such)X
1091(as)X
1199(IBM's)X
1476(FASTPATH[13])X
2147(delay)X
2383(writing)X
2688(so)X
2800(that)X
2972(several)X
3272(transactions)X
3759(can)X
3920(be)X
555 2076(committed)N
992(in)X
1091(a)X
1158(single)X
1412(I/O.)X
755 2217(An)N
921(interesting)X
1377(related)X
1689(area)X
1899(of)X
2028(research)X
2398(is)X
2511(main-memory)X
3105(database)X
3485(systems.)X
3861(The)X
555 2325(metrics)N
865(used)X
1067(to)X
1168(evaluate)X
1516(these)X
1740(systems)X
2070(are)X
2214(checkpoint)X
2663(overhead)X
3042(\(\257ushing)X
3409(the)X
3553(dirty)X
3760(blocks)X
555 2433(to)N
674(disk\))X
910(and)X
1093(crash)X
1340(recovery)X
1721(speed.)X
2032(These)X
2306(metrics)X
2634(are)X
2796(similar)X
3108(to)X
3227(the)X
3389(design)X
3684(goals)X
3931(of)X
555 2541(write-optimized)N
1220(\256le)X
1392(systems.)X
1793(Main-memory)X
2397(database)X
2777(designs)X
3113(use)X
3289(logging)X
3631(and)X
3818(large)X
555 2649(asynchronous)N
1107(writes[12,)X
1510(14].)X
3 f
555 2853(5.)N
675(Performance)X
1234(of)X
1338(LFS)X
1 f
755 2994(This)N
953(section)X
1252(presents)X
1593(the)X
1737(performance)X
2250(of)X
2356(the)X
2500(LFS)X
2691 0.2548(implementation)AX
3323(running)X
3648(under)X
3893(the)X
555 3102(Sprite)N
821(operating)X
1221(system.)X
1572(For)X
1741(comparison)X
2225(purposes,)X
2625(the)X
2778(same)X
3011(tests)X
3217(were)X
3439(also)X
3629(run)X
3792(under)X
555 3210(SunOS)N
867(4.0.3)X
1099(using)X
1347(Sun's)X
1605(version)X
1928(of)X
2048(the)X
2206(BSD)X
2432(fast)X
2611(\256le)X
2774(system.)X
3129(The)X
3319(benchmarks)X
3824(were)X
555 3318(designed)N
924(to)X
1026(demonstrate)X
1524(the)X
1669(important)X
2071(features)X
2403(of)X
2510(LFS;)X
2729(they)X
2922(were)X
3136(not)X
3285(meant)X
3547(to)X
3648(provide)X
3968(a)X
555 3426(thorough)N
926(comparison)X
1399(between)X
1744(LFS)X
1933(and)X
2096(the)X
2238(SunOS)X
2533(\256le)X
2680(system.)X
755 3567(The)N
939(machine)X
1299(used)X
1508(for)X
1653(the)X
1804(test)X
1971(was)X
2153(a)X
2229(Sun-4/260)X
2662(\(16.6Mhz)X
3071(SPARC)X
3407(CPU\))X
3658(equipped)X
555 3675(with)N
781(32)X
932(megabytes)X
1398(of)X
1532(memory,)X
1931(a)X
2028(Sun)X
2231(SCSI3)X
2535(HBA,)X
2815(and)X
3008(an)X
3153(WREN)X
3490(IV)X
3645(disk)X
3859(\(1.3)X
555 3783(MBytes/sec)N
1051(maximum)X
1484(transfer)X
1820(bandwidth,)X
2292(17.5)X
2502(milliseconds)X
3031(average)X
3373(seek)X
3585(time\).)X
3878(For)X
555 3891(both)N
751(LFS)X
941(and)X
1105(SunOS,)X
1425(the)X
1568(disk)X
1753(was)X
1926(formatted)X
2325(with)X
2520(a)X
2587(\256le)X
2734(system)X
3025(having)X
3311(around)X
3602(300)X
3770(mega-)X
555 3999(bytes)N
784(of)X
890(usable)X
1162(storage.)X
1490(An)X
1633(eight-kilobyte)X
2200(block)X
2439(size)X
2614(was)X
2788(used)X
2989(by)X
3110(SunOS)X
3406(while)X
3645(LFS)X
3835(used)X
555 4107(a)N
634(four-kilobyte)X
1178(block)X
1428(size)X
1614(and)X
1789(a)X
1868(one-megabyte)X
2450(segment)X
2807(size.)X
3041(The)X
3226(system)X
3528(was)X
3712(running)X
555 4215(multiuser)N
943(but)X
1090(was)X
1263(otherwise)X
1661(quiescent)X
2049(during)X
2324(the)X
2466(test.)X
3 f
555 4419(5.1.)N
747(Small-\256le)X
1161(I/O)X
1 f
755 4560(The)N
934(\256rst)X
1112(test)X
1275(measures)X
1662(the)X
1809(creation,)X
2173(reading,)X
2514(and)X
2681(deletion)X
3020(speeds)X
3304(of)X
3412(small)X
3649(\256les.)X
3861(The)X
555 4668(test)N
717(consisted)X
1103(of)X
1211(creating)X
1550(10)X
1674(megabytes)X
2114(of)X
2221(small)X
2457(\256les,)X
2668(followed)X
3037(by)X
3160(\257ushing)X
3496(the)X
3641(\256le)X
3791(cache)X
555 4776(and)N
720(reading)X
1035(all)X
1158(the)X
1302(\256les)X
1488(from)X
1701(disk.)X
1935(After)X
2164(reading)X
2479(all)X
2602(the)X
2746(\256les,)X
2956(they)X
3147(were)X
3359(deleted.)X
3687(Figure)X
3963(3)X
555 4884(presents)N
901(results)X
1183(of)X
1294(test)X
1459(runs)X
1655(with)X
1857(\256les)X
2048(of)X
2159(size)X
2340(one)X
2510(kilobyte)X
2856(and)X
3025(ten)X
3173(kilobytes.)X
3580(The)X
3760(results)X
555 4992(are)N
697(normalized)X
1155(to)X
1254(\256les)X
1438(per)X
1585(second)X
1876(created,)X
2203(read,)X
2417(and)X
2580(deleted.)X
755 5133(The)N
932(asynchronous)X
1487(\256le)X
1637(creation)X
1974(and)X
2139(deletion)X
2476(of)X
2582(LFS)X
2773(permits)X
3088(substantial)X
3526(gains)X
3755(in)X
3856(per-)X
555 5241(formance)N
949(over)X
1150(the)X
1298(synchronous)X
1813(SunOS)X
2114(\256le)X
2267(system.)X
2612(SunOS)X
2912(performs)X
3288(small)X
3526(synchronous)X
555 5349(disk)N
750(I/Os)X
950(for)X
1097(each)X
1309(creation)X
1655(and)X
1829(deletion)X
2175(while)X
2424(LFS)X
2624(packs)X
2877(many)X
3125(changes)X
3469(into)X
3653(segments)X
555 5457(and)N
727(pushs)X
978(them)X
1204(to)X
1312(disk)X
1505(in)X
1613(megabyte)X
2021(transfers.)X
2433(This)X
2637(accounts)X
3007(for)X
3152(much)X
3398(of)X
3510(LFS's)X
3776(order-)X
555 5565(of-magnitude)N
1111(faster)X
1362(small)X
1608(\256le)X
1768(creation)X
2116(and)X
2292(deletion.)X
2688(While)X
2961(the)X
3116(SunOS)X
3424(performance)X
3947(is)X
555 5673(related)N
849(to)X
955(the)X
1104(disk)X
1295(access)X
1572(time,)X
1799(the)X
1948(LFS)X
2144(is)X
2238(CPU-bound)X
2726(on)X
2852(these)X
3080(tests.)X
3329(LFS)X
3524(performance)X
555 5781(will)N
747(scale)X
982(with)X
1195(CPU)X
1423(speeds)X
1721(until)X
1940(it)X
2036(is)X
2142(ultimately)X
2576(limited)X
2892(by)X
3030(the)X
3189(disk)X
3390(sequential-write)X
3 f
2179 6048(-)N
2235(10)X
2355(-)X

11 p
%%Page: 11 12
12 s 12 xH 0 xS 3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
1 f
10 f
555 876(hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh)N
10 s
1 f
3000 2506(SunFS)N
-1 Ds
1 Dt
2680 2412 MXY
 2680 2412 lineto
 2920 2412 lineto
 2920 2532 lineto
 2680 2532 lineto
 2680 2412 lineto
closepath 21 2680 2412 2920 2532 Dp
2045 2506(LFS)N
1725 2412 MXY
 1725 2412 lineto
 1965 2412 lineto
 1965 2532 lineto
 1725 2532 lineto
 1725 2412 lineto
closepath 1 1725 2412 1965 2532 Dp
987 1920(c)N
987 1845(e)N
990 1770(s)N
994 1695(/)N
990 1620(s)N
987 1545(e)N
994 1470(l)N
994 1395(i)N
992 1320(f)N
1235 1126(200)N
4 Ds
1405 1092 MXY
2395 0 Dl
1235 1251(175)N
1405 1217 MXY
2395 0 Dl
1235 1376(150)N
1405 1342 MXY
2395 0 Dl
1235 1501(125)N
1405 1467 MXY
2395 0 Dl
1235 1626(100)N
1405 1592 MXY
2395 0 Dl
1275 1751(75)N
1405 1717 MXY
2395 0 Dl
1275 1876(50)N
1405 1842 MXY
2395 0 Dl
1275 2001(25)N
1405 1967 MXY
2395 0 Dl
1315 2126(0)N
-1 Ds
3 Dt
1405 2092 MXY
0 -1000 Dl
2092 MY
2395 0 Dl
1 Dt
3615 1992 MXY
 3615 1992 lineto
 3775 1992 lineto
 3775 2092 lineto
 3615 2092 lineto
 3615 1992 lineto
closepath 21 3615 1992 3775 2092 Dp
3430 1092 MXY
 3430 1092 lineto
 3590 1092 lineto
 3590 2092 lineto
 3430 2092 lineto
 3430 1092 lineto
closepath 1 3430 1092 3590 2092 Dp
3416 2210(10K)N
3574(Delete)X
3220 1972 MXY
 3220 1972 lineto
 3380 1972 lineto
 3380 2092 lineto
 3220 2092 lineto
 3220 1972 lineto
closepath 21 3220 1972 3380 2092 Dp
3035 1907 MXY
 3035 1907 lineto
 3195 1907 lineto
 3195 2092 lineto
 3035 2092 lineto
 3035 1907 lineto
closepath 1 3035 1907 3195 2092 Dp
3044 2210(10K)N
3202(Read)X
2825 2032 MXY
 2825 2032 lineto
 2985 2032 lineto
 2985 2092 lineto
 2825 2092 lineto
 2825 2032 lineto
closepath 21 2825 2032 2985 2092 Dp
2640 1842 MXY
 2640 1842 lineto
 2800 1842 lineto
 2800 2092 lineto
 2640 2092 lineto
 2640 1842 lineto
closepath 1 2640 1842 2800 2092 Dp
2626 2210(10K)N
2784(Create)X
2430 1987 MXY
 2430 1987 lineto
 2590 1987 lineto
 2590 2092 lineto
 2430 2092 lineto
 2430 1987 lineto
closepath 21 2430 1987 2590 2092 Dp
2245 1262 MXY
 2245 1262 lineto
 2405 1262 lineto
 2405 2092 lineto
 2245 2092 lineto
 2245 1262 lineto
closepath 1 2245 1262 2405 2092 Dp
2251 2210(1K)N
2369(Delete)X
2035 1717 MXY
 2035 1717 lineto
 2195 1717 lineto
 2195 2092 lineto
 2035 2092 lineto
 2035 1717 lineto
closepath 21 2035 1717 2195 2092 Dp
1850 1492 MXY
 1850 1492 lineto
 2010 1492 lineto
 2010 2092 lineto
 1850 2092 lineto
 1850 1492 lineto
closepath 1 1850 1492 2010 2092 Dp
1879 2210(1K)N
1997(Read)X
1640 2022 MXY
 1640 2022 lineto
 1800 2022 lineto
 1800 2092 lineto
 1640 2092 lineto
 1640 2022 lineto
closepath 21 1640 2022 1800 2092 Dp
1455 1317 MXY
 1455 1317 lineto
 1615 1317 lineto
 1615 2092 lineto
 1455 2092 lineto
 1455 1317 lineto
closepath 1 1455 1317 1615 2092 Dp
1461 2210(1K)N
1579(Create)X
3 Dt
-1 Ds
3 f
1773 2794(Figure)N
2020(3)X
2080(\320)X
2180(Small)X
2395(\256le)X
2517(I/O)X
2652(test.)X
1 f
555 2884(Measurements)N
1045(of)X
1134(creating,)X
1435(reading,)X
1718(and)X
1856(deleting)X
2136(many)X
2335(1K)X
2454(and)X
2591(10K)X
2750(\256les)X
2904(using)X
3098(LFS)X
3256(and)X
3393(the)X
3512(SunOS)X
3759(\256le)X
3882(sys-)X
555 2974(tem.)N
737(The)X
884(creation)X
1165(phase)X
1370(of)X
1459(the)X
1579(test)X
1711(measured)X
2040(the)X
2159(speed)X
2363(at)X
2442(which)X
2659(10000)X
2880(one-kilobyte)X
3306(and)X
3443(1000)X
3624(ten-kilobyte)X
555 3064(\256les)N
713(could)X
916(be)X
1017(created.)X
1295(Following)X
1648(the)X
1770(creation,)X
2073(the)X
2195(\256le)X
2321(cache)X
2529(was)X
2678(\257ushed)X
2933(and)X
3073(all)X
3177(the)X
3299(\256les)X
3456(were)X
3637(read)X
3800(\(in)X
3913(the)X
555 3154(same)N
744(order)X
938(as)X
1029(they)X
1190(were)X
1370(created\).)X
1693(Finally,)X
1962(we)X
2079(measured)X
2410(the)X
2531(speed)X
2737(at)X
2818(which)X
3037(the)X
3158(\256les)X
3314(could)X
3515(be)X
3614(deleted.)X
3909(All)X
555 3244(performance)N
982(measurements)X
1461(are)X
1580(presented)X
1908(in)X
1990(number)X
2255(of)X
2342(\256les)X
2495(created,)X
2768(read,)X
2947(or)X
3034(deleted)X
3286(per)X
3409(second.)X
12 s
10 f
555 3352(hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh)N
1 f
555 3664(bandwidth.)N
1046(Because)X
1404(the)X
1559(\256les)X
1756(are)X
1910(packed)X
2219(tightly)X
2507(together)X
2859(in)X
2970(segments,)X
3388(the)X
3542(read)X
3744(perfor-)X
555 3772(mance)N
832(of)X
937(LFS)X
1127(is)X
1216(excellent.)X
1638(Update-in-place)X
2284(\256le)X
2432(systems)X
2761(such)X
2962(as)X
3067(SunOS)X
3363(must)X
3575(spread)X
3851(\256les)X
555 3880(out)N
702(to)X
801(support)X
1113(\256le)X
1260(growth,)X
1580(thus)X
1764(hurting)X
2066(the)X
2208(read)X
2398(performance)X
2909(during)X
3184(these)X
3406(tests.)X
3 f
555 4084(5.2.)N
747(Large-\256le)X
1172(I/O)X
1 f
755 4225(The)N
938(second)X
1238(test)X
1405(measures)X
1796(the)X
1947(performance)X
2467(of)X
2580(writing)X
2891(and)X
3063(reading)X
3385(a)X
3460(100-megabyte)X
555 4333(\256le)N
715(from)X
939(a)X
1019(newly)X
1291(created)X
1607(\256le)X
1767(system.)X
2095(The)X
2282(test)X
2453(consisted)X
2848(of)X
2964(\256ve)X
3144(stages:)X
3442(writing)X
3756(a)X
3835(100-)X
555 4441(megabyte)N
955(\256le)X
1103(sequentially,)X
1618(reading)X
1932(the)X
2075(\256le)X
2222(sequentially,)X
2736(writing)X
3038(100)X
3206(megabytes)X
3642(randomly)X
555 4549(to)N
660(the)X
807(\256le,)X
983(reading)X
1301(100)X
1474(megabytes)X
1915(randomly)X
2313(from)X
2529(the)X
2676(\256le,)X
2852(and)X
3020(rereading)X
3413(the)X
3560(\256le)X
3712(sequen-)X
555 4657(tially)N
783(again.)X
1069(The)X
1248(test)X
1411(program)X
1766(used)X
1971(an)X
2091(eight-kilobyte)X
2661(request)X
2968(size.)X
3195(Figure)X
3474(4)X
3550(presents)X
3893(the)X
555 4765(transfer)N
888(rates)X
1108(in)X
1221(kilobytes/second)X
1906(for)X
2056(each)X
2271(test.)X
2467(As)X
2611(expected,)X
3016(LFS's)X
3288(write)X
3524(performance)X
555 4873(comes)N
828(close)X
1053(to)X
1155(the)X
1300(maximum)X
1718(write)X
1943(bandwidth)X
2376(of)X
2483(the)X
2628(disk.)X
2839(Unlike)X
3128(the)X
3273(SunOS)X
3571(\256le)X
3720(system,)X
555 4981(LFS's)N
822(write)X
1053(bandwidth)X
1492(is)X
1589(independent)X
2092(of)X
2204(how)X
2401(the)X
2551(\256le)X
2706(is)X
2802(written.)X
3155(LFS)X
3352(especially)X
3770(excels)X
555 5089(on)N
683(the)X
833(random)X
1159(write)X
1389(test)X
1554(because)X
1890(the)X
2039(random)X
2364(\256le)X
2518(writes)X
2784(become)X
3115(sequential)X
3537(writes)X
3803(when)X
555 5197(packed)N
859(into)X
1040(segments.)X
1477(The)X
1658(SunOS)X
1960(\256le)X
2114(system)X
2412(must)X
2630(do)X
2757(random)X
3082(I/O)X
3241(to)X
3347(update)X
3635(the)X
3783(\256le)X
3936(in)X
555 5305(place.)N
832(The)X
1007(random)X
1326(write)X
1549(rate)X
1719(for)X
1856(LFS)X
2046(is)X
2134(greater)X
2426(than)X
2616(the)X
2758(sequential)X
3173(write)X
3395(rate)X
3564(because)X
3893(the)X
555 5413(random)N
874(I/Os)X
1064(were)X
1275(not)X
1422(unique,)X
1732(thus)X
1916(allowing)X
2277(data)X
2462(to)X
2561(be)X
2676(overwritten)X
3144(in)X
3243(the)X
3385(\256le)X
3532(cache.)X
3824(Both)X
555 5521(SunOS)N
858(and)X
1029(Sprite)X
1291(contain)X
1607(sophisticated)X
2142(\256le)X
2297(cache)X
2549(implementations)X
3224(that)X
3400(grow)X
3628(to)X
3734(use)X
3893(the)X
555 5629(memory)N
904(not)X
1055(being)X
1297(used)X
1500(by)X
1623(programs.)X
2061(During)X
2360(the)X
2505(tests,)X
2727(around)X
3021(15)X
3144(megabytes)X
3583(of)X
3690(memory)X
555 5737(were)N
766(being)X
1004(used)X
1204(as)X
1308(a)X
1375(\256le)X
1522(cache.)X
3 f
2179 6048(-)N
2235(11)X
2355(-)X

12 p
%%Page: 12 13
12 s 12 xH 0 xS 3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
1 f
10 f
555 876(hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh)N
11 s
1 f
3071 2503(SunFS)N
-1 Ds
1 Dt
2721 2401 MXY
 2721 2401 lineto
 2984 2401 lineto
 2984 2532 lineto
 2721 2532 lineto
 2721 2401 lineto
closepath 21 2721 2401 2984 2532 Dp
2239 2503(LFS)N
1889 2401 MXY
 1889 2401 lineto
 2152 2401 lineto
 2152 2532 lineto
 1889 2532 lineto
 1889 2401 lineto
closepath 1 1889 2401 2152 2532 Dp
1081 1971(c)N
1081 1889(e)N
1083 1807(s)N
1088 1725(/)N
1083 1643(s)N
1081 1560(e)N
1088 1478(t)N
1078 1396(y)N
1078 1314(b)N
1078 1232(k)N
1352 1129(900)N
4 Ds
1538 1092 MXY
2190 0 Dl
1352 1239(800)N
1538 1202 MXY
2190 0 Dl
1352 1343(700)N
1538 1306 MXY
2190 0 Dl
1352 1452(600)N
1538 1415 MXY
2190 0 Dl
1352 1556(500)N
1538 1519 MXY
2190 0 Dl
1352 1666(400)N
1538 1629 MXY
2190 0 Dl
1352 1770(300)N
1538 1733 MXY
2190 0 Dl
1352 1879(200)N
1538 1842 MXY
2190 0 Dl
1352 1983(100)N
1538 1946 MXY
2190 0 Dl
1440 2087(0)N
-1 Ds
3 Dt
1538 2050 MXY
0 -958 Dl
2050 MY
2190 0 Dl
1 Dt
3526 1503 MXY
 3526 1503 lineto
 3701 1503 lineto
 3701 2050 lineto
 3526 2050 lineto
 3526 1503 lineto
closepath 21 3526 1503 3701 2050 Dp
3323 1826 MXY
 3323 1826 lineto
 3498 1826 lineto
 3498 2050 lineto
 3323 2050 lineto
 3323 1826 lineto
closepath 1 3323 1826 3498 2050 Dp
3308 2179(Seq)N
3462(Reread)X
3093 1777 MXY
 3093 1777 lineto
 3269 1777 lineto
 3269 2050 lineto
 3093 2050 lineto
 3093 1777 lineto
closepath 21 3093 1777 3269 2050 Dp
2891 1788 MXY
 2891 1788 lineto
 3066 1788 lineto
 3066 2050 lineto
 2891 2050 lineto
 2891 1788 lineto
closepath 1 2891 1788 3066 2050 Dp
2883 2179(Rand)N
3091(Read)X
2661 1651 MXY
 2661 1651 lineto
 2836 1651 lineto
 2836 2050 lineto
 2661 2050 lineto
 2661 1651 lineto
closepath 21 2661 1651 2836 2050 Dp
2458 1180 MXY
 2458 1180 lineto
 2633 1180 lineto
 2633 2050 lineto
 2458 2050 lineto
 2458 1180 lineto
closepath 1 2458 1180 2633 2050 Dp
2440 2179(Rand)N
2648(Write)X
2228 1503 MXY
 2228 1503 lineto
 2403 1503 lineto
 2403 2050 lineto
 2228 2050 lineto
 2228 1503 lineto
closepath 21 2228 1503 2403 2050 Dp
2026 1514 MXY
 2026 1514 lineto
 2201 1514 lineto
 2201 2050 lineto
 2026 2050 lineto
 2026 1514 lineto
closepath 1 2026 1514 2201 2050 Dp
2045 2179(Seq)N
2199(Read)X
1796 1432 MXY
 1796 1432 lineto
 1971 1432 lineto
 1971 2050 lineto
 1796 2050 lineto
 1796 1432 lineto
closepath 21 1796 1432 1971 2050 Dp
1593 1185 MXY
 1593 1185 lineto
 1768 1185 lineto
 1768 2050 lineto
 1593 2050 lineto
 1593 1185 lineto
closepath 1 1593 1185 1768 2050 Dp
1602 2179(Seq)N
1756(Write)X
3 Dt
-1 Ds
3 f
10 s
1768 2794(Figure)N
2015(4)X
2075(\320)X
2175(Large)X
2400(\256le)X
2522(I/O)X
2657(test.)X
1 f
555 2884(Transfer)N
858(rates)X
1040(for)X
1164(reading)X
1435(and)X
1581(writing)X
1842(an)X
1947(100)X
2096(megabytes)X
2468(\256le.)X
2619(The)X
2773(\256gure)X
2989(shows)X
3218(the)X
3345(rate)X
3495(in)X
3586(kilobytes)X
3908(per)X
555 2974(second)N
802(to)X
888(create)X
1105(and)X
1245(write)X
1434(100)X
1578(megabytes)X
1945(sequentially,)X
2376(read)X
2539(100)X
2683(megabytes)X
3049(sequentially,)X
3479(write)X
3667(100)X
3810(mega-)X
555 3064(bytes)N
748(randomly)X
1079(to)X
1165(the)X
1287(\256le,)X
1433(and)X
1573(read)X
1736(100)X
1880(megabytes)X
2247(randomly)X
2578(from)X
2758(the)X
2880(\256le.)X
3046(The)X
3195(\256nal)X
3361(test)X
3496(was)X
3644(to)X
3729(read)X
3891(100)X
555 3154(megabytes)N
918(sequentially)X
1325(after)X
1493(randomly)X
1820(writing)X
2071(the)X
2189(\256le.)X
12 s
10 f
555 3262(hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh)N
1 f
755 3574(For)N
928(the)X
1086(sequential)X
1517(write)X
1754(test,)X
1951(both)X
2161(\256le)X
2323(systems)X
2666(allocated)X
3054(the)X
3211(\256les)X
3410(sequentially)X
3915(on)X
555 3682(disk)N
747(and)X
918(hence)X
1175(had)X
1346(similar)X
1646(read)X
1844(rates.)X
2106(The)X
2288(\256le)X
2443(layout)X
2716(differed)X
3052(between)X
3404(the)X
3553(\256le)X
3707(systems)X
555 3790(after)N
773(the)X
932(random)X
1267(writes)X
1543(were)X
1771(performed.)X
2261(SunOS)X
2573(updates)X
2908(the)X
3067(\256le)X
3231(in)X
3347(place)X
3592(while)X
3846(LFS)X
555 3898(writes)N
818(the)X
964(\256le)X
1115(to)X
1218(disk)X
1406(in)X
1509(the)X
1655(order)X
1886(the)X
2032(blocks)X
2311(are)X
2457(written.)X
2782(When)X
3039(the)X
3184(\256le)X
3334(is)X
3425(randomly)X
3821(read,)X
555 4006(both)N
763(\256le)X
923(systems)X
1264(must)X
1488(do)X
1621(random)X
1952(disk)X
2149(I/O)X
2314(to)X
2426(process)X
2751(the)X
2905(requests)X
3256(and)X
3431(thus)X
3627(they)X
3829(have)X
555 4114(equivalent)N
982(read)X
1173(performance.)X
1733(The)X
1908(read)X
2099(performance)X
2611(of)X
2715(the)X
2857(\256le)X
3004(systems)X
3332(differed)X
3661(when)X
3893(the)X
555 4222(\256le)N
706(was)X
883(read)X
1077(sequentially)X
1571(after)X
1776(the)X
1922(random)X
2244(updates.)X
2590(For)X
2751(SunOS,)X
3074(the)X
3220(blocks)X
3498(were)X
3712(sequen-)X
555 4330(tial)N
714(on)X
845(disk)X
1040(while)X
1288(LFS)X
1487(had)X
1660(to)X
1769(do)X
1899(random)X
2227(disk)X
2421(reads)X
2658(to)X
2767(fetch)X
2994(the)X
3146(blocks.)X
3479(This)X
3684(example)X
555 4438(demonstrates)N
1092(\256le)X
1244(access)X
1519(patterns)X
1853(in)X
1957(which)X
2221(conventional)X
2748(update-in-place)X
3377(\256le)X
3529(systems)X
3861(will)X
555 4546(have)N
767(better)X
1017(disk)X
1207(read)X
1403(performance)X
1920(than)X
2116(LFS.)X
2359(LFS's)X
2623(sequential)X
3044(read)X
3240(performance)X
3757(can)X
3920(be)X
555 4654(reduced)N
891(if)X
981(the)X
1130(read)X
1327(access)X
1604(pattern)X
1903(is)X
1998(different)X
2361(than)X
2558(the)X
2707(write)X
2936(access)X
3213(pattern.)X
3536(An)X
3684(example)X
555 4762(for)N
693(this)X
857(would)X
1122(be)X
1238(sequentially)X
1729(reading)X
2043(a)X
2111(randomly)X
2505(written)X
2803(\256le.)X
2999(Note)X
3211(that)X
3381(the)X
3524(performance)X
555 4870(reduction)N
950(only)X
1151(occurs)X
1432(in)X
1537(reads)X
1770(that)X
1945(miss)X
2151(in)X
2256(the)X
2404(\256le)X
2557(cache)X
2807(and)X
2976(would)X
3246(be)X
3367(satis\256ed)X
3712(sequen-)X
555 4978(tially)N
785(by)X
912(a)X
986(conventional)X
1515(\256le)X
1669(system)X
1967(and)X
2137(not)X
2291(by)X
2418(LFS.)X
2662(Randomly)X
3094(reading)X
3414(a)X
3488(large)X
3712(sequen-)X
555 5086(tially)N
778(written)X
1075(\256le)X
1222(will)X
1396(cause)X
1634(random)X
1952(I/O)X
2104(in)X
2203(both)X
2398(\256le)X
2545(systems.)X
3 f
555 5290(5.3.)N
747(Cleaning)X
1139(cost)X
1 f
755 5431(During)N
1060(the)X
1211(tests)X
1415(described)X
1817(above,)X
2104(no)X
2233(segment)X
2587(cleaning)X
2947(was)X
3129(done)X
3349(in)X
3456(LFS.)X
3701(File)X
3883(I/O)X
555 5539(has)N
722(traditionally)X
1233(been)X
1454(very)X
1664(bursty)X
1943(so)X
2067(we)X
2218(hope)X
2444(that)X
2628(much)X
2881(of)X
3000(the)X
3157(cleaning)X
3523(can)X
3695(be)X
3824(done)X
555 5647(using)N
798(the)X
951(idle)X
1131(cycles)X
1407(of)X
1521(the)X
1673(disk)X
1867(subsystem.)X
2325(This)X
2530(section)X
2837(examines)X
3235(the)X
3387(cost)X
3576(of)X
3690(segment)X
555 5755(cleaning)N
906(and)X
1069(its)X
1184(effect)X
1428(on)X
1548(sustained)X
1930(performance.)X
3 f
2179 6048(-)N
2235(12)X
2355(-)X

13 p
%%Page: 13 14
12 s 12 xH 0 xS 3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
1 f
755 780(The)N
934(cost)X
1117(of)X
1225(segment)X
1574(cleaning)X
1929(is)X
2021(directly)X
2344(related)X
2635(to)X
2738(the)X
2884(utilization,)X
3328(or)X
3436(number)X
3758(of)X
3866(live)X
555 888(blocks,)N
858(in)X
961(the)X
1107(segments)X
1493(being)X
1735(cleaned.)X
2106(Segments)X
2508(with)X
2707(no)X
2831(live)X
3004(blocks)X
3283(have)X
3492(no)X
3615(cost)X
3797(while)X
555 996(full)N
728(segments)X
1125(are)X
1282(expensive)X
1706(to)X
1820(clean)X
2063(and)X
2240(yield)X
2471(almost)X
2766(no)X
2900(free)X
3088(space.)X
3388(To)X
3533(evaluate)X
3893(the)X
555 1104(impact)N
859(of)X
980(cleaning)X
1348(on)X
1485(LFS)X
1691(performance,)X
2243(the)X
2402(rate)X
2588(at)X
2699(which)X
2975(bytes)X
3219(can)X
3394(be)X
3526(cleaned)X
3862(was)X
555 1212(measured)N
956(for)X
1100(segments)X
1490(with)X
1692(varying)X
2017(utilization.)X
2488(The)X
2669(results)X
2951(of)X
3062(these)X
3291(tests)X
3493(are)X
3642(displayed)X
555 1320(in)N
662(Figure)X
945(5.)X
1073(The)X
1255(varying)X
1581(utilization)X
2005(was)X
2186(generated)X
2593(by)X
2721(creating)X
3064(many)X
3309(one-kilobyte)X
3827(\256les,)X
555 1428(deleting)N
891(some)X
1119(\256xed)X
1336(percentage)X
1779(of)X
1884(them,)X
2126(and)X
2290(measuring)X
2716(the)X
2858(rate)X
3027(at)X
3121(which)X
3380(LFS)X
3569(could)X
3807(clean)X
555 1536(the)N
703(fragmented)X
1172(segments.)X
1608(As)X
1744(expected,)X
2141(the)X
2289(more)X
2517(utilized)X
2836(the)X
2983(segment)X
3333(was,)X
3535(the)X
3682(longer)X
3957(it)X
555 1644(took)N
761(to)X
871(clean)X
1110(and)X
1284(the)X
1437(lower)X
1690(the)X
1842(rate)X
2021(at)X
2125(which)X
2394(clean)X
2632(segments)X
3024(could)X
3272(be)X
3397(generated.)X
3854(It)X
3947(is)X
555 1752(clear)N
768(that)X
938(cleaning)X
1290(highly)X
1561(utilized)X
1876(segments)X
2259(will)X
2434(signi\256cantly)X
2935(reduce)X
3217(the)X
3359(write-throughput)X
555 1860(of)N
659(LFS.)X
755 2001(Note)N
967(that)X
1137(the)X
1280(x-axis)X
1540(of)X
1645(Figure)X
1920(5)X
1992(is)X
2080(the)X
2222(average)X
2546(utilization)X
2962(of)X
3066(the)X
3208(segments)X
3590(at)X
3684(cleaning)X
555 2109(time)N
757(and)X
926(not)X
1079(the)X
1227(overall)X
1525(disk-space)X
1961(utilization.)X
2406(For)X
2568(example,)X
2948(using)X
3185(80%)X
3390(of)X
3499(the)X
3646(disk)X
3835(does)X
555 2217(not)N
715(imply)X
977(that)X
1159(the)X
1314(system)X
1618(will)X
1805(have)X
2024(to)X
2136(clean)X
2377(segments)X
2771(with)X
2978(80%)X
3190(utilization.)X
3666(For)X
3835(non-)X
555 2325(synthetic)N
933(workloads,)X
1386(segment)X
1736(utilization)X
2157(will)X
2336(form)X
2552(a)X
2624(distribution)X
3097(having)X
3388(a)X
3460(mean)X
3698(equal)X
3936(to)X
555 2433(the)N
705(overall)X
1005(disk)X
1197(utilization.)X
1645(The)X
1827(shape)X
2078(and)X
2249(variance)X
2608(of)X
2720(the)X
2869(distribution)X
3344(are)X
3493(controlled)X
3915(by)X
555 2541(many)N
811(factors)X
1115(including;)X
1547(\256le)X
1711(system)X
2019(access)X
2306(patterns)X
2652(such)X
2869(as)X
2990(amount)X
3320(of)X
3441(locality)X
3772(in)X
3888(\256le)X
555 2649(updates,)N
934(LFS)X
1160(segment)X
1542(layout)X
1844(algorithms,)X
2341(and)X
2540(segment)X
2921(cleaning)X
3308(algorithms.)X
3828(It)X
3947(is)X
555 2757(currently)N
928(not)X
1076(known)X
1362(what)X
1574(the)X
1717(segment)X
2063(distribution)X
2532(looks)X
2765(like)X
2935(for)X
3071(nonsynthetic)X
3587(workloads.)X
555 2865(The)N
739(test)X
906(presented)X
1308(in)X
1416(this)X
1588(section)X
1894(measured)X
2296(a)X
2372(worst)X
2618(case)X
2817(scenario)X
3171(for)X
3316(LFS.)X
3562(Under)X
3835(non-)X
555 2973(synthetic)N
934(workloads)X
1365(it)X
1450(would)X
1720(be)X
1841(highly)X
2117(unlikely)X
2463(that)X
2638(all)X
2765(of)X
2875(the)X
3023(segments)X
3411(would)X
3681(have)X
3893(the)X
555 3081(same)N
782(fragmentation.)X
1399(The)X
1577(write)X
1803(performance)X
2318(of)X
2426(LFS)X
2619(will)X
2797(be)X
2916(controlled)X
3335(by)X
3459(how)X
3652(well)X
3846(LFS)X
555 3189(can)N
716(hide)X
909(cleaning)X
1263(cost)X
1445(during)X
1722(idle)X
1893(cycles.)X
2184(If)X
2274(cleaning)X
2627(can)X
2787(not)X
2936(be)X
3053(hidden,)X
3365(the)X
3509(question)X
3861(will)X
555 3297(be)N
670(how)X
859(full)X
1017(LFS)X
1206(can)X
1364(allow)X
1602(the)X
1744(disk)X
1928(to)X
2027(become)X
2351(and)X
2514(still)X
2683(keep)X
2889(the)X
3031(cleaning)X
3382(cost)X
3561(down.)X
3 f
555 3501(6.)N
675(Conclusion)X
1 f
755 3642(We)N
919(have)X
1131(presented)X
1530(a)X
1603(\256le)X
1756(system)X
2052(that)X
2226(attacks)X
2523(the)X
2670(I/O)X
2827(bottleneck)X
3258(problem)X
3608(by)X
3733(access-)X
555 3750(ing)N
715(the)X
870(disk)X
1067(asynchronously)X
1707(and)X
1883(sequentially.)X
2410(The)X
2597(\256le)X
2757(system)X
3061(is)X
3162(structured)X
3584(as)X
3701(append-)X
10 f
555 3954(hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh)N
9 s
1 f
2275 4914(Fraction)N
2533(of)X
2611(segment)X
2869(alive)X
2156 4202(1300)N
-1 Ds
5 Dt
2332 4172 MXY
-8 0 Dl
2156 4317(1040)N
2332 4287 MXY
-8 0 Dl
2192 4432(780)N
2332 4402 MXY
-8 0 Dl
2192 4546(520)N
2332 4516 MXY
-8 0 Dl
2192 4661(260)N
2332 4631 MXY
-8 0 Dl
2264 4768(0)N
2332 4746 MXY
-8 0 Dl
2890 4822(1.0)N
2935 4746 MXY
0 6 Dl
2875 4746 MXY
0 6 Dl
2770 4822(0.8)N
2815 4746 MXY
0 6 Dl
2754 4746 MXY
0 6 Dl
2649 4822(0.6)N
2694 4746 MXY
0 6 Dl
2634 4746 MXY
0 6 Dl
2528 4822(0.4)N
2573 4746 MXY
0 6 Dl
2513 4746 MXY
0 6 Dl
2408 4822(0.2)N
2453 4746 MXY
0 6 Dl
2392 4746 MXY
0 6 Dl
2287 4822(0.0)N
2332 4746 MXY
0 6 Dl
4746 MY
0 -574 Dl
4746 MY
603 0 Dl
3 Dt
4741 MY
0 9 Dl
0 -4 Dl
6 0 Dl
-12 0 Dl
2332 4190 MXY
0 9 Dl
0 -4 Dl
6 0 Dl
-12 0 Dl
2332 4175 MXY
32 204 Dl
131 99 Dl
139 129 Dl
211 103 Dl
4706 MY
0 9 Dl
0 -5 Dl
6 0 Dl
-12 0 Dl
2634 4602 MXY
0 9 Dl
0 -4 Dl
6 0 Dl
-12 0 Dl
2495 4474 MXY
0 8 Dl
0 -4 Dl
6 0 Dl
-12 0 Dl
2368 4370 MXY
0 9 Dl
0 -5 Dl
6 0 Dl
-12 0 Dl
2332 4170 MXY
0 9 Dl
0 -4 Dl
6 0 Dl
-12 0 Dl
1538 4419(\(Kilobytes/second\))N
2515 4300(Cleaning)N
2793(rate)X
2919(as)X
2997(function)X
2515 4395(of)N
2593(segment)X
2851(usage)X
3033(fraction.)X
1538 4356(Cleaning)N
1816(Rate)X
3 Dt
-1 Ds
3 f
10 s
1614 5152(Figure)N
1861(5)X
1921(\320)X
2021(LFS)X
2187(segment)X
2488(cleaning)X
2792(rate.)X
1 f
555 5242(Measured)N
898(rate)X
1045(of)X
1137(segment)X
1429(cleaning)X
1726(as)X
1818(a)X
1879(function)X
2171(of)X
2263(segment)X
2555(utilization.)X
2924(The)X
3074(rate)X
3220(is)X
3298(presented)X
3631(in)X
3718(kilobytes)X
555 5332(per)N
678(second)X
921(that)X
1061(clean)X
1251(segments)X
1569(can)X
1701(be)X
1797(generated.)X
12 s
10 f
555 5440(hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh)N
3 f
2179 6048(-)N
2235(13)X
2355(-)X

14 p
%%Page: 14 15
12 s 12 xH 0 xS 3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
1 f
555 780(only)N
770(segmented)X
1226(log)X
1393(for)X
1549(high)X
1764(write)X
2006(performance)X
2537(and)X
2719(fast)X
2901(crash)X
3147(recovery.)X
3551(File)X
3744(system)X
555 888(metadata)N
932(structures)X
1334(are)X
1480(maintained)X
1937(to)X
2040(allow)X
2282(high)X
2481(read)X
2675(performance.)X
3238(A)X
3335(segment)X
3684(cleaning)X
555 996(operation)N
953(is)X
1050(supported)X
1462(keep)X
1677(segments)X
2068(available)X
2450(for)X
2595(writing)X
2906(and)X
3078(to)X
3186(support)X
3507(high)X
3711(average)X
555 1104(disk)N
739(space)X
977(utilization.)X
755 1245(Although)N
1147(LFS)X
1341(has)X
1498(been)X
1709(implemented)X
2242(and)X
2409(is)X
2501(doing)X
2748(very)X
2947(well)X
3141(on)X
3265(micro-benchmarks,)X
555 1353(the)N
703(real)X
878(test)X
1042(of)X
1152(a)X
1225(\256le)X
1377(system)X
1673(is)X
1766(its)X
1886(performance)X
2402(over)X
2602(months)X
2914(and)X
3082(years)X
3314(of)X
3423(use.)X
3628(As)X
3763(of)X
3872(this)X
555 1461(writing)N
861(LFS)X
1054(has)X
1210(not)X
1361(been)X
1571(subjected)X
1962(to)X
2064(a)X
2134("real")X
2384(workload)X
2774(for)X
2913(extended)X
3288(periods)X
3598(of)X
3705(time.)X
3952(It)X
555 1569(is)N
667(from)X
902(these)X
1148(workloads)X
1596(that)X
1789(the)X
1955(overheads)X
2393(due)X
2580(to)X
2703(cleaning)X
3077(can)X
3258(be)X
3396(evaluated.)X
3861(The)X
555 1677(immediate)N
988(plans)X
1216(for)X
1353(LFS)X
1543(include)X
1852(placing)X
2161(it)X
2240(in)X
2340(continuous)X
2787(use)X
2940(by)X
3061(the)X
3204(Sprite)X
3458(user)X
3642(commun-)X
555 1785(ity)N
681(and)X
844(examining)X
1275(its)X
1390(performance.)X
3 f
555 1989(7.)N
675(Acknowledgments)X
1 f
755 2130(The)N
934(work)X
1159(described)X
1556(here)X
1750(was)X
1927(supported)X
2334(in)X
2437(part)X
2615(by)X
2739(the)X
2885(National)X
3245(Science)X
3573(Foundation)X
555 2238(under)N
803(grant)X
1030(CCR-8900029,)X
1643(and)X
1811(in)X
1915(part)X
2094(by)X
2219(the)X
2366(National)X
2727(Aeronautics)X
3221(and)X
3389(Space)X
3648(Adminis-)X
555 2346(tration)N
837(and)X
1006(the)X
1154(Defense)X
1499(Advanced)X
1919(Research)X
2301(Projects)X
2640(Agency)X
2968(under)X
3216(contract)X
3556(NAG2-591.)X
555 2454(Diane)N
819(Greene,)X
1155(Mary)X
1397(Baker,)X
1684(and)X
1856(John)X
2070(Hartman)X
2440(provided)X
2815(helpful)X
3121(comments)X
3550(on)X
3679(drafts)X
3931(of)X
555 2562(this)N
718(paper.)X
3 f
555 2766(References)N
1 f
555 2907(1.)N
755(John)X
975(K.)X
1107(Ousterhout)X
1597(and)X
1775(Fred)X
1990(Douglis,)X
2357(``Beating)X
2760(the)X
2917(I/O)X
3084(Bottleneck:)X
3567(A)X
3674(Case)X
3899(for)X
755 3015(Log-structured)N
1382(File)X
1587(Systems,'')X
2050(UCB/CSD)X
2515(88/467,)X
2885(Computer)X
3325(Science)X
3680(Division)X
755 3123(\(EECS\),)N
1102(University)X
1532(of)X
1636(California,)X
2075(Berkeley,)X
2495(Berkeley,)X
2891(CA)X
3048(\(October)X
3414(1988\).)X
555 3264(2.)N
755(John)X
963(K.)X
1083(Ousterhout)X
1537(,)X
1588(Andrew)X
1924(R.)X
2039(Cherenson,)X
2501(Frederick)X
2897(Douglis,)X
3252(Michael)X
3595(N.)X
3715(Nelson,)X
755 3372(and)N
935(Brent)X
1190(B.)X
1319(Welch,)X
1636(``The)X
1891(Sprite)X
2162(Network)X
2539(Operating)X
2965(System,'')X
2 f
3377(IEEE)X
3627(Computer)X
3 f
755 3480(21)N
1 f
(\(2\))S
987(pp.)X
1131(23-36)X
1379(\(1988\).)X
555 3621(3.)N
755(David)X
1025(A.)X
1153(Patterson)X
1546(,)X
1605(Garth)X
1859(Gibson)X
2171(,)X
2230(and)X
2404(Randy)X
2690(H.)X
2818(Katz,)X
3059(``A)X
3227(Case)X
3448(for)X
3594(Redundant)X
755 3729(Arrays)N
1040(of)X
1144(Inexpensive)X
1633(Disks)X
1875(\(RAID\),'')X
2 f
2285(ACM)X
2512(SIGMOD)X
2903(88)X
1 f
(,)S
3071(pp.)X
3215(109-116)X
3559(\(Jun)X
3748(1988\).)X
555 3870(4.)N
755(Marshall)X
1122(K.)X
1240(McKusick)X
1665(,)X
1714(``A)X
1872(Fast)X
2057(File)X
2232(System)X
2540(for)X
2677(Unix,'')X
2 f
2982(Transactions)X
3507(on)X
3627(Computer)X
755 3978(Systems)N
3 f
1083(2)X
1 f
(\(3\))S
1267(pp.)X
1411(181-197)X
1755(\(1984\).)X
555 4119(5.)N
755(John)X
961(K.)X
1079(Ousterhout,)X
1555(Herve)X
1815(Da)X
1952(Costa,)X
2220(David)X
2480(Harrison,)X
2865(John)X
3071(A.)X
3189(Kunze,)X
3488(Mike)X
3715(Kupfer,)X
755 4227(and)N
921(James)X
1183(G.)X
1303(Thompson,)X
1765(``A)X
1925(Trace-Driven)X
2471(Analysis)X
2834(of)X
2941(the)X
3086(Unix)X
3305(4.2)X
3452(BSD)X
3665(File)X
3841(Sys-)X
755 4335(tem,'')N
2 f
1030(Proceedings)X
1553(of)X
1670(the)X
1830(10th)X
2043(Symposium)X
2522(on)X
2660(Operating)X
3097(System)X
3406(Principles)X
1 f
3802(,)X
3891(pp.)X
755 4443(15-24)N
1003(ACM,)X
1269(\(1985\).)X
555 4584(6.)N
755(D.)X
884(Ungar,)X
1183(``Generation)X
1710(Scavenging:)X
2221(A)X
2325(Non-Disruptive)X
2963(High)X
3190(Performance)X
3717(Storage)X
755 4692(Reclamation)N
1275(Algorithm,'')X
2 f
1796(Proceedings)X
2309(of)X
2416(the)X
2566(Software)X
2940(Engineering)X
3447(Symposium)X
3915(on)X
755 4800(Practical)N
1138(Software)X
1504(Development)X
2036(Environments)X
1 f
2570(,)X
2642(pp.)X
2786(157-167)X
3130(\(Apr)X
3335(1984\).)X
555 4941(7.)N
755(Jim)X
948(Gray,)X
1218(``Notes)X
1560(on)X
1710(Data)X
1946(Base)X
2186(Operating)X
2624(Systems,'')X
3085(pp.)X
3258(Springer-Verlag)X
3936(in)X
2 f
755 5049(Operating)N
1174(Systems,)X
1526(An)X
1657(Advanced)X
2061(Course)X
1 f
2338(,)X
2410(\(1979\).)X
555 5190(8.)N
755(D.)X
881(Reed)X
1136(and)X
1308(Liba)X
1518(Svobodova,)X
2007(``SWALLOW:)X
2622(A)X
2723(Distributed)X
3188(Data)X
3402(Storage)X
3728(System)X
755 5298(for)N
891(a)X
958(Local)X
1202(Network,'')X
2 f
1650(Local)X
1893(Networks)X
2280(for)X
2416(Computer)X
2824(Communications)X
1 f
3475(,)X
3547(pp.)X
3691(355-373)X
755 5406(North-Holland,)N
1369(\(1981\).)X
555 5547(9.)N
755(Jason)X
1003(Gait,)X
1228(``The)X
1477(Optical)X
1796(File)X
1981(Cabinet:)X
2343(A)X
2446(Random)X
2806(Access)X
3112(File)X
3296(System)X
3613(for)X
3759(Write-)X
755 5655(Once)N
982(Optical)X
1290(Disks,'')X
2 f
1620(IEEE)X
1853(Computer)X
3 f
2261(21)X
1 f
(\(6\))S
2493(pp.)X
2637(11-22)X
2885(\(1988\).)X
3 f
2179 6048(-)N
2235(14)X
2355(-)X

15 p
%%Page: 15 16
12 s 12 xH 0 xS 3 f
555 492(The)N
739(LFS)X
939(Storage)X
1278(Manager)X
3512(May)X
3723(1,)X
3819(1991)X
1 f
555 780(10.)N
755(Ross)X
978(S.)X
1092(Finlayson)X
1508(and)X
1684(David)X
1956(R.)X
2081(Cheriton,)X
2478(``Log)X
2733(Files:)X
2983(An)X
3136(Extended)X
3536(File)X
3722(Service)X
755 888(Exploiting)N
1221(Write-Once)X
1735(Storage,'')X
2 f
2176(Proceedings)X
2715(of)X
2848(the)X
3024(Eleventh)X
3420(Symposium)X
3915(on)X
755 996(Operating)N
1174(System)X
1465(Principles)X
1 f
1861(,)X
1933(pp.)X
2077(129-148)X
2421(\(November)X
2883(1987\).)X
555 1137(11.)N
755(Robert)X
1050(B.)X
1171(Hagmann,)X
1602 0.2042(``Reimplementing)AX
2342(the)X
2493(Cedar)X
2756(File)X
2938(System)X
3253(Using)X
3514(Logging)X
3872(and)X
755 1245(Group)N
1026(Commit,'')X
2 f
1456(Proceedings)X
1963(of)X
2064(the)X
2208(11th)X
2405(Symposium)X
2868(on)X
2989(Operating)X
3409(Systems)X
3738(Princi-)X
755 1353(ples)N
1 f
910(,)X
982(pp.)X
1126(155-162)X
1470(\(November)X
1932(1987\).)X
555 1494(12.)N
755(David)X
1017(J.)X
1105(DeWitt,)X
1439(Randy)X
1716(H.)X
1835(Katz,)X
2067(Frank)X
2317(Olken,)X
2602(L.)X
2711(D.)X
2830(Shapiro,)X
3179(Mike)X
3408(R.)X
3522(Stonebraker,)X
755 1602(and)N
932(David)X
1205(Wood,)X
1501 0.2125(``Implementation)AX
2213(Techniques)X
2694(for)X
2843(Main)X
3083(Memory)X
3451(Database)X
3841(Sys-)X
755 1710(tems,'')N
2 f
1049(Proceedings)X
1554(of)X
1653(SIGMOD)X
2044(1984)X
1 f
(,)S
2308(pp.)X
2452(1-8)X
2604(\(June)X
2836(1984\).)X
555 1851(13.)N
755(IBM,)X
992(``IBM)X
1269(IMS)X
1471(Version)X
1807(1)X
1887(Release)X
2219(1.5)X
2371(Fast)X
2563(Path)X
2766(Feature)X
3087(Description)X
3568(and)X
3739(Design)X
755 1959(Guide,'')N
1102(G320-5775,)X
1611(IBM)X
1816(World)X
2086(Trade)X
2335(Systems)X
2679(Centers)X
2997(\(1979\).)X
555 2100(14.)N
755(Robert)X
1044(B.)X
1159(Hagmann,)X
1584(``A)X
1744(Crash)X
1995(Recovery)X
2391(Scheme)X
2723(for)X
2862(a)X
2932(Memory-Resident)X
3658(Database)X
755 2208(System,'')N
2 f
1150(IEEE)X
1383(Transaction)X
1871(on)X
1991(Computers)X
3 f
2436(C-35)X
1 f
2633(\(9\)\(September)X
3213(1986\).)X
3 f
2179 6048(-)N
2235(15)X
2355(-)X

16 p
%%Trailer
xt

xs
