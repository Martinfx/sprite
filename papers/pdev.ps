%!PS-Adobe-1.0
%%Creator: treason.Berkeley.EDU:mgbaker (Mary Baker,477E,9669,548-6875)
%%Title: stdin (ditroff)
%%CreationDate: Sun Jan  3 16:41:55 1993
%%EndComments
%	@(#)psdit.pro	1.3 4/15/88
% lib/psdit.pro -- prolog for psdit (ditroff) files
% Copyright (c) 1984, 1985 Adobe Systems Incorporated. All Rights Reserved.
% last edit: shore Sat Nov 23 20:28:03 1985
% RCSID: $Header: /sprite/lib/ps/RCS/psdit.pro,v 1.1 91/06/07 18:21:34 shirriff Exp Locker: shirriff $

% Changed by Edward Wang (edward@ucbarpa.berkeley.edu) to handle graphics,
% 17 Feb, 87.

/$DITroff 180 dict def $DITroff begin

%% Psfig additions
/DocumentInitState [ matrix currentmatrix currentlinewidth currentlinecap
currentlinejoin currentdash currentgray currentmiterlimit ] cvx def

/startFig {
	/SavedState save def
	userdict maxlength dict begin
	currentpoint transform

	DocumentInitState setmiterlimit setgray setdash setlinejoin setlinecap
		setlinewidth setmatrix

	itransform moveto

	/ury exch def
	/urx exch def
	/lly exch def
	/llx exch def
	/y exch 72 mul resolution div def
	/x exch 72 mul resolution div def
	
	currentpoint /cy exch def /cx exch def

	/sx x urx llx sub div def 	% scaling for x
	/sy y ury lly sub div def	% scaling for y

	sx sy scale			% scale by (sx,sy)

	cx sx div llx sub
	cy sy div ury sub translate
	
	/DefFigCTM matrix currentmatrix def

	/initmatrix {
		DefFigCTM setmatrix
	} def
	/defaultmatrix {
		DefFigCTM exch copy
	} def

	/initgraphics {
		DocumentInitState setmiterlimit setgray setdash 
			setlinejoin setlinecap setlinewidth setmatrix
		DefFigCTM setmatrix
	} def

	/showpage {
		initgraphics
	} def

} def
% Args are llx lly urx ury (in figure coordinates)
/clipFig {
	currentpoint 6 2 roll
	newpath 4 copy
	4 2 roll moveto
	6 -1 roll exch lineto
	exch lineto
	exch lineto
	closepath clip
	newpath
	moveto
} def
% doclip, if called, will always be just after a `startfig'
/doclip { llx lly urx ury clipFig } def
/endFig {
	end SavedState restore
} def
/globalstart {
	% Push details about the enviornment on the stack.
	fontnum fontsize fontslant fontheight firstpage 
	mh my resolution slotno currentpoint 
	pagesave restore gsave 
} def
/globalend {
	grestore moveto
	/slotno exch def /resolution exch def /my exch def
	/mh exch def /firstpage exch def /fontheight exch def
	/fontslant exch def /fontsize exch def /fontnum exch def
	F
	/pagesave save def
} def

%% end XMOD additions

/fontnum 1 def /fontsize 10 def /fontheight 10 def /fontslant 0 def
/xi{0 72 11 mul translate 72 resolution div dup neg scale 0 0 moveto
 /fontnum 1 def /fontsize 10 def /fontheight 10 def /fontslant 0 def F
 /pagesave save def}def
/PB{save /psv exch def currentpoint translate 
 resolution 72 div dup neg scale 0 0 moveto}def
/PE{psv restore}def
/arctoobig 90 def /arctoosmall .05 def
/m1 matrix def /m2 matrix def /m3 matrix def /oldmat matrix def
/tan{dup sin exch cos div}def
/point{resolution 72 div mul}def
/dround	{transform round exch round exch itransform}def
/xT{/devname exch def}def
/xr{/mh exch def /my exch def /resolution exch def}def
/xp{}def
/xs{docsave restore end}def
/xt{}def
/xf{/fontname exch def /slotno exch def fontnames slotno get fontname eq not
 {fonts slotno fontname findfont put fontnames slotno fontname put}if}def
/xH{/fontheight exch def F}def
/xS{/fontslant exch def F}def
/s{/fontsize exch def /fontheight fontsize def F}def
/f{/fontnum exch def F}def
/F{fontheight 0 le{/fontheight fontsize def}if
 fonts fontnum get fontsize point 0 0 fontheight point neg 0 0 m1 astore
 fontslant 0 ne{1 0 fontslant tan 1 0 0 m2 astore m3 concatmatrix}if
 makefont setfont .04 fontsize point mul 0 dround pop setlinewidth}def
/X{exch currentpoint exch pop moveto show}def
/N{3 1 roll moveto show}def
/Y{exch currentpoint pop exch moveto show}def
/S{show}def
/ditpush{}def/ditpop{}def
/AX{3 -1 roll currentpoint exch pop moveto 0 exch ashow}def
/AN{4 2 roll moveto 0 exch ashow}def
/AY{3 -1 roll currentpoint pop exch moveto 0 exch ashow}def
/AS{0 exch ashow}def
/MX{currentpoint exch pop moveto}def
/MY{currentpoint pop exch moveto}def
/MXY{moveto}def
/cb{pop}def	% action on unknown char -- nothing for now
/n{}def/w{}def
/p{pop showpage pagesave restore /pagesave save def}def
/Dt{/Dlinewidth exch def}def 1 Dt
/Ds{/Ddash exch def}def -1 Ds
/Di{/Dstipple exch def}def 1 Di
/Dsetlinewidth{2 Dlinewidth mul setlinewidth}def
/Dsetdash{Ddash 4 eq{[8 12]}{Ddash 16 eq{[32 36]}
 {Ddash 20 eq{[32 12 8 12]}{[]}ifelse}ifelse}ifelse 0 setdash}def
/Dstroke{gsave Dsetlinewidth Dsetdash 1 setlinecap stroke grestore
 currentpoint newpath moveto}def
/Dl{rlineto Dstroke}def
/arcellipse{/diamv exch def /diamh exch def oldmat currentmatrix pop
 currentpoint translate 1 diamv diamh div scale /rad diamh 2 div def
 currentpoint exch rad add exch rad -180 180 arc oldmat setmatrix}def
/Dc{dup arcellipse Dstroke}def
/De{arcellipse Dstroke}def
/Da{/endv exch def /endh exch def /centerv exch def /centerh exch def
 /cradius centerv centerv mul centerh centerh mul add sqrt def
 /eradius endv endv mul endh endh mul add sqrt def
 /endang endv endh atan def
 /startang centerv neg centerh neg atan def
 /sweep startang endang sub dup 0 lt{360 add}if def
 sweep arctoobig gt
 {/midang startang sweep 2 div sub def /midrad cradius eradius add 2 div def
  /midh midang cos midrad mul def /midv midang sin midrad mul def
  midh neg midv neg endh endv centerh centerv midh midv Da
  Da}
 {sweep arctoosmall ge
  {/controldelt 1 sweep 2 div cos sub 3 sweep 2 div sin mul div 4 mul def
   centerv neg controldelt mul centerh controldelt mul
   endv neg controldelt mul centerh add endh add
   endh controldelt mul centerv add endv add
   centerh endh add centerv endv add rcurveto Dstroke}
  {centerh endh add centerv endv add rlineto Dstroke}
  ifelse}
 ifelse}def
/Dpatterns[
[%cf[widthbits]
[8<0000000000000010>]
[8<0411040040114000>]
[8<0204081020408001>]
[8<0000103810000000>]
[8<6699996666999966>]
[8<0000800100001008>]
[8<81c36666c3810000>]
[8<0f0e0c0800000000>]
[8<0000000000000010>]
[8<0411040040114000>]
[8<0204081020408001>]
[8<0000001038100000>]
[8<6699996666999966>]
[8<0000800100001008>]
[8<81c36666c3810000>]
[8<0f0e0c0800000000>]
[8<0042660000246600>]
[8<0000990000990000>]
[8<0804020180402010>]
[8<2418814242811824>]
[8<6699996666999966>]
[8<8000000008000000>]
[8<00001c3e363e1c00>]
[8<0000000000000000>]
[32<00000040000000c00000004000000040000000e0000000000000000000000000>]
[32<00000000000060000000900000002000000040000000f0000000000000000000>]
[32<000000000000000000e0000000100000006000000010000000e0000000000000>]
[32<00000000000000002000000060000000a0000000f00000002000000000000000>]
[32<0000000e0000000000000000000000000000000f000000080000000e00000001>]
[32<0000090000000600000000000000000000000000000007000000080000000e00>]
[32<00010000000200000004000000040000000000000000000000000000000f0000>]
[32<0900000006000000090000000600000000000000000000000000000006000000>]]
[%ug
[8<0000020000000000>]
[8<0000020000002000>]
[8<0004020000002000>]
[8<0004020000402000>]
[8<0004060000402000>]
[8<0004060000406000>]
[8<0006060000406000>]
[8<0006060000606000>]
[8<00060e0000606000>]
[8<00060e000060e000>]
[8<00070e000060e000>]
[8<00070e000070e000>]
[8<00070e020070e000>]
[8<00070e020070e020>]
[8<04070e020070e020>]
[8<04070e024070e020>]
[8<04070e064070e020>]
[8<04070e064070e060>]
[8<06070e064070e060>]
[8<06070e066070e060>]
[8<06070f066070e060>]
[8<06070f066070f060>]
[8<060f0f066070f060>]
[8<060f0f0660f0f060>]
[8<060f0f0760f0f060>]
[8<060f0f0760f0f070>]
[8<0e0f0f0760f0f070>]
[8<0e0f0f07e0f0f070>]
[8<0e0f0f0fe0f0f070>]
[8<0e0f0f0fe0f0f0f0>]
[8<0f0f0f0fe0f0f0f0>]
[8<0f0f0f0ff0f0f0f0>]
[8<1f0f0f0ff0f0f0f0>]
[8<1f0f0f0ff1f0f0f0>]
[8<1f0f0f8ff1f0f0f0>]
[8<1f0f0f8ff1f0f0f8>]
[8<9f0f0f8ff1f0f0f8>]
[8<9f0f0f8ff9f0f0f8>]
[8<9f0f0f9ff9f0f0f8>]
[8<9f0f0f9ff9f0f0f9>]
[8<9f8f0f9ff9f0f0f9>]
[8<9f8f0f9ff9f8f0f9>]
[8<9f8f1f9ff9f8f0f9>]
[8<9f8f1f9ff9f8f1f9>]
[8<bf8f1f9ff9f8f1f9>]
[8<bf8f1f9ffbf8f1f9>]
[8<bf8f1fdffbf8f1f9>]
[8<bf8f1fdffbf8f1fd>]
[8<ff8f1fdffbf8f1fd>]
[8<ff8f1fdffff8f1fd>]
[8<ff8f1ffffff8f1fd>]
[8<ff8f1ffffff8f1ff>]
[8<ff9f1ffffff8f1ff>]
[8<ff9f1ffffff9f1ff>]
[8<ff9f9ffffff9f1ff>]
[8<ff9f9ffffff9f9ff>]
[8<ffbf9ffffff9f9ff>]
[8<ffbf9ffffffbf9ff>]
[8<ffbfdffffffbf9ff>]
[8<ffbfdffffffbfdff>]
[8<ffffdffffffbfdff>]
[8<ffffdffffffffdff>]
[8<fffffffffffffdff>]
[8<ffffffffffffffff>]]
[%mg
[8<8000000000000000>]
[8<0822080080228000>]
[8<0204081020408001>]
[8<40e0400000000000>]
[8<66999966>]
[8<8001000010080000>]
[8<81c36666c3810000>]
[8<f0e0c08000000000>]
[16<07c00f801f003e007c00f800f001e003c007800f001f003e007c00f801f003e0>]
[16<1f000f8007c003e001f000f8007c003e001f800fc007e003f001f8007c003e00>]
[8<c3c300000000c3c3>]
[16<0040008001000200040008001000200040008000000100020004000800100020>]
[16<0040002000100008000400020001800040002000100008000400020001000080>]
[16<1fc03fe07df0f8f8f07de03fc01f800fc01fe03ff07df8f87df03fe01fc00f80>]
[8<80>]
[8<8040201000000000>]
[8<84cc000048cc0000>]
[8<9900009900000000>]
[8<08040201804020100800020180002010>]
[8<2418814242811824>]
[8<66999966>]
[8<8000000008000000>]
[8<70f8d8f870000000>]
[8<0814224180402010>]
[8<aa00440a11a04400>]
[8<018245aa45820100>]
[8<221c224180808041>]
[8<88000000>]
[8<0855800080550800>]
[8<2844004482440044>]
[8<0810204080412214>]
[8<00>]]]def
/Dfill{
 transform /maxy exch def /maxx exch def
 transform /miny exch def /minx exch def
 minx maxx gt{/minx maxx /maxx minx def def}if
 miny maxy gt{/miny maxy /maxy miny def def}if
 Dpatterns Dstipple 1 sub get exch 1 sub get
 aload pop /stip exch def /stipw exch def /stiph 128 def
 /imatrix[stipw 0 0 stiph 0 0]def
 /tmatrix[stipw 0 0 stiph 0 0]def
 /minx minx cvi stiph idiv stiph mul def
 /miny miny cvi stipw idiv stipw mul def
 gsave eoclip 0 setgray
 miny stiph maxy{
  tmatrix exch 5 exch put
  minx stipw maxx{
   tmatrix exch 4 exch put tmatrix setmatrix
   stipw stiph true imatrix {stip} imagemask
  }for
 }for
 grestore
}def
/Dp{Dfill Dstroke}def
/DP{Dfill currentpoint newpath moveto}def
end

/ditstart{$DITroff begin
 /nfonts 60 def			% NFONTS makedev/ditroff dependent!
 /fonts[nfonts{0}repeat]def
 /fontnames[nfonts{()}repeat]def
/docsave save def
}def

% character outcalls
/oc{
 /pswid exch def /cc exch def /name exch def
 /ditwid pswid fontsize mul resolution mul 72000 div def
 /ditsiz fontsize resolution mul 72 div def
 ocprocs name known{ocprocs name get exec}{name cb}ifelse
}def
/fractm [.65 0 0 .6 0 0] def
/fraction{
 /fden exch def /fnum exch def gsave /cf currentfont def
 cf fractm makefont setfont 0 .3 dm 2 copy neg rmoveto
 fnum show rmoveto currentfont cf setfont(\244)show setfont fden show 
 grestore ditwid 0 rmoveto
}def
/oce{grestore ditwid 0 rmoveto}def
/dm{ditsiz mul}def
/ocprocs 50 dict def ocprocs begin
(14){(1)(4)fraction}def
(12){(1)(2)fraction}def
(34){(3)(4)fraction}def
(13){(1)(3)fraction}def
(23){(2)(3)fraction}def
(18){(1)(8)fraction}def
(38){(3)(8)fraction}def
(58){(5)(8)fraction}def
(78){(7)(8)fraction}def
(sr){gsave 0 .06 dm rmoveto(\326)show oce}def
(is){gsave 0 .15 dm rmoveto(\362)show oce}def
(->){gsave 0 .02 dm rmoveto(\256)show oce}def
(<-){gsave 0 .02 dm rmoveto(\254)show oce}def
(==){gsave 0 .05 dm rmoveto(\272)show oce}def
(uc){gsave currentpoint 400 .009 dm mul add translate
     8 -8 scale ucseal oce}def
end

% an attempt at a PostScript FONT to implement ditroff special chars
% this will enable us to 
%	cache the little buggers
%	generate faster, more compact PS out of psdit
%	confuse everyone (including myself)!
50 dict dup begin
/FontType 3 def
/FontName /DIThacks def
/FontMatrix [.001 0 0 .001 0 0] def
/FontBBox [-260 -260 900 900] def% a lie but ...
/Encoding 256 array def
0 1 255{Encoding exch /.notdef put}for
Encoding
 dup 8#040/space put %space
 dup 8#110/rc put %right ceil
 dup 8#111/lt put %left  top curl
 dup 8#112/bv put %bold vert
 dup 8#113/lk put %left  mid curl
 dup 8#114/lb put %left  bot curl
 dup 8#115/rt put %right top curl
 dup 8#116/rk put %right mid curl
 dup 8#117/rb put %right bot curl
 dup 8#120/rf put %right floor
 dup 8#121/lf put %left  floor
 dup 8#122/lc put %left  ceil
 dup 8#140/sq put %square
 dup 8#141/bx put %box
 dup 8#142/ci put %circle
 dup 8#143/br put %box rule
 dup 8#144/rn put %root extender
 dup 8#145/vr put %vertical rule
 dup 8#146/ob put %outline bullet
 dup 8#147/bu put %bullet
 dup 8#150/ru put %rule
 dup 8#151/ul put %underline
 pop
/DITfd 100 dict def
/BuildChar{0 begin
 /cc exch def /fd exch def
 /charname fd /Encoding get cc get def
 /charwid fd /Metrics get charname get def
 /charproc fd /CharProcs get charname get def
 charwid 0 fd /FontBBox get aload pop setcachedevice
 2 setlinejoin 40 setlinewidth
 newpath 0 0 moveto gsave charproc grestore
 end}def
/BuildChar load 0 DITfd put
/CharProcs 50 dict def
CharProcs begin
/space{}def
/.notdef{}def
/ru{500 0 rls}def
/rn{0 840 moveto 500 0 rls}def
/vr{0 800 moveto 0 -770 rls}def
/bv{0 800 moveto 0 -1000 rls}def
/br{0 840 moveto 0 -1000 rls}def
/ul{0 -140 moveto 500 0 rls}def
/ob{200 250 rmoveto currentpoint newpath 200 0 360 arc closepath stroke}def
/bu{200 250 rmoveto currentpoint newpath 200 0 360 arc closepath fill}def
/sq{80 0 rmoveto currentpoint dround newpath moveto
    640 0 rlineto 0 640 rlineto -640 0 rlineto closepath stroke}def
/bx{80 0 rmoveto currentpoint dround newpath moveto
    640 0 rlineto 0 640 rlineto -640 0 rlineto closepath fill}def
/ci{500 360 rmoveto currentpoint newpath 333 0 360 arc
    50 setlinewidth stroke}def

/lt{0 -200 moveto 0 550 rlineto currx 800 2cx s4 add exch s4 a4p stroke}def
/lb{0 800 moveto 0 -550 rlineto currx -200 2cx s4 add exch s4 a4p stroke}def
/rt{0 -200 moveto 0 550 rlineto currx 800 2cx s4 sub exch s4 a4p stroke}def
/rb{0 800 moveto 0 -500 rlineto currx -200 2cx s4 sub exch s4 a4p stroke}def
/lk{0 800 moveto 0 300 -300 300 s4 arcto pop pop 1000 sub
    0 300 4 2 roll s4 a4p 0 -200 lineto stroke}def
/rk{0 800 moveto 0 300 s2 300 s4 arcto pop pop 1000 sub
    0 300 4 2 roll s4 a4p 0 -200 lineto stroke}def
/lf{0 800 moveto 0 -1000 rlineto s4 0 rls}def
/rf{0 800 moveto 0 -1000 rlineto s4 neg 0 rls}def
/lc{0 -200 moveto 0 1000 rlineto s4 0 rls}def
/rc{0 -200 moveto 0 1000 rlineto s4 neg 0 rls}def
end

/Metrics 50 dict def Metrics begin
/.notdef 0 def
/space 500 def
/ru 500 def
/br 0 def
/lt 416 def
/lb 416 def
/rt 416 def
/rb 416 def
/lk 416 def
/rk 416 def
/rc 416 def
/lc 416 def
/rf 416 def
/lf 416 def
/bv 416 def
/ob 350 def
/bu 350 def
/ci 750 def
/bx 750 def
/sq 750 def
/rn 500 def
/ul 500 def
/vr 0 def
end

DITfd begin
/s2 500 def /s4 250 def /s3 333 def
/a4p{arcto pop pop pop pop}def
/2cx{2 copy exch}def
/rls{rlineto stroke}def
/currx{currentpoint pop}def
/dround{transform round exch round exch itransform} def
end
end
/DIThacks exch definefont pop
ditstart
(psc)xT
576 1 1 xr
1(Times-Roman)xf 1 f
2(Times-Italic)xf 2 f
3(Times-Bold)xf 3 f
4(Times-BoldItalic)xf 4 f
5(Helvetica)xf 5 f
6(Helvetica-Bold)xf 6 f
7(Courier)xf 7 f
8(Courier-Bold)xf 8 f
9(Symbol)xf 9 f
10(DIThacks)xf 10 f
10 s
1 f
xi
%%EndProlog

%%Page: 1 1
10 s 10 xH 0 xS 1 f
3 f
16 s
1382 816(Pseudo)N
1805(Devices:)X
2293(User-Level)X
2923(Extensions)X
1778 960(to)N
1917(the)X
2120(Sprite)X
2487(File)X
2726(System)X
1 f
12 s
2147 1294(Brent)N
2385(B.)X
2497(Welch)X
2073 1402(John)N
2278(K.)X
2395(Ousterhout)X
1916 1618(Computer)N
2325(Science)X
2649(Division)X
1548 1726 0.3542(Electrical)AN
1943(Engineering)X
2438(and)X
2601(Computer)X
3010(Sciences)X
1985 1834(University)N
2415(of)X
2519(California)X
2039 1942(Berkeley,)N
2435(CA)X
2616(94720)X
3 f
2269 2266(Abstract)N
1 f
11 s
946 2398(A)N
1039(pseudo-device)X
1577(is)X
1666(a)X
1735(mechanism)X
2167(in)X
2267(the)X
2406(Sprite)X
2648(network)X
2967(\256le)X
3111(system)X
3387(that)X
3551(lets)X
3705(a)X
3775(user-)X
946 2497(level)N
1149(server)X
1394(process)X
1688(emulate)X
1999(a)X
2069(\256le)X
2212(or)X
2315(I/O)X
2462(device.)X
2766(Pseudo-devices)X
3343(are)X
3480(accessed)X
3817(like)X
946 2596(regular)N
1217(\256les)X
1386(or)X
1481(devices,)X
1789(and)X
1938(they)X
2112(exist)X
2301(in)X
2392(the)X
2523(\256le)X
2659(system)X
2927(name)X
3141(space.)X
3403(Pseudo-devices)X
946 2695(are)N
1088(implemented)X
1585(by)X
1708(transparently)X
2203(mapping)X
2546(client)X
2777(operations)X
3178(on)X
3300(the)X
3442(pseudo-device)X
946 2794(into)N
1120(a)X
1195(request-response)X
1821(exchange)X
2189(with)X
2382(a)X
2457(server)X
2707(process.)X
3050(The)X
3223(interface)X
3567(to)X
3672(pseudo-)X
946 2893(devices)N
1236(is)X
1321(general)X
1606(enough)X
1891(to)X
1986(be)X
2095(a)X
2160(transport)X
2499(mechanism)X
2927(for)X
3055(a)X
3119(user-level)X
3491(RPC)X
3683(system.)X
946 2992(It)N
1027(also)X
1196(provides)X
1526(a)X
1592(stream-oriented)X
2172(interface)X
2507(with)X
2691(write-behind)X
3169(and)X
3324(read-ahead)X
3737(for)X
3867(an)X
946 3091(asynchronous)N
1457(connection)X
1872(between)X
2193(clients)X
2452(and)X
2607(server.)X
2893(Sprite)X
3132(uses)X
3311(pseudo-devices)X
3881(to)X
946 3190(implement)N
1349(at)X
1437(user)X
1607(level)X
1804(its)X
1913(terminal)X
2233(drivers,)X
2524(the)X
2657(internet)X
2952(protocol)X
3271(suite,)X
3485(and)X
3637(the)X
3770(X-11)X
946 3289(window)N
1254(system)X
1524(server.)X
1807(The)X
1969(pseudo-device)X
2502 0.2885(implementation)AX
3083(provides)X
3410(as)X
3507(fast)X
3658(or)X
3755(faster)X
946 3388(communication,)N
1540(both)X
1719(local)X
1913(and)X
2062(remote,)X
2351(than)X
2525(a)X
2586(UNIX)X
2826(UDP)X
3023(socket)X
3270(connection.)X
3723(\262)X
990 3713(April,)N
1220(1988)X
3 f
12 s
720 4273(1.)N
840(Introduction)X
1 f
920 4414(This)N
1140(paper)X
1403(describes)X
1810(pseudo-devices,)X
2476(a)X
2568(mechanism)X
3057(used)X
3283(to)X
3408(integrate)X
3796(user-level)X
720 4522(server)N
980(processes)X
1373(into)X
1547(the)X
1689(Sprite)X
1943(operating)X
2331(system's)X
2691(distributed)X
3127(\256le)X
3274(system)X
3565([Ousterhout88].)X
720 4630(The)N
900(distinguishing)X
1475(feature)X
1773(of)X
1883(pseudo-devices)X
2506(is)X
2600(that)X
2775(they)X
2972(appear)X
3260(in)X
3366(the)X
3515(\256le)X
3669(system)X
3967(name)X
720 4738(space)N
973(and)X
1151(behave)X
1463(like)X
1646(regular)X
1957(\256les)X
2155(or)X
2273(devices.)X
2648(However,)X
3062(the)X
3218(operations)X
3657(on)X
3791(a)X
3872(pseudo-)X
720 4846(device)N
998(are)X
1142(actually)X
1474(forwarded)X
1895(to)X
1996(a)X
2066(user-level)X
2473(process,)X
2812(called)X
3070(the)X
3215(server,)X
3501(which)X
3763(can)X
3924(imple-)X
720 4954(ment)N
950(them)X
1180(in)X
1292(any)X
1468(way)X
1665(it)X
1756(chooses.)X
2145(The)X
2332(motivation)X
2787(for)X
2936(pseudo-devices)X
3566(is)X
3666(to)X
3777(be)X
3904(able)X
4101(to)X
720 5062(move)N
987(services)X
1351(traditionally)X
1877(found)X
2155(in)X
2284(the)X
2456(operating)X
2874(system)X
3195(kernel)X
3490(out)X
3667(to)X
3796(user-level)X
720 5170(processes.)N
1162(This)X
1358(keeps)X
1602(the)X
1745(size)X
1920(of)X
2025(the)X
2168(kernel)X
2434(down)X
2672(and)X
2836(it)X
2915(makes)X
3186(services)X
3521(easier)X
3771(to)X
3871(develop)X
11 s
10 f
720 5269(h)N
728(hhhhhhhhhhhhhhhhhhhhhhhhhh)X
1 f
892 5387(\262)N
960(This)X
1142(work)X
1347(was)X
1508(supported)X
1880(in)X
1974(part)X
2136(by)X
2249(the)X
2382(Defense)X
2694(Advanced)X
3075(Research)X
3422(Projects)X
3731(Agen-)X
720 5486(cy)N
837(under)X
1071(contract)X
1389(N00039-85-C-0269,)X
2137(in)X
2239(part)X
2409(by)X
2530(the)X
2671(National)X
3008(Science)X
3315(Foundation)X
3750(under)X
720 5585(grant)N
923(ECS-8351961,)X
1466(and)X
1615(in)X
1706(part)X
1865(by)X
1975(General)X
2275(Motors)X
2551(Corporation.)X

2 p
%%Page: 2 2
11 s 11 xH 0 xS 1 f
12 s
3 f
1 f
720 780(and)N
893(debug.)X
1210(Sprite)X
1474(uses)X
1673(pseudo-devices)X
2300(to)X
2409(implement)X
2857(several)X
3165(system)X
3467(services)X
3812(including)X
720 888(terminal)N
1082(drivers,)X
1413(the)X
1570(X)X
1678(windows)X
2063(server)X
2337([Schei\257er86],)X
2902(and)X
3080(the)X
3237(TCP/IP)X
3564(protocol)X
3924(family)X
720 996([IP81].)N
920 1137(There)N
1187(are)X
1347(two)X
1533(advantages)X
2004(to)X
2122(using)X
2373(pseudo-devices)X
3009(to)X
3127(access)X
3416(user-level)X
3839(services:)X
720 1245(communication)N
1355(is)X
1454(via)X
1607(a)X
1685(traditional)X
2117(interface,)X
2514(and)X
2688(naming)X
3011(is)X
3109(via)X
3261(the)X
3413(existing)X
3752(\256le)X
3909(system)X
720 1353(name)N
963(space.)X
1260(Pseudo-devices)X
1893(are)X
2046(accessed)X
2418(with)X
2624(the)X
2777(same)X
3010(open\(\),)X
3320(read\(\),)X
3609(write\(\),)X
3930(iocon-)X
720 1461(trol\(\),)N
992(select\(\),)X
1350(and)X
1539(close\(\))X
1851(procedures)X
2323(used)X
2548(to)X
2672(access)X
2967(regular)X
3289(\256les)X
3498(and)X
3686(I/O)X
3863(devices.)X
720 1569(Read\(\))N
1009(and)X
1175(write\(\))X
1464(provide)X
1785(a)X
1855(byte)X
2048(stream)X
2332(interface)X
2697(which)X
2959(can)X
3120(be)X
3239(fully)X
3449(asynchronous)X
4005(with)X
720 1677(write-behind)N
1244(and)X
1415(read-ahead.)X
1918(Iocontrol\(\))X
2367(is)X
2463(synchronous)X
2980(and)X
3151(can)X
3317(be)X
3440(used)X
3648(as)X
3760(a)X
3834(transport)X
720 1785(mechanism)N
1183(for)X
1319(a)X
1386(Remote)X
1710(Procedure)X
2124(Call)X
2309(\(RPC\))X
2578(system.)X
920 1926(Using)N
1176(pseudo-devices,)X
1820(there)X
2040(is)X
2131(no)X
2254(need)X
2463(to)X
2565(invent)X
2833(a)X
2903(new)X
3090(name)X
3326(space)X
3567(to)X
3669(support)X
3984(user-)X
720 2034(level)N
934(services.)X
1318(Names)X
1611(for)X
1749(pseudo-devices)X
2367(are)X
2510(protected,)X
2918(manipulated,)X
3444(and)X
3608(browsed)X
3958(in)X
4058(the)X
720 2142(same)N
947(way)X
1136(as)X
1245(for)X
1386(other)X
1613(kinds)X
1850(of)X
1959(\256les.)X
2196(The)X
2375(Sprite)X
2634(\256le)X
2787(system)X
3084(provides)X
3445(name)X
3684(transparency)X
720 2250(across)N
984(the)X
1126(network,)X
1489(so)X
1598(a)X
1665(pseudo-device)X
2245(can)X
2403(be)X
2518(accessed)X
2879(from)X
3090(any)X
3253(host)X
3437(in)X
3536(the)X
3678(network.)X
920 2391(The)N
1107(remainder)X
1535(of)X
1652(the)X
1807(paper)X
2058(is)X
2159(organized)X
2576(as)X
2693(follows.)X
3067(Section)X
3394(2)X
3480(gives)X
3721(some)X
3962(back-)X
720 2499(ground)N
1027(on)X
1158(the)X
1311(Sprite)X
1575(network)X
1924(operating)X
2322(system.)X
2671(Section)X
2994(3)X
3076(describes)X
3468(the)X
3620(pseudo-device)X
720 2607(interface)N
1082(from)X
1293(a)X
1360(client's)X
1668(point)X
1890(of)X
1994(view,)X
2229(and)X
2392(includes)X
2738(examples)X
3127(of)X
3232(services)X
3567(implemented)X
4096(as)X
720 2715(pseudo-devices.)N
1391(Section)X
1710(4)X
1788(describes)X
2176(the)X
2324(server's)X
2658(view)X
2875(of)X
2985(pseudo-devices)X
3608(and)X
3777(the)X
3924(imple-)X
720 2823(mentation)N
1137(of)X
1248(the)X
1397(interface.)X
1815(Section)X
2136(5)X
2216(gives)X
2451(some)X
2686(performance)X
3205(measurements,)X
3812(including)X
720 2931(comparisons)N
1245(with)X
1455(other)X
1692(systems.)X
2083(Section)X
2411(6)X
2498(describes)X
2895(related)X
3196(work.)X
3479(Section)X
3806(7)X
3892(gives)X
4133(a)X
720 3039(summary)N
1102(and)X
1265(our)X
1417(conclusions.)X
3 f
720 3243(2.)N
840(Sprite)X
1115(Background)X
1 f
920 3384(Sprite)N
1182(is)X
1278(a)X
1354(network)X
1702(operating)X
2099(system)X
2399(that)X
2577(we)X
2722(have)X
2937(developed)X
3366(from)X
3586(scratch)X
3892(at)X
3995(U.C.)X
720 3492(Berkeley)N
1104(over)X
1311(the)X
1465(last)X
1635(few)X
1815(years.)X
2102(Its)X
2234(design)X
2521(has)X
2685(been)X
2902(in\257uenced)X
3338(by)X
3469(three)X
3697(things:)X
3994(mul-)X
720 3600(tiprocessors,)N
1230(local)X
1445(area)X
1633(networks,)X
2036(and)X
2202(large)X
2422(physical)X
2770(memories.)X
3226(To)X
3361(support)X
3677(execution)X
4080(on)X
720 3708(a)N
789(multiprocessor)X
1387(the)X
1531(Sprite)X
1787(kernel)X
2054(is)X
2144(multi-threaded)X
2737(internally,)X
3156(and)X
3320(Sprite)X
3575(supports)X
3925(shared)X
720 3816(memory)N
1067(between)X
1415(cooperating)X
1897(user)X
2084(processes.)X
2527(To)X
2661(support)X
2976(networks,)X
3379(Sprite)X
3636(uses)X
3828(a)X
3898(custom)X
720 3924(kernel-to-kernel)N
1370(RPC)X
1580(system)X
1876([Welch86a])X
2360(and)X
2528(a)X
2600(shared)X
2880(network)X
3224(\256le)X
3376(system)X
3672(that)X
3845(provides)X
720 4032(location)N
1061(transparent)X
1519(access)X
1795([Welch86b])X
2285(to)X
2390(\256les)X
2580(and)X
2749(I/O)X
2908(devices)X
3228(around)X
3526(the)X
3675(network.)X
4069(To)X
720 4140(exploit)N
1013(large)X
1230(physical)X
1575(memories,)X
2003(a)X
2070(distributed)X
2506(\256le)X
2653(caching)X
2977(scheme)X
3290(is)X
3378(used)X
3578(for)X
3714(high)X
3909(perfor-)X
720 4248(mance)N
1012(\256le)X
1175(access)X
1461(in)X
1576(an)X
1708(environment)X
2236(of)X
2357(diskless)X
2702(workstations)X
3234([Nelson88].)X
3755(The)X
3946(Sprite)X
720 4356(user)N
913(interface)X
1284(is)X
1381(much)X
1628(like)X
1806(UNIX\262,)X
2150(and)X
2322(for)X
2467(the)X
2618(purposes)X
2992(of)X
3105(this)X
3277(paper)X
3524(one)X
3696(can)X
3864(think)X
4096(of)X
720 4464(Sprite)N
977(as)X
1084(a)X
1154(UNIX)X
1419(with)X
1616(a)X
1685(transparent)X
2139(network)X
2480(\256le)X
2629(system.)X
2970(Pseudo-devices)X
3594(could)X
3834(easily)X
4085(be)X
720 4572(implemented)N
1248(in)X
1347(a)X
1414(traditional)X
1835(UNIX)X
2099(kernel,)X
2389(and)X
2553(Section)X
2867(6)X
2940(describes)X
3323(some)X
3551(similar)X
3844(mechan-)X
720 4680(isms)N
920(that)X
1089(have)X
1295(been)X
1501(added)X
1755(to)X
1854(UNIX)X
2117(kernels.)X
3 f
720 4884(3.)N
840(Pseudo-device)X
1446(Clients)X
1 f
3 f
720 5088(3.1.)N
912(The)X
1096(Client)X
1371(Interface)X
1 f
920 5229(Regular)N
1268(processes,)X
1703(called)X
1977(``clients'',)X
2425(access)X
2715(a)X
2802(pseudo-device)X
3402(the)X
3564(same)X
3806(way)X
4010(they)X
720 5337(access)N
1009(regular)X
1325(\256les)X
1528(and)X
1710(I/O)X
1881(devices.)X
2261(Open\(\))X
2576(names)X
2865(the)X
3026(pseudo-device)X
3625(and)X
3807(sets)X
3994(up)X
4133(a)X
11 s
10 f
720 5436(h)N
728(hhhhhhhhhhhhhhhhhhhhhhhhhh)X
1 f
892 5554(UNIX)N
1132(is)X
1213(a)X
1274(trademark)X
1653(of)X
1748(AT&T.)X
3 f
12 s
2424 6048(2)N

3 p
%%Page: 3 3
12 s 12 xH 0 xS 3 f
1 f
720 780(stream)N
1002(to)X
1102(it.)X
1229(Close\(\))X
1537(releases)X
1867(the)X
2010(stream.)X
2341(Write\(\))X
2651(and)X
2816(read\(\))X
3072(transfer)X
3392(data)X
3579(to)X
3680(and)X
3845(from)X
4058(the)X
720 888(pseudo-device.)N
1355(Select\(\))X
1686(is)X
1781(used)X
1988(to)X
2094(wait)X
2291(until)X
2499(the)X
2648(pseudo-device)X
3235(is)X
3330(ready)X
3575(for)X
3718(I/O.)X
3925(Iocon-)X
720 996(trol\(\)\262)N
990(is)X
1078(used)X
1278(for)X
1414(operations)X
1839(particular)X
2233(to)X
2332(the)X
2474(pseudo-device.)X
3102(These)X
3356(operations)X
3781(are)X
3924(identi-)X
720 1104(cal,)N
884(both)X
1082(in)X
1184(syntax)X
1462(and)X
1627(semantics,)X
2057(to)X
2158(the)X
2302(operations)X
2729(used)X
2931(for)X
3069(other)X
3293(\256les,)X
3503(so)X
3614(the)X
3758(implemen-)X
720 1212(tation)N
964(of)X
1068(the)X
1210(pseudo-device)X
1790(is)X
1878(transparent)X
2330(to)X
2429(the)X
2571(client.)X
3 f
720 1416(3.2.)N
912(Examples)X
1336(of)X
1440(Pseudo-Device)X
2062(Clients)X
1 f
920 1557(Pseudo-devices)N
1543(are)X
1686(currently)X
2059(used)X
2260(for)X
2397(three)X
2615(purposes)X
2981(in)X
3081(Sprite:)X
3363(terminal)X
3710(drivers,)X
4026(net-)X
720 1665(work)N
963(protocols,)X
1390(and)X
1574(window)X
1928(server)X
2208(communication.)X
2901(For)X
3079(example,)X
3475(for)X
3632(each)X
3854(terminal)X
720 1773(there)N
940(is)X
1031(a)X
1101(pseudo-device)X
1684(and)X
1850(corresponding)X
2427(server)X
2689(process.)X
3052(Client)X
3315(processes)X
3710(make)X
3946(read\(\))X
720 1881(and)N
884(write\(\))X
1171(requests)X
1511(on)X
1632(the)X
1775(pseudo-device)X
2356(instead)X
2654(of)X
2759(the)X
2902(terminal's)X
3317(serial)X
3550(line.)X
3767(The)X
3941(server)X
720 1989(implements)N
1200(the)X
1348(client's)X
1662(requests)X
2007(by)X
2133(manipulating)X
2672(the)X
2820(terminal's)X
3241(serial)X
3481(line)X
3657(in)X
3763(raw)X
3938(mode,)X
720 2097(and)N
899(provides)X
1270(the)X
1428(full)X
1602(suite)X
1824(of)X
1944(4.3)X
2104(BSD)X
2330(ioctl\(\))X
2606(calls)X
2822(and)X
3000(line-editing)X
3484(functions)X
3881(such)X
4096(as)X
720 2205(backspace)N
1145(and)X
1313(word)X
1539(erase.)X
1814(The)X
1993(terminal)X
2344(driver)X
2603(is)X
2696(built)X
2902(as)X
3011(a)X
3083(library)X
3369(package)X
3715(so)X
3830(the)X
3978(same)X
720 2313(code)N
937(is)X
1036(also)X
1226(used)X
1437(for)X
1584(managing)X
1999(rlogin)X
2263(streams)X
2591(and)X
2764 0.2422(terminal-emulator)AX
3495(windows.)X
3923(In)X
4037(this)X
720 2421(case,)N
942(the)X
1092(pseudo-device)X
1680(mechanism)X
2151(provides)X
2514(a)X
2589 0.2452(generalization)AX
3168(of)X
3280(the)X
3431(4.3BSD)X
3770(pseudo-tty)X
720 2529(facility.)N
920 2670(The)N
1100(second)X
1397(use)X
1556(of)X
1667(pseudo-devices)X
2291(is)X
2386(to)X
2492(implement)X
2936(network)X
3282(protocols)X
3671(at)X
3772(user-level,)X
720 2778(TCP/IP)N
1043(in)X
1153(particular.)X
1606(While)X
1877(Sprite)X
2142(uses)X
2342(a)X
2419(custom)X
2731(network)X
3080(RPC)X
3295(protocol)X
3650(for)X
3796(kernel-to-)X
720 2886(kernel)N
998(communication)X
1635([Welch86a],)X
2151(the)X
2306(TCP/IP)X
2632(protocols)X
3028(are)X
3184(used)X
3398(to)X
3511(interface)X
3887(to)X
4000(non-)X
720 2994(Sprite)N
997(systems,)X
1372(i.e.)X
1537(for)X
1696(mail)X
1915(service,)X
2259(remote)X
2574(logins,)X
2880(and)X
3066(remote)X
3381(\256le)X
3551(transfer.)X
3940(Client)X
720 3102(processes)N
1120(read)X
1318(and)X
1489(write)X
1719(a)X
1794(pseudo-device)X
2382(to)X
2490(use)X
2651(TCP,)X
2884(and)X
3056(the)X
3207(user-level)X
3620(server)X
3888(process)X
720 3210(implements)N
1207(the)X
1362(full)X
1532(protocol)X
1889(by)X
2021(reading)X
2346(and)X
2521(writing)X
2835(packets)X
3160(over)X
3367(the)X
3521(raw)X
3701(ethernet.)X
4096(In)X
720 3318(this)N
904(case)X
1115(the)X
1278(internet)X
1618(pseudo-device)X
2219(provides)X
2595(the)X
2758(transport)X
3145(mechanism)X
3629(for)X
3787(a)X
3876(remote-)X
720 3426 0.2083(procedure-call-like)AN
1507(facility.)X
1882(A)X
2004(library)X
2314(package)X
2683(used)X
2912(by)X
3061(clients)X
3365(emulates)X
3760(the)X
3930(socket)X
-1 Ds
1 Dt
1508 3749 MXY
26 29 Dl
-6 -24 Dl
17 -16 Dl
-37 11 Dl
4 Ds
3055 4130 MXY
-37 -12 Dl
17 17 Dl
-6 23 Dl
26 -28 Dl
3127 3892 MXY
21 -33 Dl
-21 12 Dl
-21 -12 Dl
21 33 Dl
1984 3868 MXY
37 -14 Dl
-24 -3 Dl
-10 -22 Dl
-3 39 Dl
2056 3987 MXY
28 -27 Dl
-23 6 Dl
-18 -16 Dl
13 37 Dl
3127 3725 MXY
0 143 Dl
2793 4201 MXY
262 -71 Dl
2103 3773 MXY
-47 190 Dl
3773 MY
-72 95 Dl
10 s
2507 3987(X)N
2585(Server)X
1119 3796(Client)N
1334(1)X
1310 4177(Client)N
1525(2)X
-1 Ds
1008 3630 MXY
0 262 Dl
500 0 Dl
0 -262 Dl
-500 0 Dl
1199 4011 MXY
0 261 Dl
500 0 Dl
0 -261 Dl
-500 0 Dl
2365 3820 MXY
0 262 Dl
571 0 Dl
0 -262 Dl
-571 0 Dl
1699 4153 MXY
 1841.67 4105.67 1936.83 4066.17 1984.5 4034.5 curveto
 2032.17 4002.83 2159 3987 2365 3987 curveto
Dstroke
1508 3749 MXY
 1730 3812.33 1876.83 3859.83 1948.5 3891.5 curveto
 2020.17 3923.17 2159 3947 2365 3963 curveto
Dstroke
1767 3725(``/hosts/sage/X0'')N
3293 3844 MXY
0 262 Dl
333 0 Dl
0 -262 Dl
-333 0 Dl
3246 3796 MXY
0 357 Dl
428 0 Dl
0 -357 Dl
-428 0 Dl
3746 4201 MXY
-548 0 Dl
-95 143 Dl
571 0 Dl
72 -143 Dl
3698 4391 MXY
48 48 Dl
-72 71 Dl
-48 -47 Dl
72 -72 Dl
16 Ds
3246 4249 MXY
404 0 Dl
3222 4272 MXY
404 0 Dl
3198 4296 MXY
405 0 Dl
-1 Ds
3365 3892 MXY
0 119 Dl
119 0 Dl
0 -119 Dl
-119 0 Dl
3436 4011 MXY
0 47 Dl
143 0 Dl
0 -119 Dl
-95 0 Dl
2936 MX
 3019.5 3915.5 3174.5 3903.5 3246 3915 curveto
Dstroke
-33 -21 Dl
12 21 Dl
-12 21 Dl
33 -21 Dl
2936 3939 MXY
38 10 Dl
-18 -16 Dl
5 -24 Dl
-25 30 Dl
2365 3963 MXY
-33 -21 Dl
12 21 Dl
-12 21 Dl
33 -21 Dl
3987 MY
-33 -21 Dl
12 21 Dl
-12 21 Dl
33 -21 Dl
1699 4153 MXY
37 10 Dl
-18 -16 Dl
5 -24 Dl
-24 30 Dl
3674 4201 MXY
 3722 4153.67 3757.83 4130 3781.5 4130 curveto
 3805.17 4130 3828.83 4149.83 3852.5 4189.5 curveto
 3876.17 4229.17 3880.17 4264.83 3864.5 4296.5 curveto
 3848.83 4328.17 3829 4351.83 3805 4367.5 curveto
 3781 4383.17 3753.33 4399 3722 4415 curveto
Dstroke
2936 4011 MXY
 3015.33 4042.33 3067 4077.83 3091 4117.5 curveto
 3115 4157.17 3142.67 4193 3174 4225 curveto
Dstroke
2936 4011 MXY
25 30 Dl
-5 -24 Dl
18 -16 Dl
-38 10 Dl
3174 4225 MXY
-8 -38 Dl
-6 23 Dl
-24 6 Dl
38 9 Dl
2830 3677(``/dev/display'')N
2296 4296(``/dev/keyboard'')N
3 Dt
-1 Ds
3 f
11 s
880 4706(Figure)N
1152(1)X
1 f
(.)S
1262(The)X
1421(pseudo-device)X
1951(``/hosts/sage/X0'')X
2608(is)X
2689(used)X
2873(by)X
2984(clients)X
3238(of)X
3334(the)X
3465(window)X
3771(system)X
880 4805(to)N
972(access)X
1219(the)X
1350(X)X
1436(window)X
1742(server)X
1979(on)X
2090(workstation)X
2529(``sage''.)X
2868(The)X
3027(server,)X
3285(in)X
3376(turn,)X
3562(has)X
3701(access)X
3947(to)X
880 4904(the)N
1010(display)X
1287(and)X
1436(keyboard.)X
10 f
720 5132(h)N
728(hhhhhhhhhhhhhhhhhhhhhhhhhh)X
1 f
892 5250(\262)N
970(Iocontrol\(\))X
1385(is)X
1478(a)X
1551(super-set)X
1902(of)X
2009(the)X
2151(standard)X
2483(UNIX)X
2736(ioctl\(\))X
2987(system)X
3267(call.)X
3474(Ioctl\(\))X
3729(takes)X
3945(only)X
4137(a)X
720 5349(command)N
1096(ID)X
1216(and)X
1371(a)X
1438(buffer)X
1680(as)X
1781(arguments.)X
2220(Iocontrol\(\))X
2629(takes)X
2838(a)X
2905(command)X
3281(ID,)X
3423(and)X
3578(4)X
3649(arguments)X
4043(that)X
720 5448(specify)N
996(the)X
1126(size,)X
1307(and)X
1456(location,)X
1785(of)X
1880(an)X
1985(input)X
2189(and)X
2338(output)X
2586(buffers.)X
3 f
12 s
2424 6048(3)N

4 p
%%Page: 4 4
12 s 12 xH 0 xS 3 f
1 f
720 780(operations)N
1171(by)X
1318(issuing)X
1641(iocontrols)X
2077(on)X
2224(the)X
2393(internet)X
2739(pseudo-device.)X
3394(The)X
3595(internet)X
3941(server)X
720 888(de\256nes)N
1025(iocontrol)X
1406(operations)X
1840(for)X
1985(socket)X
2264(calls)X
2474(like)X
2652(bind\(\),)X
2944(listen\(\),)X
3274(connect\(\))X
3670(and)X
3841(accept\(\).)X
720 996(The)N
899(iocontrol)X
1276(input)X
1503(buffer)X
1767(is)X
1860(used)X
2065(to)X
2169(pass)X
2363(arguments)X
2793(from)X
3009(the)X
3156(client)X
3400(to)X
3504(the)X
3652(server,)X
3941(where)X
720 1104(the)N
865(socket)X
1138(procedure)X
1550(is)X
1641(executed.)X
2059(The)X
2236(output)X
2509(buffer)X
2771(is)X
2862(then)X
3055(used)X
3258(to)X
3360(return)X
3616(results)X
3893(back)X
4101(to)X
720 1212(the)N
862(client.)X
1149(Each)X
1366(library)X
1648(procedure)X
2058(in)X
2158(the)X
2301(client)X
2541(is)X
2630(simply)X
2917(a)X
2985(stub)X
3170(that)X
3340(copies)X
3611(arguments)X
4037(and)X
720 1320(results)N
995(into)X
1169(and)X
1332(out)X
1479(of)X
1583(buffers)X
1879(and)X
2042(invokes)X
2365(the)X
2507(iocontrol.)X
920 1461(The)N
1098(third)X
1308(use)X
1464(of)X
1572(pseudo-devices)X
2193(is)X
2285(to)X
2388(implement)X
2829(the)X
2975(X)X
3072(window)X
3409(server)X
3673(at)X
3772(user-level.)X
720 1569(For)N
880(each)X
1084(display)X
1389(in)X
1491(the)X
1636(network)X
1978(there)X
2198(is)X
2289(a)X
2359(pseudo-device)X
2942(and)X
3108(a)X
3178(server)X
3440(process.)X
3803(Access)X
4101(to)X
720 1677(remote)N
1031(displays)X
1389(is)X
1496(not)X
1662(a)X
1749(special)X
2061(case)X
2271(because)X
2620(the)X
2782(\256le)X
2949(system)X
3260(provides)X
3635(network)X
3994(tran-)X
720 1785(sparency.)N
1148(The)X
1336(X)X
1443(server)X
1716(controls)X
2064(the)X
2220(display)X
2536(and)X
2712(multiplexes)X
3199(the)X
3354(mouse)X
3642(and)X
3818(keyboard)X
720 1893(among)N
1008(clients,)X
1310(as)X
1416(shown)X
1692(in)X
1794(Figure)X
2072(1.)X
2195(The)X
2372(clients)X
2651(use)X
2806(write\(\))X
3095(to)X
3197(issue)X
3416(commands)X
3860(to)X
3962(the)X
4107(X)X
720 2001(server,)N
1027(and)X
1214(read\(\))X
1492(to)X
1615(get)X
1781(mouse)X
2080(and)X
2267(keyboard)X
2673(input.)X
2967(A)X
3084(buffering)X
3490(system,)X
3829(which)X
4112(is)X
720 2109(described)N
1121(in)X
1228(detail)X
1475(in)X
1582(Section)X
1903(4.2,)X
2079(provides)X
2442(an)X
2565(asynchronous)X
3125(interface)X
3495(between)X
3849(the)X
4000(win-)X
720 2217(dow)N
909(server)X
1168(and)X
1331(its)X
1446(clients)X
1722(to)X
1821(reduce)X
2102(context)X
2410(switching)X
2808(overhead.)X
3 f
720 2421(4.)N
840(Pseudo-device)X
1446(Server)X
1743(Implementation)X
1 f
920 2562(The)N
1096(server)X
1357(for)X
1495(a)X
1564(pseudo-device)X
2147(is)X
2238(much)X
2479(like)X
2651(the)X
2796(server)X
3058(for)X
3197(any)X
3363(RPC)X
3571(system:)X
3892(it)X
3973(waits)X
720 2670(for)N
859(a)X
929(request,)X
1258(does)X
1461(a)X
1531(computation,)X
2064(and)X
2230(returns)X
2524(an)X
2642(answer.)X
2988(In)X
3094(this)X
3259(case)X
3451(it)X
3531(is)X
3621(the)X
3765(Sprite)X
4021(ker-)X
720 2778(nel)N
869(that)X
1045(is)X
1140(making)X
1460(requests)X
1807(on)X
1935(behalf)X
2208(of)X
2320(a)X
2395(client)X
2642(process.)X
3010(The)X
3192(kernel)X
3465(takes)X
3695(care)X
3888(of)X
4000(bun-)X
720 2886(dling)N
956(up)X
1090(the)X
1246(client's)X
1568(parameters,)X
2053(communicating)X
2691(with)X
2900(the)X
3056(server,)X
3353(and)X
3529(unpackaging)X
4058(the)X
720 2994(server's)N
1059(answer)X
1366(so)X
1486(that)X
1666(the)X
1819(mechanism)X
2293(is)X
2392(transparent)X
2855(to)X
2965(the)X
3118(client.)X
3416(The)X
3601(following)X
4011(sub-)X
720 3102(sections)N
1069(describe)X
1429(the)X
1586 0.2548(implementation)AX
2231(of)X
2350(this)X
2528(in)X
2642(more)X
2879(detail,)X
3157(including)X
3560(the)X
3716(I/O)X
3882(streams)X
720 3210(used)N
920(by)X
1040(the)X
1182(server,)X
1465(the)X
1607(request-response)X
2277(protocol)X
2623(between)X
2969(the)X
3112(kernel)X
3378(and)X
3542(the)X
3685(server,)X
3969(and)X
4133(a)X
720 3318(buffering)N
1102(system)X
1393(used)X
1593(to)X
1692(improve)X
2037(performance.)X
3 f
720 3522(4.1.)N
912(The)X
1096(Server's)X
1462(Interface)X
1 f
920 3663(The)N
1098(server)X
1361(for)X
1501(a)X
1572(pseudo-device)X
2156(is)X
2248(established)X
2704(when)X
2940(it)X
3022(opens)X
3274(the)X
3420(pseudo-device)X
4005(with)X
720 3771(the)N
870(PDEV_SERVER)X
1568(\257ag.)X
1792(This)X
1995(open)X
2214(returns)X
2513(a)X
2 f
2588(control)X
2898(stream)X
1 f
3191(to)X
3297(the)X
3446(server.)X
3760(The)X
3941(server)X
720 3879(listens)N
997(on)X
1124(the)X
1273(control)X
1577(stream)X
1865(for)X
2008(messages)X
2402(issued)X
2673(by)X
2800(the)X
2949(kernel)X
3221(each)X
3429(time)X
3632(a)X
3706(client)X
3952(opens)X
720 3987(the)N
865(pseudo-device.)X
1496(These)X
1753(messages)X
2143(identify)X
2470(a)X
2540(new)X
2 f
2727(request)X
3037(stream)X
1 f
3324(the)X
3468(server)X
3729(gets)X
3910(for)X
4048(use)X
720 4095(in)N
819(communicating)X
1443(with)X
1639(the)X
1782(client.)X
2070(Thus)X
2287(the)X
2430(server)X
2690(process)X
3003(has)X
3156(one)X
3320(control)X
3618(stream)X
3900(used)X
4101(to)X
720 4203(wait)N
918(for)X
1062(new)X
1254(clients,)X
1562(and)X
1732(one)X
1902(request)X
2211(stream)X
2499(for)X
2642(each)X
2850(open\(\))X
3132(by)X
3259(a)X
3333(client)X
3579(process.)X
3946(These)X
720 4311(are)N
862(shown)X
1136(in)X
1235(Figure)X
1510(2.)X
920 4452(The)N
1112(server)X
1389(accepts)X
1715(or)X
1837(rejects)X
2131(the)X
2291(client's)X
2618(open)X
2848(attempt)X
3181(when)X
3432(it)X
3529(handles)X
3866(the)X
4027(\256rst)X
720 4560(request)N
1024(\(an)X
1173(open\))X
1418(on)X
1540(a)X
1609(request)X
1913(stream.)X
2244(\(Details)X
2575(of)X
2681(handling)X
3044(requests)X
3385(are)X
3528(given)X
3767(in)X
3867(the)X
4010(next)X
720 4668(sub-section.\))N
1264(If)X
1354(a)X
1423(client)X
1664(process)X
1978(subsequently)X
2506(forks)X
2729(\(creates)X
3056(a)X
3126(new)X
3313(process\),)X
3684(the)X
3829(new)X
4016(pro-)X
720 4776(cess)N
905(shares)X
1170(the)X
1312(stream)X
1593(to)X
1692(the)X
1834(pseudo-device,)X
2438(and)X
2601(the)X
2743(server)X
3002(is)X
3090(not)X
3237(contacted.)X
3679(This)X
3874(is)X
3962(much)X
720 4884(cheaper)N
1047(than)X
1240(creating)X
1578(a)X
1648(new)X
1835(request)X
2140(stream)X
2424(each)X
2628(time)X
2827(a)X
2897(client)X
3139(process)X
3454(forks,)X
3702(and)X
3869(it)X
3951(main-)X
720 4992(tains)N
941(the)X
1097(UNIX)X
1374(semantics)X
1792(of)X
1910(shared)X
2199(streams.)X
2579(To)X
2724(the)X
2880(server,)X
3177(however,)X
3570(this)X
3747(means)X
4031(that)X
720 5100(there)N
937(may)X
1127(be)X
1242(more)X
1464(than)X
1654(one)X
1817(client)X
2056(process)X
2368(using)X
2600(a)X
2667(request)X
2969(stream.)X
3 f
720 5304(4.2.)N
912(Request-Response)X
1 f
920 5445(The)N
1101(Sprite)X
1362(kernel)X
1634(communicates)X
2222(with)X
2424(the)X
2573(server)X
2839(using)X
3078(a)X
3153(request-response)X
3831(protocol.)X
720 5553(The)N
902(synchronous)X
1419(version)X
1734(of)X
1846(the)X
1996(protocol)X
2349(is)X
2445(described)X
2846(\256rst,)X
3051(and)X
3222(then)X
3419(extensions)X
3856(to)X
3962(allow)X
720 5661(asynchronous)N
1281(communication)X
1914(are)X
2065(described.)X
2515(For)X
2681(each)X
2891(kernel)X
3165(call)X
3338(made)X
3580(by)X
3709(a)X
3785(client,)X
4058(the)X
720 5769(kernel)N
992(issues)X
1252(a)X
1326(request)X
1635(message)X
1992(to)X
2098(the)X
2246(server)X
2511(and)X
2680(blocks)X
2961(the)X
3109(client)X
3354(process)X
3672(waiting)X
3991(for)X
4133(a)X
3 f
2424 6048(4)N

5 p
%%Page: 5 5
12 s 12 xH 0 xS 3 f
1 f
-1 Ds
1 Dt
1360 MY
43 3 Dl
-23 -14 Dl
1 -27 Dl
-21 38 Dl
1293 MY
43 5 Dl
-22 -16 Dl
2 -27 Dl
-23 38 Dl
2190 1360 MXY
-40 -19 Dl
16 22 Dl
-10 25 Dl
34 -28 Dl
1319 MY
-18 -40 Dl
-2 27 Dl
-24 12 Dl
44 1 Dl
4 Ds
2847 1064 MXY
8 -43 Dl
-17 22 Dl
-27 -4 Dl
36 25 Dl
2821 1172 MXY
12 -43 Dl
-19 20 Dl
-27 -6 Dl
34 29 Dl
1720 1454 MXY
37 -24 Dl
-27 2 Dl
-16 -22 Dl
6 44 Dl
1840 1064 MXY
39 -20 Dl
-27 0 Dl
-13 -24 Dl
1 44 Dl
-1 Ds
3 Dt
2915 1172 MXY
-43 -11 Dl
20 18 Dl
-5 27 Dl
28 -34 Dl
2905 1098 MXY
-42 -13 Dl
20 19 Dl
-7 26 Dl
29 -32 Dl
1706 1091 MXY
37 24 Dl
-13 -24 Dl
13 -23 Dl
-37 23 Dl
1585 1561 MXY
44 -1 Dl
-24 -12 Dl
-2 -27 Dl
-18 40 Dl
4 Ds
1 Dt
2740 903 MXY
81 269 Dl
2780 903 MXY
67 161 Dl
1975 903 MXY
-255 551 Dl
1934 903 MXY
-94 161 Dl
10 s
2588 876(request)N
2840(stream)X
1688(client)X
1886(stream)X
-1 Ds
2472 1360 MXY
2472 1360 moveto
 2592.51 1287.78 2713.02 1215.55 2847 1185 curveto
 2869.42 1179.89 2892.21 1175.94 2915 1172 curveto
Dstroke
2472 1293 MXY
2472 1293 moveto
 2584.84 1225.71 2697.67 1158.42 2821 1118 curveto
 2851.89 1107.88 2883.45 1099.44 2915 1091 curveto
Dstroke
1585 1561 MXY
1585 1561 moveto
 1680.36 1497.14 1775.72 1433.28 1881 1400 curveto
 1978.35 1369.23 2084.17 1364.62 2190 1360 curveto
Dstroke
1720 1091 MXY
1720 1091 moveto
 1812.15 1116.67 1904.3 1142.34 1988 1185 curveto
 2059.44 1221.41 2124.72 1270.21 2190 1319 curveto
Dstroke
3132 1239(Server)N
1284 1185(Client)N
1499(1)X
1142 997 MXY
0 296 Dl
564 0 Dl
0 -296 Dl
-564 0 Dl
2915 MX
0 296 Dl
644 0 Dl
0 -296 Dl
-644 0 Dl
2082 1588(Sprite)N
2293(Kernel)X
2297 1185 MXY
2297 1185 moveto
 2185.19 1195.05 2075.63 1214.24 1975 1266 curveto
 1894.42 1307.45 1819.58 1369.78 1787 1454 curveto
 1763.96 1513.55 1762.05 1584.05 1787 1642 curveto
 1812.15 1700.41 1864.6 1746.07 1921 1776 curveto
 2042.02 1840.22 2181.25 1832.05 2324 1830 curveto
 2477.28 1827.8 2634.61 1832.67 2753 1749 curveto
 2799.67 1716.02 2840.29 1669.27 2861 1615 curveto
 2883.63 1555.71 2882.51 1487.44 2861 1427 curveto
 2832.68 1347.43 2769.02 1281.44 2700 1239 curveto
 2574.18 1174.07 2433.92 1172.69 2297 1185 curveto
Dstroke
16 Ds
2646 1682 MXY
2646 1682 moveto
 2799.17 1675.43 2952.33 1668.86 3049 1588 curveto
 3127.51 1522.33 3168.75 1407.67 3210 1293 curveto
Dstroke
3237 1534(Control)N
3501(stream)X
1150 1642(Client)N
1365(2)X
-1 Ds
1008 1454 MXY
0 295 Dl
564 0 Dl
0 -295 Dl
-564 0 Dl
4 Ds
3210 1293 MXY
-34 27 Dl
27 -5 Dl
18 20 Dl
-11 -42 Dl
-1 Ds
1 Di
2190 1252 MXY
 2190 1252 lineto
 2190 1413 lineto
 2472 1413 lineto
 2472 1252 lineto
 2190 1252 lineto
closepath 21 2190 1252 2472 1413 Dp
3005 1139(pseudo-device)N
3 Dt
-1 Ds
3 f
11 s
880 2026(Figure)N
1154(2)X
1 f
(.)S
1266(The)X
1427(control)X
1701(stream)X
1960(originates)X
2332(from)X
2527(the)X
2659(kernel)X
2903(and)X
3054(is)X
3137(used)X
3322(to)X
3415(pass)X
3591(new)X
3762(request)X
880 2125(streams)N
1180(to)X
1280(the)X
1419(server)X
1664(process.)X
2002(The)X
2170(client's)X
2461(streams)X
2761(are)X
2899(connected)X
3287(to)X
3386(corresponding)X
3919(re-)X
880 2224(quest)N
1095(streams)X
1393(by)X
1510(a)X
1578(request-response)X
2197(protocol,)X
2542(which)X
2786(is)X
2874(represented)X
3308(by)X
3426(the)X
3564(black)X
3785(box)X
3947(in)X
880 2323(the)N
1010(\256gure.)X
12 s
720 2560(reply)N
955(message.)X
1366(Each)X
1596(request)X
1911(message)X
2274(includes)X
2632(the)X
2787(operation)X
3188(\(open,)X
3468(close,)X
3727(read,)X
3954(write,)X
720 2668(iocontrol\))N
1139(and)X
1317(its)X
1447(associated)X
1882(parameters,)X
2368(which)X
2642(may)X
2847(include)X
3170(a)X
3252(block)X
3505(of)X
3623(data.)X
3870(Table)X
4128(1)X
720 2776(describes)N
1105(the)X
1250(contents)X
1598(of)X
1705(the)X
1850(request)X
2155(messages.)X
2593(The)X
2770(server)X
3032(replies)X
3317(to)X
3420(requests)X
3763(by)X
3887(making)X
720 2884(an)N
842(iocontrol\(\))X
1285(call)X
1456(on)X
1583(the)X
1732(request)X
2041(stream.)X
2377(The)X
2557(iocontrol)X
2935(speci\256es)X
3296(the)X
3444(return)X
3704(code)X
3916(for)X
4058(the)X
720 2992(client's)N
1041(system)X
1345(call,)X
1546(and)X
1722(the)X
1877(size)X
2064(and)X
2240(location)X
2588(of)X
2705(any)X
2881(return)X
3148(data)X
3346(for)X
3495(the)X
3650(call)X
3827(\(i.e.)X
4015(data)X
720 3100(being)N
974(read\).)X
1260(The)X
1450(kernel)X
1731(copies)X
2016(the)X
2173(reply)X
2410(data)X
2610(directly)X
2944(from)X
3170(the)X
3327(server's)X
3670(buffer)X
3944(to)X
4058(the)X
720 3208(client's.)N
10 f
1805 3489(i)N
1843(iiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1973 3588(Request)N
2279(Message)X
2608(Contents)X
12 s
10 f
1805 3591(i)N
1843(iiiiiiiiiiiiiiiiiiiiiiiiii)X
1805 3607(i)N
1843(iiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1853 3698(All)N
1988(Messages)X
2517(Operation)X
2891(ID)X
2517 3797(Process)N
2807(ID)X
2517 3896(Input)N
2725(size)X
2517 3995(Reply)N
2750(size)X
12 s
10 f
1805 3998(i)N
1843(iiiiiiiiiiiiiiiiiiiiiiiiii)X
1805 4014(i)N
1843(iiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1853 4105(open)N
2517(User)X
2704(ID)X
2517 4204(\(no)N
2656(data\))X
12 s
10 f
1805 4215(i)N
1843(iiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1853 4314(read)N
2517(Byte)X
2706(offset)X
2517 4413(\(no)N
2656(data\))X
12 s
10 f
1805 4424(i)N
1843(iiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1853 4523(write)N
2517(Byte)X
2706(offset)X
2517 4622(Data)N
2705(block)X
12 s
10 f
1805 4633(i)N
1843(iiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1853 4732(iocontrol)N
2517(Command)X
2907(ID)X
2517 4831(Data)N
2705(block)X
12 s
10 f
1805 4842(i)N
1843(iiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1853 4941(close)N
2517(\(nothing\))X
12 s
10 f
1805 4953(i)N
1843(iiiiiiiiiiiiiiiiiiiiiiiiii)X
1805(c)X
4929(c)Y
4833(c)Y
4737(c)Y
4641(c)Y
4545(c)Y
4449(c)Y
4353(c)Y
4257(c)Y
4161(c)Y
4065(c)Y
3969(c)Y
3873(c)Y
3777(c)Y
3681(c)Y
3585(c)Y
2445 4953(c)N
4952(c)Y
4856(c)Y
4760(c)Y
4664(c)Y
4568(c)Y
4472(c)Y
4376(c)Y
4280(c)Y
4184(c)Y
4088(c)Y
3992(c)Y
3896(c)Y
3800(c)Y
3704(c)Y
3091 4953(c)N
4929(c)Y
4833(c)Y
4737(c)Y
4641(c)Y
4545(c)Y
4449(c)Y
4353(c)Y
4257(c)Y
4161(c)Y
4065(c)Y
3969(c)Y
3873(c)Y
3777(c)Y
3681(c)Y
3585(c)Y
3 f
11 s
880 5118(Table)N
1118(1.)X
1 f
1228(All)X
1363(request)X
1639(messages)X
1993(have)X
2181(a)X
2242(standard)X
2562(header)X
2818(that)X
2973(indicates)X
3309(the)X
3439(operation)X
3794(\(open,)X
880 5217(read,)N
1080(write,)X
1310(iocontrol,)X
1678(close\),)X
1937(the)X
2072(client's)X
2359(process)X
2649(ID,)X
2790(the)X
2925(the)X
3060(size)X
3224(of)X
3324(the)X
3459(input)X
3667(and)X
3820(result)X
880 5316(data.)N
1107(Additionally,)X
1613(each)X
1811(operation)X
2181(has)X
2335(its)X
2456(own)X
2644(speci\256c)X
2950(parameters)X
3373(and,)X
3559(optionally,)X
3977(a)X
880 5415(variable)N
1186(size)X
1345(block)X
1563(of)X
1658(data.)X
3 f
12 s
2424 6048(5)N

6 p
%%Page: 6 6
12 s 12 xH 0 xS 3 f
1 f
920 780(The)N
1097(kernel)X
1365(passes)X
1637(request)X
1943(messages)X
2334(to)X
2437(the)X
2583(server)X
2846(using)X
3082(a)X
2 f
3153(request)X
3464(buffer)X
1 f
3694(,)X
3746(which)X
4009(is)X
4101(in)X
720 888(the)N
869(server)X
1135(process's)X
1523(address)X
1842(space,)X
2111(and)X
2281(an)X
2403(associated)X
2830(pair)X
3011(of)X
3121(pointers,)X
2 f
3485(\256rstByte)X
1 f
3836(and)X
2 f
4005(last-)X
720 996(Byte)N
1 f
892(,)X
940(that)X
1109(are)X
1251(kept)X
1441(in)X
1541(the)X
1684(kernel)X
1950(and)X
2114(indicate)X
2445(valid)X
2663(regions)X
2971(of)X
3076(the)X
3219(buffer.)X
3527(With)X
3745(this)X
3909(buffer-)X
720 1104(ing)N
892(scheme)X
1230(the)X
1397(server)X
1681(does)X
1906(not)X
2078(read)X
2292(the)X
2458(request)X
2784(messages)X
3195(from)X
3430(its)X
3569(request)X
3895(stream.)X
720 1212(Instead,)N
1060(the)X
1216(kernel)X
1495(puts)X
1693(request)X
2009(messages)X
2410(directly)X
2743(into)X
2932(the)X
3089(request)X
3406(buffer,)X
3704(and)X
3882(updates)X
720 1320(lastByte)N
1070(to)X
1179(re\257ect)X
1454(the)X
1606(addition)X
1955(of)X
2068(the)X
2219(messages.)X
2663(The)X
2846(server)X
3114(then)X
3313(reads)X
3549(a)X
3625(short)X
3850(message)X
720 1428(from)N
941(the)X
1093(request)X
1405(stream)X
1696(that)X
1875(has)X
2037(the)X
2189(current)X
2496(values)X
2776(of)X
2890(\256rstByte)X
3255(and)X
3428(lastByte.)X
3826(The)X
4010(read)X
720 1536(returns)N
1025(only)X
1234(when)X
1480(there)X
1711(are)X
1867(new)X
2065(messages)X
2466(in)X
2579(the)X
2735(request)X
3050(buffer.)X
3370(After)X
3610(processing)X
4058(the)X
720 1644(message\(s\))N
1188(found)X
1453(between)X
1815(\256rstByte)X
2187(and)X
2368(lastByte)X
2726(the)X
2886(server)X
3163(updates)X
3499(\256rstByte)X
3872(with)X
4085(an)X
720 1752(iocontrol.)N
1157(This)X
1369(buffering)X
1768(scheme)X
2098(permits)X
2428(the)X
2587(kernel)X
2868(to)X
2983(place)X
3227(several)X
3540(messages)X
3943(in)X
4058(the)X
720 1860(request)N
1023(buffer)X
1283(without)X
1602(waiting)X
1916(for)X
2053(each)X
2255(to)X
2355(be)X
2471(processed;)X
2902(the)X
3046(server)X
3307(can)X
3467(then)X
3659(process)X
3973(all)X
4096(of)X
720 1968(them)N
937(at)X
1031(once,)X
1261(without)X
1579(requiring)X
1956(a)X
2023(context)X
2331(switch)X
2606(for)X
2742(each.)X
920 2109(The)N
1113(buffering)X
1514(mechanism)X
1996(supports)X
2365(asynchronous)X
2937(writes)X
3216(\(``write-behind''\))X
3944(at)X
4058(the)X
720 2217(server's)N
1050(option.)X
1370(If)X
1460(the)X
1604(server)X
1865(speci\256es)X
2222(that)X
2393(write-behind)X
2911(is)X
3001(to)X
3102(be)X
3219(permitted)X
3615(for)X
3752(the)X
3895(stream,)X
720 2325(then)N
914(the)X
1060(kernel)X
1329(will)X
1507(allow)X
1749(the)X
1895(client)X
2138(to)X
2241(proceed)X
2575(as)X
2684(soon)X
2894(as)X
3003(it)X
3086(has)X
3243(placed)X
3524(the)X
3671(write)X
3898(request)X
720 2433(in)N
825(the)X
973(server's)X
1307(buffer.)X
1620(In)X
1730(enabling)X
2092(write-behind,)X
2637(the)X
2784(server)X
3048(guarantees)X
3489(that)X
3663(it)X
3746(is)X
3839(prepared)X
720 2541(to)N
827(accept)X
1106(all)X
1235(data)X
1428(written)X
1733(to)X
1840(the)X
1990(stream;)X
2330(the)X
2480(kernel)X
2753(always)X
3052(returns)X
3351(a)X
3426(successful)X
3854(result)X
4101(to)X
720 2649(clients.)N
1070(The)X
1270(advantage)X
1710(of)X
1839(write-behind)X
2380(is)X
2493(that)X
2687(it)X
2790(allows)X
3090(the)X
3257(client)X
3521(to)X
3645(make)X
3903(several)X
720 2757(requests)N
1069(without)X
1397(the)X
1550(need)X
1767(for)X
1914(a)X
1992(context)X
2311(switch)X
2597(into)X
2782(and)X
2956(out)X
3114(of)X
3229(the)X
3382(server)X
3652(for)X
3799(each.)X
4059(On)X
720 2865(multiprocessors,)N
1411(write-behind)X
1961(permits)X
2308(concurrent)X
2778(execution)X
3211(between)X
3590(the)X
3765(client)X
4037(and)X
720 2973(server.)N
920 3114(As)N
1055(a)X
1127(convenience)X
1638(to)X
1742(servers,)X
2067(the)X
2214(kernel)X
2484(does)X
2689(not)X
2841(wrap)X
3062(request)X
3369(messages)X
3761(around)X
4058(the)X
720 3222(end)N
888(of)X
997(the)X
1144(request)X
1451(buffer.)X
1763(If)X
1856(there)X
2078(is)X
2171(insuf\256cient)X
2633(space)X
2876(at)X
2975(the)X
3121(end)X
3288(of)X
3396(the)X
3542(buffer)X
3805(for)X
3945(a)X
4016(new)X
720 3330(request,)N
1055(then)X
1254(the)X
1405(kernel)X
1679(blocks)X
1963(the)X
2115(requesting)X
2550(process)X
2872(until)X
3083(the)X
3235(server)X
3504(has)X
3666(processed)X
4079(all)X
720 3438(the)N
867(requests)X
1211(in)X
1315(the)X
1462(buffer.)X
1774(Once)X
2006(the)X
2153(buffer)X
2417(is)X
2510(empty)X
2780(the)X
2927(kernel)X
3197(places)X
3466(the)X
3612(new)X
3800(request)X
4106(at)X
720 3546(the)N
867(beginning)X
1282(of)X
1392(the)X
1540(buffer,)X
1829(so)X
1944(that)X
2119(it)X
2203(will)X
2383(not)X
2536(be)X
2657(split)X
2853(into)X
3033(two)X
3207(pieces.)X
3526(This)X
3727(is)X
3821(shown)X
4101(in)X
720 3654(Figure)N
1004(3.)X
1133(No)X
1283(single)X
1546(request)X
1857(may)X
2056(be)X
2179(larger)X
2436(than)X
2634(the)X
2784(server's)X
3120(buffer:)X
3438(oversize)X
3791(writes)X
4058(are)X
720 3762(split)N
920(into)X
1104(multiple)X
1460(requests,)X
1833(and)X
2006(oversize)X
2361(iocontrols)X
2780(are)X
2932(rejected.)X
3320(If)X
3418(a)X
3495(write)X
3727(is)X
3825(split)X
4026(into)X
720 3870(several)N
1031(requests,)X
1408(the)X
1564(request)X
1880(stream)X
2175(is)X
2277(locked)X
2572(to)X
2684(preserve)X
3047(the)X
3202(atomicity)X
3604(of)X
3721(the)X
3876(original)X
720 3978(write.)N
920 4119(Read)N
1148(performance)X
1665(can)X
1829(be)X
1950(optimized)X
2366(by)X
2492(using)X
2730(a)X
2 f
2803(read-ahead)X
3276(buffer)X
1 f
3506(.)X
3585(The)X
3766(server)X
4032(\256lls)X
720 4227(the)N
864(read-ahead)X
1313(buffer,)X
1598(which)X
1859(is)X
1949(again)X
2184(in)X
2285(its)X
2402(own)X
2593(address)X
2907(space,)X
3171(and)X
3335(the)X
3478(kernel)X
3744(copies)X
4015(data)X
720 4335(out)N
868(of)X
973(it)X
1052(without)X
1371(having)X
1658(to)X
1758(switch)X
2034(out)X
2182(to)X
2282(the)X
2425(server)X
2685(process.)X
3046(Synchronization)X
3702(is)X
3792(done)X
4005(with)X
720 4443(\256rstByte)N
1080(and)X
1248(lastByte)X
1593(pointers)X
1932(as)X
2041(with)X
2241(the)X
2388(request)X
2695(buffer.)X
3007(In)X
3116(this)X
3284(case)X
3479(the)X
3625(server)X
3888(process)X
720 4551(updates)N
1038(lastByte)X
1378(after)X
1579(it)X
1657(adds)X
1857(data,)X
2066(and)X
2229(the)X
2371(kernel)X
2636(moves)X
2911(\256rstByte)X
3266(to)X
3365(re\257ect)X
3630(client)X
3869(reads.)X
920 4692(To)N
1054(summarize)X
1504(the)X
1649(buffering)X
2035(scheme,)X
2376(the)X
2522(server)X
2785(has)X
2941(a)X
3012(request)X
3318(buffer)X
3581(associated)X
4005(with)X
720 4800(each)N
924(request)X
1229(stream,)X
1537(and)X
1703(possibly)X
2050(a)X
2120(read-ahead)X
2570(buffer)X
2832(for)X
2970(each)X
3173(stream.)X
3504(These)X
3760(buffers)X
4058(are)X
720 4908(allocated)N
1095(by)X
1217(the)X
1361(server,)X
1646(and)X
1811(an)X
1929(iocontrol\(\))X
2368(call)X
2535(is)X
2626(used)X
2829(to)X
2931(tell)X
3082(the)X
3227(kernel)X
3495(the)X
3640(size)X
3817(and)X
3983(loca-)X
720 5016(tion)N
907(of)X
1024(each)X
1238(buffer.)X
1558(The)X
1745(kernel)X
2023(puts)X
2219(request)X
2533(messages)X
2932(directly)X
3263(into)X
3449(the)X
3603(request)X
3917(buffer.)X
720 5124(The)N
900(server's)X
1234(read\(\))X
1494(call)X
1664(on)X
1790(the)X
1939(request)X
2248(stream)X
2536(returns)X
2834(the)X
2983(current)X
3287(values)X
3564(of)X
3675(\256rstByte)X
4037(and)X
720 5232(lastByte)N
1081(for)X
1238(both)X
1454(buffers.)X
1819(The)X
2013(server)X
2292(updates)X
2630(the)X
2792(pointers)X
3146(\(the)X
3340(request)X
3662(\256rstByte)X
4037(and)X
720 5340(read-ahead)N
1170(lastByte\))X
1545(by)X
1668(making)X
1984(an)X
2102(iocontrol\(\))X
2541(on)X
2664(the)X
2809(request)X
3114(stream.)X
3446(The)X
3623(iocontrol)X
3999(calls)X
720 5448(available)N
1093(to)X
1192(the)X
1334(server)X
1593(are)X
1735(summarized)X
2230(in)X
2329(Table)X
2573(2.)X
3 f
2424 6048(6)N

7 p
%%Page: 7 7
12 s 12 xH 0 xS 3 f
1 f
10 s
1845 1442(r3)N
1845 1250(r2)N
1845 1111(r1)N
4 Ds
1 Dt
2075 1301 MXY
-394 0 Dl
2075 1130 MXY
-394 0 Dl
2075 1514 MXY
-394 0 Dl
2075 1023 MXY
-394 0 Dl
1854 1899(\(a\))N
-1 Ds
1681 895 MXY
0 854 Dl
394 0 Dl
0 -854 Dl
-394 0 Dl
1314 1023(\256rstByte)N
1327 1514(lastByte)N
2353 1442(r3)N
2353 1250(r2)N
2353 1111(r1)N
4 Ds
2583 1301 MXY
-394 0 Dl
2583 1130 MXY
-394 0 Dl
2583 1514 MXY
-394 0 Dl
2583 1023 MXY
-394 0 Dl
-1 Ds
895 MY
0 854 Dl
394 0 Dl
0 -854 Dl
-394 0 Dl
4 Ds
2583 1707 MXY
-394 0 Dl
2353 1634(r4)N
2360 1899(\(b\))N
2871(\(c\))X
-1 Ds
2698 895 MXY
0 854 Dl
393 0 Dl
0 -854 Dl
-393 0 Dl
3370 1057(r5)N
4 Ds
3600 1130 MXY
-394 0 Dl
-1 Ds
895 MY
0 854 Dl
394 0 Dl
0 -854 Dl
-394 0 Dl
3377 1899(\(d\))N
4 Ds
3095 1707 MXY
-393 0 Dl
-1 Ds
1665 1023 MXY
-30 -18 Dl
11 18 Dl
-11 19 Dl
30 -19 Dl
1514 MY
-30 -18 Dl
11 18 Dl
-11 19 Dl
30 -19 Dl
2177 1023 MXY
-29 -18 Dl
10 18 Dl
-10 19 Dl
29 -19 Dl
2166 1707 MXY
-29 -19 Dl
11 19 Dl
-11 18 Dl
29 -18 Dl
2679 MX
-29 -19 Dl
10 19 Dl
-10 18 Dl
29 -18 Dl
1728 MY
-29 -19 Dl
10 19 Dl
-10 19 Dl
29 -19 Dl
3192 895 MXY
-30 -19 Dl
11 19 Dl
-11 19 Dl
30 -19 Dl
3202 1130 MXY
-29 -19 Dl
10 19 Dl
-10 19 Dl
29 -19 Dl
3 Dt
-1 Ds
3 f
11 s
880 2095(Figure)N
1155(3.)X
1 f
1268(This)X
1450(\256gure)X
1680(shows)X
1924(the)X
2057(way)X
2228(the)X
2361(\256rstByte)X
2690(and)X
2842(lastByte)X
3157(pointers)X
3466(into)X
3629(the)X
3762(request)X
880 2194(buffer)N
1121(are)X
1254(used.)X
1485(Initially)X
1792(there)X
1994(are)X
2127(3)X
2197(outstanding)X
2635(requests)X
2949(in)X
3044(the)X
3178(buffer.)X
3462(The)X
3625(subsequent)X
880 2293(pictures)N
1188(show)X
1402(the)X
1539(addition)X
1858(of)X
1960(a)X
2028(new)X
2203(request,)X
2508(an)X
2620(empty)X
2870(buffer)X
3113(\(the)X
3279(server)X
3523(has)X
3670(processed)X
880 2392(the)N
1025(requests\),)X
1401(and)X
1565(\256nally)X
1828(the)X
1973(addition)X
2300(of)X
2410(a)X
2486(new)X
2669(request)X
2960(back)X
3163(at)X
3264(the)X
3409(beginning)X
3799(of)X
3908(the)X
880 2491(buffer.)N
12 s
10 f
822 2665(i)N
857(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1913 2764(Server)N
2164(I/O)X
2303(Control)X
2595(Operations)X
12 s
10 f
822 2767(i)N
857(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
822 2783(i)N
857(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
870 2874(IOC_PDEV_SET_BUFS)N
2240(Declare)X
2535(request)X
2811(and)X
2960(read-ahead)X
3367(buffers)X
870 2973(IOC_PDEV_WRITE_BEHIND)N
2240(Enable)X
2507(write-behind)X
2979(on)X
3089(the)X
3219(pseudo-device)X
12 s
10 f
822 2984(i)N
857(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
870 3083(IOC_PDEV_SET_BUF_PTRS)N
2240(Set)X
2375(request)X
2651(\256rstByte)X
2977(and)X
3126(read-ahead)X
3533(lastByte)X
870 3182(IOC_PDEV_REPLY)N
2240(Give)X
2433(return)X
2665(code)X
2853(and)X
3002(the)X
3132(address)X
3417(of)X
3512(the)X
3642(results)X
870 3281(IOC_PDEV_READY)N
2240(Indicate)X
2546(the)X
2676(pseudo-device)X
3206(is)X
3287(ready)X
3504(for)X
3628(I/O)X
12 s
10 f
822 3293(i)N
857(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
822(c)X
3241(c)Y
3145(c)Y
3049(c)Y
2953(c)Y
2857(c)Y
2761(c)Y
4073 3293(c)N
3241(c)Y
3145(c)Y
3049(c)Y
2953(c)Y
2857(c)Y
2761(c)Y
3 f
11 s
880 3458(Table)N
1134(2.)X
1 f
1260(The)X
1435(server)X
1687(uses)X
1876(these)X
2095(iocontrol\(\))X
2510(calls)X
2710(to)X
2817(complete)X
3179(its)X
3301(half)X
3476(of)X
3587(the)X
3733(request-)X
880 3557(response)N
1214(protocol.)X
1557(The)X
1721(\256rst)X
1885(two)X
2044(operations)X
2437(are)X
2570(invoked)X
2880(to)X
2975(set)X
3099(up)X
3213(the)X
3347(request)X
3627(buffer,)X
3889(and)X
880 3656(the)N
1010(remaining)X
1390(three)X
1588(are)X
1717(used)X
1900(when)X
2112(handling)X
2443(requests.)X
3 f
12 s
720 3893(4.3.)N
912(Waiting)X
1267(for)X
1414(I/O)X
1 f
920 4034(Normal)N
1244(I/O)X
1402(devices)X
1721(include)X
2035(a)X
2108(mechanism)X
2577(for)X
2719(blocking)X
3086(processes)X
3484(if)X
3573(the)X
3722(device)X
4005(isn't)X
720 4142(ready)N
964(for)X
1106(input)X
1334(\(because)X
1701(no)X
1827(data)X
2018(is)X
2112(present\))X
2452(or)X
2562(output)X
2838(\(because)X
3205(the)X
3353(output)X
3629(buffer)X
3893(is)X
3986(full\).)X
720 4250(To)N
864(be)X
992(fully)X
1211(general,)X
1556(pseudo-devices)X
2186(must)X
2410(also)X
2602(include)X
2924(a)X
3005(blocking)X
3380(mechanism,)X
3881(and)X
4058(the)X
720 4358(server)N
993(must)X
1218(be)X
1347(able)X
1546(to)X
1659(specify)X
1975(whether)X
2323(or)X
2441(not)X
2602(the)X
2758(device)X
3048(is)X
3150(``ready''.)X
3578(One)X
3775(possibility)X
720 4466(would)N
1002(be)X
1135(for)X
1289(the)X
1449(kernel)X
1732(to)X
1849(make)X
2100(a)X
2186(request)X
2507(of)X
2630(the)X
2791(server)X
3069(whenever)X
3486(it)X
3583(needs)X
3845(to)X
3963(know)X
720 4574(whether)N
1061(a)X
1135(pseudo-device)X
1722(is)X
1817(ready,)X
2086(such)X
2293(as)X
2403(during)X
2684(read,)X
2904(write,)X
3156(and)X
3325(select\262)X
3623(calls.)X
3878(We)X
4042(ini-)X
720 4682(tially)N
953(implemented)X
1491(pseudo-devices)X
2118(this)X
2291(way.)X
2533(Unfortunately,)X
3132(it)X
3221(resulted)X
3561(in)X
3671(an)X
3797(enormous)X
720 4790(number)N
1040(of)X
1146(context)X
1456(switches)X
1813(into)X
1989(and)X
2154(out)X
2303(of)X
2409(server)X
2670(processes.)X
3112(The)X
3288(worst)X
3527(case)X
3719(was)X
3893(a)X
3961(client)X
720 4898(process)N
1046(issuing)X
1356(a)X
1437(select)X
1695(call)X
1873(on)X
2007(several)X
2318(pseudo-devices;)X
3000(most)X
3226(of)X
3345(the)X
3502(time)X
3713(most)X
3939(of)X
4058(the)X
720 5006(pseudo-devices)N
1337(were)X
1548(not)X
1695(ready,)X
1957(so)X
2066(the)X
2208(servers)X
2504(were)X
2715(invoked)X
3049(needlessly.)X
11 s
10 f
720 5105(h)N
728(hhhhhhhhhhhhhhhhhhhhhhhhhh)X
1 f
892 5223(\262)N
963(The)X
1127(select\(\))X
1413(call)X
1568(is)X
1654(used)X
1842(to)X
1938(wait)X
2117(for)X
2246(several)X
2522(I/O)X
2666(streams)X
2962(at)X
3053(once.)X
3290(Each)X
3493(stream)X
3755(is)X
3842(identi\256ed)X
720 5322(by)N
836(a)X
903(small)X
1123(integer,)X
1418(and)X
1573(select)X
1802(takes)X
2011(as)X
2112(an)X
2223(argument)X
2584(a)X
2651(bitmask)X
2959(that)X
3120(has)X
3265(a)X
3331(bit)X
3452(set)X
3577(corresponding)X
4107(to)X
720 5421(each)N
907(stream)X
1168(that)X
1327(is)X
1412(being)X
1634(waited)X
1895(on.)X
2053(Select)X
2295(is)X
2380(used)X
2567(to)X
2662(wait)X
2840(for)X
2968(streams)X
3263(to)X
3358(become)X
3658(readable,)X
4005(writ-)X
720 5520(able,)N
911(or)X
1006(to)X
1097(have)X
1285(exceptional)X
1714(conditions.)X
3 f
12 s
2424 6048(7)N

8 p
%%Page: 8 8
12 s 12 xH 0 xS 3 f
1 f
920 780(We)N
1082(subsequently)X
1612 0.2452(re-implemented)AX
2252(pseudo-devices)X
2874(so)X
2988(that)X
3162(the)X
3309(kernel)X
3579(maintains)X
3983(three)X
720 888(bits)N
887(of)X
995(state)X
1200(information)X
1683(for)X
1823(each)X
2027(pseudo-device,)X
2634(corresponding)X
3211(to)X
3313(the)X
3458(readable,)X
3836(writable,)X
720 996(and)N
891(exception)X
1298(masks)X
1570(for)X
1714(the)X
1864(select)X
2116(kernel)X
2390(call.)X
2611(The)X
2794(pseudo-device)X
3383(server)X
3651(updates)X
3978(these)X
720 1104(bits)N
893(with)X
1098(each)X
1309(reply)X
1540(iocontrol)X
1921(and)X
2093(can)X
2260(also)X
2448(change)X
2754(them)X
2980(with)X
3184(the)X
3335(IOC_PDEV_READY)X
720 1212(iocontrol.)N
1159(This)X
1373(mechanism)X
1855(allows)X
2149(the)X
2310(kernel)X
2594(to)X
2712(\256nd)X
2904(out)X
3071(whether)X
3425(a)X
3512(pseudo-device)X
4112(is)X
720 1320(ready)N
970(without)X
1300(contacting)X
1738(the)X
1892(server)X
2163(and)X
2337(resulted)X
2677(in)X
2787(a)X
2865(signi\256cant)X
3301(performance)X
3823(improve-)X
720 1428(ment)N
952(for)X
1103(select.)X
1410(In)X
1529(addition,)X
1908(the)X
2066(server)X
2341(can)X
2515(return)X
2785(the)X
2943(EWOULDBLOCK)X
3724(return)X
3994(code)X
720 1536(from)N
939(a)X
1013(read)X
1210(or)X
1321(write)X
1550(request;)X
1886(the)X
2035(kernel)X
2307(will)X
2488(take)X
2680(care)X
2872(of)X
2983(blocking)X
3351(the)X
3500(process)X
3819(\(unless)X
4122(it)X
720 1644(has)N
872(requested)X
1266(non-blocking)X
1804(I/O\))X
1989(and)X
2153(will)X
2328(reawaken)X
2722(the)X
2865(process)X
3178(and)X
3342(retry)X
3549(its)X
3665(request)X
3968(when)X
720 1752(the)N
888(pseudo-device)X
1494(becomes)X
1881(ready)X
2145(again.)X
2452(Thus)X
2694(the)X
2862(pseudo-device)X
3468(server)X
3753(determines)X
720 1860(whether)N
1063(or)X
1176(not)X
1332(the)X
1483(device)X
1768(is)X
1865(ready,)X
2136(but)X
2292(the)X
2443(kernel)X
2717(handles)X
3045(the)X
3197(logistics)X
3552(of)X
3666(blocking)X
4037(and)X
720 1968(unblocking)N
1177(processes.)X
3 f
720 2172(4.4.)N
912(Network)X
1293(Transparency)X
1 f
920 2313(The)N
1115(Sprite)X
1390(\256le)X
1558(system)X
1870(provides)X
2246(a)X
2334(network-wide)X
2913(name)X
3167(space)X
3426(and)X
3610(remote)X
3924(device)X
720 2421(access)N
998(so)X
1115(the)X
1265(pseudo-device)X
1853(server)X
2120(is)X
2216(not)X
2371(constrained)X
2846(to)X
2952(execute)X
3278(on)X
3405(the)X
3554(same)X
3783(host)X
3974(as)X
4085(its)X
720 2529(clients.)N
1052(An)X
1201(operation)X
1598(by)X
1727(a)X
1803(client)X
2051(on)X
2180(a)X
2256(remote)X
2557(pseudo-device)X
3146(is)X
3243(\256rst)X
3425(shipped)X
3757(to)X
3865(the)X
4016(host)X
720 2637(running)N
1047(the)X
1193(pseudo-device)X
1777(server)X
2040(using)X
2276(the)X
2422(kernel's)X
2760(network)X
3103(RPC.)X
3360(The)X
3538(kernel)X
3807(RPC)X
4016(stub)X
720 2745(on)N
867(the)X
1036(server's)X
1391(host)X
1602(then)X
1819(calls)X
2047(the)X
2216(regular)X
2540(pseudo-device)X
3147(routines)X
3508(to)X
3634(carry)X
3883(out)X
4058(the)X
720 2853(request-response)N
1395(exchange)X
1788(with)X
1988(the)X
2135(pseudo-device)X
2719(server.)X
3030(This)X
3229(is)X
3321(all)X
3446(transparent)X
3902(to)X
4005(both)X
720 2961(the)N
862(client)X
1101(and)X
1264(the)X
1406(server)X
1665(processes.)X
3 f
720 3165(4.5.)N
912(Crash)X
1186(recovery)X
1 f
920 3306(The)N
1106(client)X
1357(process)X
1681(is)X
1782(dependent)X
2215(on)X
2348(the)X
2503(server)X
2775(process)X
3100(to)X
3212(faithfully)X
3608(implement)X
4058(the)X
720 3414(pseudo-device.)N
1363(If)X
1465(the)X
1621(server)X
1894(hangs)X
2156(without)X
2488(returning)X
2879(a)X
2960(reply,)X
3220(then)X
3424(the)X
3580(client)X
3833(will)X
4021(also)X
720 3522(hang)N
934(until)X
1138(the)X
1283(server)X
1545(process)X
1861(is)X
1953(killed)X
2201(or)X
2309(replies.)X
2642(If)X
2734(either)X
2982(the)X
3128(client)X
3371(or)X
3479(the)X
3625(server)X
3888(process)X
720 3630(dies,)N
943(or)X
1067(their)X
1288(host)X
1492(crashes,)X
1843(then)X
2053(their)X
2274(stream)X
2574(to)X
2692(the)X
2853(pseudo-device)X
3452 0.2813(automatically)AX
4021(gets)X
720 3738(closed.)N
1042(When)X
1300(the)X
1446(client)X
1689(closes,)X
1976(the)X
2122(server)X
2385(gets)X
2568(a)X
2639(regular)X
2940(close)X
3166(request.)X
3520(If)X
3612(the)X
3758(server)X
4021(dies)X
720 3846(then)N
924(current)X
1235(or)X
1353(future)X
1621(attempts)X
1986(by)X
2120(the)X
2276(client)X
2529(to)X
2642(use)X
2808(its)X
2936(stream)X
3230(will)X
3417(fail.)X
3631(Note)X
3855(that)X
4037(this)X
720 3954(applies)N
1017(even)X
1223(when)X
1455(write-behind)X
1971(is)X
2059(enabled.)X
3 f
720 4158(5.)N
840(Performance)X
1399(Review)X
1 f
920 4299(This)N
1131(section)X
1444(of)X
1564(the)X
1722(paper)X
1976(presents)X
2331(a)X
2414(few)X
2599(performance)X
3127(measurements)X
3719(for)X
3872(pseudo-)X
720 4407(devices.)N
1097(There)X
1361(are)X
1518(a)X
1600(number)X
1933(of)X
2052(contributions)X
2599(to)X
2713(the)X
2870(communication)X
3509(cost:)X
3730(system)X
4036(call)X
720 4515(overhead,)N
1131(context)X
1449(switching,)X
1881(copy)X
2103(costs,)X
2354(network)X
2704(communication,)X
3363(synchronization,)X
4037(and)X
720 4623(other)N
946(software)X
1305(overhead.)X
1710(For)X
1871(comparison,)X
2372(UNIX)X
2639(TCP)X
2843(and)X
3009(UDP)X
3227(sockets,)X
3561(and)X
3727(pipes)X
3957(under)X
720 4731(both)N
918(Sprite)X
1175(and)X
1341(UNIX)X
1607(were)X
1821(also)X
2004(measured.)X
2449(The)X
2627(hardware)X
3013(used)X
3217(in)X
3320(the)X
3466(tests)X
3665(is)X
3757(a)X
3828(Sun)X
4005(3/75)X
720 4839(with)N
915(8)X
987(megabytes)X
1423(of)X
1527(main)X
1744(memory,)X
2113(and)X
2276(the)X
2418(UNIX)X
2681(is)X
2769(SunOS)X
3064(3.2.)X
920 4980(Each)N
1144(of)X
1255(the)X
1404(benchmarks)X
1900(uses)X
2096(some)X
2330(communication)X
2962(mechanism)X
3433(to)X
3540(switch)X
3823(back)X
4037(and)X
720 5088(forth)N
937(between)X
1287(the)X
1434(client)X
1678(and)X
1846(the)X
1993(server)X
2257(process.)X
2622(Each)X
2844(communication)X
3473(exchange)X
3866(requires)X
720 5196(four)N
913(kernel)X
1187(calls)X
1397(and)X
1569(two)X
1747(context)X
2065(switches.)X
2478(With)X
2705(pseudo-devices,)X
3356(the)X
3508(client)X
3757(makes)X
4037(one)X
720 5304(system)N
1026(call)X
1205(and)X
1383(gets)X
1577(blocked)X
1921(waiting)X
2248(for)X
2398(the)X
2554(server.)X
2875(The)X
3063(pseudo-device)X
3657(server)X
3930(makes)X
720 5412(three)N
943(system)X
1240(calls)X
1447(to)X
1552(handle)X
1839(each)X
2046(request:)X
2381(one)X
2550(to)X
2655(read)X
2851(the)X
2999(request)X
3307(stream,)X
3618(one)X
3787(to)X
3893(make)X
4133(a)X
720 5520(reply,)N
983(and)X
1163(one)X
1343(to)X
1459(update)X
1756(the)X
1914(\256rstByte)X
2285(pointer)X
2598(into)X
2788(the)X
2946(request)X
3264(buffer.)X
3587(With)X
3820(the)X
3978(other)X
720 5628(mechanisms)N
1220(the)X
1363(client)X
1603(makes)X
1874(two)X
2043(system)X
2335(calls:)X
2564(one)X
2728(to)X
2828(prod)X
3029(the)X
3172(server)X
3432(and)X
3596(another)X
3910(to)X
4010(wait)X
720 5736(for)N
862(a)X
935(response.)X
1349(The)X
1529(server)X
1794(makes)X
2070(two)X
2244(system)X
2541(calls)X
2748(as)X
2858(well:)X
3081(one)X
3249(to)X
3353(respond)X
3686(to)X
3790(the)X
3937(client,)X
3 f
2424 6048(8)N

9 p
%%Page: 9 9
12 s 12 xH 0 xS 3 f
1 f
10 s
3182 1281(blocked)N
3182 1074(executing)N
16 Ds
1 Dt
2809 1281 MXY
259 0 Dl
-1 Ds
3 Dt
2809 1094 MXY
259 0 Dl
2247 2018(Server)N
1446 2028(Client)N
1553 876 MXY
0 166 Dl
1446 1125(Send\(\))N
1553 1167 MXY
0 52 Dl
1397 1292(Receive\(\))N
1553 1717 MXY
0 145 Dl
2186 959(Receive\(\))N
2352 1354 MXY
0 135 Dl
2245 1572(Send\(\))N
16 Ds
1 Dt
1553 1312 MXY
0 405 Dl
2352 1354 MXY
0 -353 Dl
-1 Ds
1709 1105 MXY
581 228 Dl
-18 -29 Dl
2 21 Dl
-18 12 Dl
34 -4 Dl
2207 1541 MXY
-581 145 Dl
3 Dt
2352 1592 MXY
0 52 Dl
2196 1738(Receive\(\))N
16 Ds
1 Dt
2352 1779 MXY
0 83 Dl
-1 Ds
1626 1686 MXY
31 12 Dl
-13 -16 Dl
6 -20 Dl
-24 24 Dl
3286 1541 MXY
0 311 Dl
18 -29 Dl
-18 11 Dl
-18 -11 Dl
18 29 Dl
3082 1720(time)N
3 Dt
-1 Ds
3 f
11 s
880 2224(Figure)N
1163(4.)X
1 f
1284(This)X
1474(shows)X
1726(the)X
1868(\257ow)X
2058(of)X
2165(control)X
2449(between)X
2776(two)X
2942(processes)X
3312(that)X
3479(exchange)X
3845(mes-)X
880 2323(sages.)N
1140(Initially)X
1447(the)X
1581(server)X
1821(is)X
1905(waiting)X
2195(for)X
2322(a)X
2386(message)X
2709(from)X
2905(the)X
3038(client.)X
3304(The)X
3466(client)X
3688(sends)X
3908(the)X
880 2422(message)N
1205(and)X
1359(then)X
1538(blocks)X
1795(waiting)X
2087(for)X
2217(a)X
2284(reply.)X
2537(The)X
2702(client)X
2927(executes)X
3258(again)X
3477(after)X
3666(the)X
3802(server)X
880 2521(waits)N
1098(for)X
1232(the)X
1372(next)X
1556(request.)X
1886(Each)X
2094(benchmark)X
2517(has)X
2665(a)X
2735(similar)X
3012(structure,)X
3373(although)X
3713(different)X
880 2620(primitives)N
1261(are)X
1390(used)X
1573(for)X
1697(the)X
1827(Send\(\))X
2083(and)X
2232(Receive\(\))X
2596(operations)X
2985(shown)X
3236(here.)X
12 s
720 2857(and)N
883(one)X
1046(more)X
1268(to)X
1367(wait)X
1557(for)X
1693(the)X
1835(next)X
2025(request.)X
2375(The)X
2549(\257ow)X
2743(of)X
2847(control)X
3144(is)X
3232(shown)X
3506(in)X
3605(Figure)X
3880(4.)X
920 2998(Table)N
1187(3)X
1282(presents)X
1644(the)X
1809(elapsed)X
2145(time)X
2365(for)X
2525(a)X
2616(round-trip)X
3054(between)X
3423(processes)X
3839(for)X
3999(each)X
720 3106(mechanism)N
1189(when)X
1427(sending)X
1756(little)X
1964(or)X
2074(no)X
2200(data.)X
2439(The)X
2618(measurements)X
3198(were)X
3414(made)X
3652(by)X
3777(timing)X
4058(the)X
720 3214(cost)N
924(of)X
1053(several)X
1375(thousand)X
1772(round-trips)X
2249(and)X
2438(averaging)X
2868(the)X
3036(results.)X
3385(The)X
3585(measured)X
4004(time)X
720 3322(includes)N
1071(time)X
1273(spent)X
1505(in)X
1609(the)X
1756(user-level)X
2165(processes.)X
2610(In)X
2719(the)X
2866(second)X
3162(half)X
3341(of)X
3450(the)X
3597(table)X
3814(the)X
3961(client)X
10 f
1549 3463(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1865 3562(Process)N
2155(Communication)X
2747(Latency)X
12 s
10 f
1549 3573(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
2177 3672(\(microseconds\))N
12 s
10 f
1549 3683(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1549 3694(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1685 3793(Benchmark)N
2332(Bytes)X
2695(Sprite)X
3070(UNIX)X
12 s
10 f
1549 3804(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1549 3815(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1597 3914(PipeExchange)N
2460(1)X
2721(1910)X
3099(2180)X
12 s
10 f
1549 3925(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1597 4024(Pseudo-Device)N
2460(0)X
2721(2050)X
3165(-)X
12 s
10 f
1549 4035(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1597 4134(Pseudo-Device)N
2460(1)X
2721(2440)X
3165(-)X
12 s
10 f
1549 4145(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1597 4244(UDP)N
1794(socket)X
2460(1)X
2786(-)X
3099(1940)X
12 s
10 f
1549 4255(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1597 4354(TCP)N
1781(socket)X
2372(100)X
2786(-)X
3099(5180)X
12 s
10 f
1549 4365(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1549 4376(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1597 4475(Remote)N
1894(Pdev)X
2460(0)X
2721(4260)X
3165(-)X
12 s
10 f
1549 4486(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1597 4585(Remote)N
1894(Pdev)X
2460(1)X
2721(5000)X
3165(-)X
12 s
10 f
1549 4596(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1597 4695(Remote)N
1894(UDP)X
2460(1)X
2786(-)X
3099(4870)X
12 s
10 f
1549 4706(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1597 4805(Remote)N
1894(TCP)X
2372(100)X
2786(-)X
3099(7980)X
12 s
10 f
1549 4817(i)N
1571(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1549(c)X
4807(c)Y
4711(c)Y
4615(c)Y
4519(c)Y
4423(c)Y
4327(c)Y
4231(c)Y
4135(c)Y
4039(c)Y
3943(c)Y
3847(c)Y
3751(c)Y
3655(c)Y
3559(c)Y
2251 4817(c)N
4740(c)Y
4644(c)Y
4548(c)Y
4452(c)Y
4356(c)Y
4260(c)Y
4164(c)Y
4068(c)Y
3972(c)Y
3876(c)Y
3780(c)Y
2614 4817(c)N
4740(c)Y
4644(c)Y
4548(c)Y
4452(c)Y
4356(c)Y
4260(c)Y
4164(c)Y
4068(c)Y
3972(c)Y
3876(c)Y
3780(c)Y
2988 4817(c)N
4740(c)Y
4644(c)Y
4548(c)Y
4452(c)Y
4356(c)Y
4260(c)Y
4164(c)Y
4068(c)Y
3972(c)Y
3876(c)Y
3780(c)Y
3347 4817(c)N
4807(c)Y
4711(c)Y
4615(c)Y
4519(c)Y
4423(c)Y
4327(c)Y
4231(c)Y
4135(c)Y
4039(c)Y
3943(c)Y
3847(c)Y
3751(c)Y
3655(c)Y
3559(c)Y
3 f
11 s
880 4982(Table)N
1126(3.)X
1 f
1244(The)X
1411(results)X
1671(of)X
1774(various)X
2063(benchmarks)X
2519(running)X
2824(on)X
2943(a)X
3013(Sun)X
3181(3/75)X
3369(workstation)X
3816(under)X
880 5081(Sprite)N
1119(and/or)X
1372(UNIX.)X
1661(Each)X
1864(benchmark)X
2282(involves)X
2608(two)X
2767(communicating)X
3344(processes:)X
3732(PipeEx-)X
880 5180(change)N
1173(passes)X
1441(one)X
1612(byte)X
1808(between)X
2145(processes)X
2525(using)X
2760(pipes,)X
3012(Pseudo-Device)X
3588(does)X
3794(a)X
3878(null)X
880 5279(iocontrol\(\))N
1279(call)X
1429(on)X
1539(a)X
1600(pseudo-device,)X
2152(UDP)X
2349(exchanges)X
2737(1)X
2803(byte)X
2977(using)X
3190(a)X
3251(UNIX)X
3491(UDP)X
3688(datagram)X
880 5378(socket,)N
1151(and)X
1302(TCP)X
1488(exchanges)X
1879(100)X
2036(bytes)X
2247(\(to)X
2370(avoid)X
2591(buffering)X
2943(in)X
3037(the)X
3170(protocol\))X
3518(using)X
3734(a)X
3798(UNIX)X
880 5477(TCP)N
1064(stream)X
1321(socket.)X
3 f
12 s
2424 6048(9)N

10 p
%%Page: 10 10
12 s 12 xH 0 xS 3 f
1 f
720 780(and)N
883(server)X
1142(processes)X
1534(are)X
1676(on)X
1796(different)X
2152(hosts)X
2373(so)X
2482(there)X
2699(are)X
2841(network)X
3180(costs.)X
920 921(The)N
1103(difference)X
1527(between)X
1881(exchanging)X
2358(zero)X
2558(bytes)X
2795(and)X
2968(one)X
3141(byte)X
3341(using)X
3583(pseudo-devices)X
720 1029(highlights)N
1132(the)X
1277(memory)X
1625(mapping)X
1989(overhead)X
2369(incurred)X
2717(in)X
2819(the)X
2964(pseudo-device)X
3546 0.2366(implementation.)AX
720 1137(When)N
974(the)X
1116(kernel)X
1381(puts)X
1565(a)X
1632(request)X
1934(into)X
2108(the)X
2250(server's)X
2578(buffer)X
2837(it)X
2915(is)X
3003(running)X
3326(on)X
3447(behalf)X
3713(of)X
3818(the)X
3961(client)X
720 1245(process.)N
1084(On)X
1229(the)X
1375(Sun)X
1552(hardware)X
1938(only)X
2137(one)X
2304(user)X
2492(process's)X
2877(address)X
3193(space)X
3435(is)X
3527(visible)X
3812(at)X
3910(a)X
3980(time,)X
720 1353(so)N
834(it)X
917(is)X
1010(necessary)X
1413(to)X
1517(map)X
1712(the)X
1859(server's)X
2192(buffer)X
2456(into)X
2635(the)X
2782(kernel's)X
3121(address)X
3438(space)X
3681(before)X
3957(copy-)X
720 1461(ing)N
888(into)X
1083(it.)X
1206(Similarly,)X
1634(when)X
1886(the)X
2048(server)X
2327(returns)X
2638(reply)X
2880(data)X
3085(the)X
3247(client's)X
3575(buffer)X
3854(must)X
4085(be)X
720 1569(mapped)N
1060(in.)X
1218(The)X
1403(mapping)X
1776(is)X
1876(done)X
2099(twice)X
2344(each)X
2557(iteration)X
2915(because)X
3256(data)X
3453(is)X
3553(sent)X
3744(both)X
3951(direc-)X
720 1677(tions,)N
955(and)X
1118(obvious)X
1446(optimizations,)X
2019(i.e.)X
2161(caching)X
2485(the)X
2627(mappings,)X
3049(have)X
3255(not)X
3402(been)X
3608(implemented.)X
-1 Ds
3 Dt
960 4174 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
961 4124 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-38 0 Dl
1060 4114 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-38 0 Dl
1089 4112 MXY
0 38 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
1217 4101 MXY
0 39 Dl
0 -19 Dl
20 0 Dl
-39 0 Dl
1474 4079 MXY
0 39 Dl
0 -19 Dl
20 0 Dl
-39 0 Dl
1989 4020 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
2246 4003 MXY
0 39 Dl
0 -20 Dl
20 0 Dl
-39 0 Dl
2503 3988 MXY
0 39 Dl
0 -20 Dl
20 0 Dl
-39 0 Dl
2761 3978 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
3018 3965 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
4 Ds
1 Dt
960 4193 MXY
1 -50 Dl
99 -9 Dl
29 -3 Dl
128 -10 Dl
257 -22 Dl
515 -59 Dl
257 -18 Dl
257 -15 Dl
258 -9 Dl
257 -13 Dl
-1 Ds
3 Dt
960 3904 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
961 3812 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-38 0 Dl
1060 3793 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-38 0 Dl
1089 3771 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
1217 3727 MXY
0 39 Dl
0 -19 Dl
20 0 Dl
-39 0 Dl
1474 3637 MXY
0 39 Dl
0 -19 Dl
20 0 Dl
-39 0 Dl
1989 3459 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
2246 3373 MXY
0 39 Dl
0 -19 Dl
20 0 Dl
-39 0 Dl
2503 3163 MXY
0 39 Dl
0 -19 Dl
20 0 Dl
-39 0 Dl
2761 3083 MXY
0 38 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
3018 3020 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
4 Ds
1 Dt
960 3924 MXY
1 -93 Dl
99 -18 Dl
29 -22 Dl
128 -44 Dl
257 -90 Dl
515 -178 Dl
257 -86 Dl
257 -210 Dl
258 -81 Dl
257 -63 Dl
-1 Ds
3 Dt
992 3814 MXY
0 39 Dl
0 -20 Dl
20 0 Dl
-39 0 Dl
1024 3795 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
1060 3812 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-38 0 Dl
1089 3696 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
1217 3583 MXY
0 39 Dl
0 -20 Dl
20 0 Dl
-39 0 Dl
1474 3314 MXY
0 38 Dl
0 -19 Dl
20 0 Dl
-39 0 Dl
1965 2727 MXY
0 38 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
1989 3552 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
2503 2673 MXY
0 39 Dl
0 -19 Dl
20 0 Dl
-39 0 Dl
2761 2545 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
3018 2916 MXY
0 38 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
16 Ds
1 Dt
992 3833 MXY
32 -19 Dl
36 17 Dl
29 -116 Dl
128 -113 Dl
257 -269 Dl
491 -587 Dl
24 826 Dl
514 -879 Dl
258 -129 Dl
257 371 Dl
-1 Ds
3 Dt
992 3576 MXY
0 39 Dl
0 -20 Dl
20 0 Dl
-39 0 Dl
1024 3542 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
1060 3440 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-38 0 Dl
1089 3274 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
1217 3081 MXY
0 39 Dl
0 -19 Dl
20 0 Dl
-39 0 Dl
1474 2753 MXY
0 39 Dl
0 -19 Dl
20 0 Dl
-39 0 Dl
1965 2116 MXY
0 38 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
1989 2887 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
3018 2329 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
16 Ds
1 Dt
992 3595 MXY
32 -34 Dl
36 -101 Dl
29 -166 Dl
128 -193 Dl
257 -328 Dl
491 -638 Dl
24 771 Dl
1029 -557 Dl
-1 Ds
3 Dt
992 4193 MXY
0 39 Dl
0 -19 Dl
20 0 Dl
-39 0 Dl
1024 4190 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
1089 4028 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
1217 4033 MXY
0 38 Dl
0 -19 Dl
20 0 Dl
-39 0 Dl
1474 3919 MXY
0 39 Dl
0 -19 Dl
20 0 Dl
-39 0 Dl
1965 3545 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
1989 4036 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
2246 3792 MXY
0 39 Dl
0 -20 Dl
20 0 Dl
-39 0 Dl
2503 3679 MXY
0 38 Dl
0 -19 Dl
20 0 Dl
-39 0 Dl
2761 3540 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
3018 3944 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
1 Dt
992 4213 MXY
32 -4 Dl
65 -162 Dl
128 5 Dl
257 -113 Dl
491 -374 Dl
24 490 Dl
257 -244 Dl
257 -113 Dl
258 -139 Dl
257 404 Dl
3 Dt
961 3829 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-38 0 Dl
992 3763 MXY
0 39 Dl
0 -20 Dl
20 0 Dl
-39 0 Dl
1024 3620 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
1060 3557 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-38 0 Dl
1089 3462 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
1217 3398 MXY
0 39 Dl
0 -20 Dl
20 0 Dl
-39 0 Dl
1474 3209 MXY
0 39 Dl
0 -20 Dl
20 0 Dl
-39 0 Dl
1965 2839 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
1989 3374 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
2367 2796 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
3018 2528 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
1 Dt
961 3848 MXY
31 -66 Dl
32 -143 Dl
36 -63 Dl
29 -94 Dl
128 -65 Dl
257 -189 Dl
491 -369 Dl
24 535 Dl
378 -578 Dl
651 -269 Dl
3 Dt
961 4198 MXY
0 38 Dl
0 -19 Dl
19 0 Dl
-38 0 Dl
1060 4187 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-38 0 Dl
1089 4185 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
1217 4174 MXY
0 39 Dl
0 -20 Dl
20 0 Dl
-39 0 Dl
1474 4152 MXY
0 39 Dl
0 -20 Dl
20 0 Dl
-39 0 Dl
1989 4105 MXY
0 39 Dl
0 -20 Dl
19 0 Dl
-39 0 Dl
2246 4083 MXY
0 39 Dl
0 -20 Dl
20 0 Dl
-39 0 Dl
2503 4058 MXY
0 39 Dl
0 -20 Dl
20 0 Dl
-39 0 Dl
2761 4036 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
3018 4014 MXY
0 39 Dl
0 -19 Dl
19 0 Dl
-39 0 Dl
20 Ds
1 Dt
961 4217 MXY
99 -10 Dl
29 -2 Dl
128 -12 Dl
257 -22 Dl
515 -47 Dl
257 -22 Dl
257 -25 Dl
258 -21 Dl
257 -22 Dl
-1 Ds
5 Dt
960 4455 MXY
2058 0 Dl
960 MX
0 -2495 Dl
4455 MY
0 26 Dl
4 Ds
1 Dt
4455 MY
0 -2495 Dl
10 s
940 4588(0)N
-1 Ds
5 Dt
1474 4455 MXY
0 26 Dl
4 Ds
1 Dt
4455 MY
0 -2495 Dl
1414 4588(512)N
-1 Ds
5 Dt
1989 4455 MXY
0 26 Dl
4 Ds
1 Dt
4455 MY
0 -2495 Dl
1909 4588(1024)N
-1 Ds
5 Dt
2503 4455 MXY
0 26 Dl
4 Ds
1 Dt
4455 MY
0 -2495 Dl
2423 4588(1536)N
-1 Ds
5 Dt
3018 4455 MXY
0 26 Dl
4 Ds
1 Dt
4455 MY
0 -2495 Dl
2938 4588(2048)N
-1 Ds
5 Dt
960 4455 MXY
-26 0 Dl
4 Ds
1 Dt
960 MX
2058 0 Dl
868 4489(0)N
-1 Ds
5 Dt
960 3831 MXY
-26 0 Dl
4 Ds
1 Dt
960 MX
2058 0 Dl
868 3865(5)N
-1 Ds
5 Dt
960 3207 MXY
-26 0 Dl
4 Ds
1 Dt
960 MX
2058 0 Dl
828 3242(10)N
-1 Ds
5 Dt
960 2584 MXY
-26 0 Dl
4 Ds
1 Dt
960 MX
2058 0 Dl
828 2618(15)N
-1 Ds
5 Dt
960 1960 MXY
-26 0 Dl
4 Ds
1 Dt
960 MX
2058 0 Dl
828 1994(20)N
1924 4746(Bytes)N
718 2732(M)N
742 2822(i)N
742 2913(l)N
742 3004(l)N
742 3094(i)N
738 3185(s)N
735 3275(e)N
735 3366(c)N
733 3457(o)N
733 3547(n)N
733 3638(d)N
738 3728(s)N
-1 Ds
3251 2556 MXY
207 0 Dl
16 Ds
3251 2950 MXY
207 0 Dl
-1 Ds
3251 3947 MXY
207 0 Dl
4 Ds
3251 4038 MXY
207 0 Dl
20 Ds
3251 4122 MXY
207 0 Dl
4 Ds
3251 3054 MXY
207 0 Dl
16 Ds
3251 2349 MXY
207 0 Dl
3574 2355(Remote)N
3843(TCP)X
4009(\(UNIX\))X
3574 2556(Remote)N
3843(UDP)X
4023(\(UNIX\))X
3574 3061(Remote)N
3843(Pdev)X
4023(\(Sprite\))X
3574 2950(Local)N
3777(TCP)X
3943(\(UNIX\))X
3574 3941(Local)N
3777(UDP)X
3957(\(UNIX\))X
3574 4038(Local)N
3777(Pdev)X
3957(\(Sprite\))X
3574 4128(Local)N
3777(Pipe)X
3939(\(Sprite\))X
3 Dt
-1 Ds
3 f
11 s
880 4920(Figure)N
1159(5.)X
1 f
1276(Elapsed)X
1584(time)X
1771(per)X
1912(exchange)X
2273(vs.)X
2402(bytes)X
2617(transferred,)X
3048(local)X
3249(and)X
3405(remote,)X
3702(with)X
3889(dif-)X
880 5019(ferent)N
1108(communication)X
1681(mechanisms:)X
2164(Pseudo-devices,)X
2755(Sprite)X
2988(pipes)X
3196(\(local)X
3419(only\),)X
3649(and)X
3798(UNIX)X
880 5118(UDP)N
1080(and)X
1232(TCP)X
1419(sockets.)X
1747(The)X
1910(bytes)X
2122(were)X
2318(transferred)X
2724(in)X
2819(both)X
3002(directions.)X
3420(The)X
3583(shape)X
3809(of)X
3908(the)X
880 5217(UDP)N
1087(and)X
1246(TCP)X
1439(lines)X
1637(is)X
1727(due)X
1885(to)X
1985(the)X
2124(buffering)X
2482(scheme)X
2777(used)X
2969(in)X
3069(UNIX;)X
3343(chains)X
3599(of)X
3703(112-byte)X
880 5316(buffers)N
1168(are)X
1315(used)X
1516(until)X
1719(a)X
1798(message)X
2136(is)X
2235(1024)X
2451(bytes,)X
2699(at)X
2803(which)X
3058(point)X
3280(chains)X
3545(of)X
3659(1024-byte)X
880 5415(buffers)N
1150(are)X
1279(used.)X
3 f
12 s
2400 6048(10)N

11 p
%%Page: 11 11
12 s 12 xH 0 xS 3 f
1 f
920 780(Figure)N
1203(5)X
1284(shows)X
1556(the)X
1707(performance)X
2227(of)X
2340(the)X
2491(various)X
2807(mechanisms)X
3316(as)X
3429(the)X
3580(amount)X
3902(of)X
4015(data)X
720 888(varies.)N
1026(Data)X
1236(is)X
1328(transferred)X
1773(in)X
1875(both)X
2073(directions)X
2480(in)X
2582(the)X
2727(tests,)X
2949(and)X
3115(the)X
3260(slope)X
3490(of)X
3597(each)X
3801(line)X
3973(gives)X
720 996(the)N
881(per-byte)X
1245(handling)X
1625(cost.)X
1871(The)X
2064(graphs)X
2363(for)X
2518(UDP)X
2752(and)X
2934(TCP)X
3154(are)X
3316(non-linear)X
3756(due)X
3939(to)X
4058(the)X
720 1104(buffering)N
1110(scheme)X
1431(used)X
1639(in)X
1746(UNIX;)X
2044(chains)X
2322(of)X
2434(112)X
2610(byte)X
2808(buffers)X
3112(are)X
3262(used)X
3470(until)X
3679(a)X
3754(message)X
4112(is)X
720 1212(1024)N
936(bytes,)X
1187(at)X
1281(which)X
1540(point)X
1762(chains)X
2032(of)X
2136(1024)X
2352(byte)X
2542(buffers)X
2838(are)X
2980(used.)X
920 1353(The)N
1094(Sprite)X
1348(mechanisms)X
1848(have)X
2054(nearly)X
2320(constant)X
2666(per-byte)X
3012(costs.)X
3277(The)X
3452(unrolled)X
3798(byte)X
3989(copy)X
720 1461(routine)N
1030(used)X
1243(by)X
1376(the)X
1531(kernel)X
1809(takes)X
2044(about)X
2294(200)X
2474(microsends)X
2948(per)X
3107(kbyte.)X
3405(Data)X
3623(is)X
3723(copied)X
4016(four)X
720 1569(times)N
958(using)X
1195(pipes)X
1427(\(there)X
1681(is)X
1774(an)X
1894 0.2841(intermediate)AX
2406(kernel)X
2676(buffer\))X
2972(and)X
3140(the)X
3287(measured)X
3685(cost)X
3869(is)X
3962(about)X
720 1677(800)N
896(microsends)X
1366(per)X
1521(kbyte.)X
1814(Data)X
2027(is)X
2122(copied)X
2410(twice)X
2650(using)X
2889(pseudo-devices,)X
3537(and)X
3707(we)X
3850(expect)X
4133(a)X
720 1785(per-kbyte)N
1115(cost)X
1296(of)X
1402(400)X
1572(microseconds.)X
2175(This)X
2373(is)X
2464(obtained)X
2823(when)X
3058(transferring)X
3534(between)X
3882(1-kbyte)X
720 1893(and)N
897(2-kbytes,)X
1290(but)X
1451(we)X
1601(are)X
1757(not)X
1918(sure)X
2116(of)X
2234(the)X
2390(reason)X
2679(for)X
2829(the)X
2984(slightly)X
3310(higher)X
3593(cost)X
3785(at)X
3892(smaller)X
720 2001(transfer)N
1038(sizes.)X
920 2142(In)N
1043(the)X
1205(remote)X
1517(case,)X
1751(the)X
1913(pseudo-device)X
2513 0.2548(implementation)AX
3163(uses)X
3372(one)X
3555(kernel-to-kernel)X
720 2250(RPC)N
933(to)X
1040(forward)X
1376(the)X
1526(client's)X
1842(operation)X
2238(to)X
2344(the)X
2493(server's)X
2828(host.)X
3067(This)X
3269(adds)X
3476(about)X
3721(2.2)X
3872(msec)X
4101(to)X
720 2358(the)N
864(base)X
1061(cost)X
1242(when)X
1476(no)X
1598(data)X
1785(is)X
1875(transferred,)X
2342(and)X
2507(about)X
2747(4.3)X
2893(msec)X
3117(when)X
3352(1)X
3427(kbyte)X
3668(is)X
3759(transferred)X
720 2466(in)N
822(both)X
1020(directions.)X
1475(There)X
1727(is)X
1818(a)X
1887(jump)X
2111(in)X
2212(the)X
2356(remote)X
2650(pseudo-device)X
3232(line)X
3403(in)X
3504(Figure)X
3781(5)X
3855(between)X
720 2574(1280)N
936(and)X
1099(1536)X
1315(bytes)X
1542(when)X
1774(an)X
1889(additional)X
2299(ethernet)X
2634(packet)X
2910(is)X
2998(needed)X
3295(to)X
3394(send)X
3594(the)X
3736(data.)X
920 2715(The)N
1096(effects)X
1379(of)X
1485(write-behind)X
2003(buffering)X
2388(can)X
2549(be)X
2667(seen)X
2865(by)X
2988(comparing)X
3427(the)X
3572(costs)X
3791(of)X
3898(writing)X
720 2823(a)N
806(pseudo-device)X
1405(with)X
1618(and)X
1799(without)X
2135(write-behind.)X
2717(The)X
2909(results)X
3202(in)X
3319(Table)X
3581(4)X
3671(show)X
3915(a)X
4000(60%)X
720 2931(reduction)N
1131(in)X
1253(elapsed)X
1589(times)X
1845(for)X
2004(small)X
2260(writes.)X
2590(This)X
2808(speed-up)X
3203(is)X
3315(due)X
3502(to)X
3625(fewer)X
3892(context)X
720 3039(switches)N
1085(between)X
1440(the)X
1592(processes,)X
2018(and)X
2191(because)X
2530(the)X
2682(server)X
2951(makes)X
3231(one)X
3403(less)X
3580(system)X
3880(call)X
4053(per)X
720 3147(iteration)N
1082(because)X
1427(it)X
1521(doesn't)X
1844(return)X
2114(an)X
2245(explicit)X
2575(reply.)X
2862(The)X
3053(table)X
3282(also)X
3478(gives)X
3722(the)X
3881(optimal)X
720 3255(number)N
1042(of)X
1150(context)X
1462(switches)X
1821(possible,)X
2188(which)X
2451(is)X
2543(a)X
2614(function)X
2963(of)X
3071(the)X
3217(size)X
3395(of)X
3503(each)X
3708(request,)X
4037(and)X
720 3363(the)N
864(actual)X
1121(number)X
1441(of)X
1548(context)X
1859(switches)X
2217(taken)X
2453(during)X
2731(1000)X
2950(iterations.)X
3384(Preemptive)X
3850(schedul-)X
720 3471(ing)N
870(causes)X
1148(extra)X
1368(context)X
1679(switches.)X
2085(The)X
2262(server)X
2524(has)X
2678(a)X
2747(2048-byte)X
3163(request)X
3467(buffer)X
3728(and)X
3893(there)X
4112(is)X
720 3579(a)N
794(40-byte)X
1119(header)X
1407(on)X
1534(requests,)X
1904(so,)X
2044(for)X
2187(example,)X
2569(28)X
2696(write)X
2926(messages)X
3321(each)X
3530(with)X
3733(32)X
3861(bytes)X
4096(of)X
720 3687(data)N
912(will)X
1093(\256t)X
1204(into)X
1385(the)X
1534(request)X
1843(buffer,)X
2133(but)X
2287(only)X
2489(one)X
2659(write)X
2888(message)X
3245(with)X
3447(1024)X
3670(bytes)X
3904(of)X
4015(data)X
720 3795(will)N
900(\256t.)X
1058(A)X
1157(scheduling)X
1604(anomaly)X
1966(also)X
2151(shows)X
2420(up)X
2546(at)X
2646(1024)X
2868(bytes;)X
3128(the)X
3276(scheduler)X
3675(preempts)X
4058(the)X
720 3903(client)N
959(too)X
1106(soon)X
1311(so)X
1420(there)X
1637(are)X
1779(twice)X
2012(as)X
2116(many)X
2354(context)X
2662(switches)X
3017(as)X
3121(expected.)X
3 f
720 4107(6.)N
840(Related)X
1179(Work)X
1 f
920 4248(There)N
1181(are)X
1335(a)X
1414(number)X
1744(of)X
1860(features)X
2201(in)X
2312(existing)X
2653(operating)X
3054(systems)X
3395(that)X
3577(provide)X
3908(similar)X
720 4356(functionality)N
1254(to)X
1370(pseudo-devices,)X
2028(or)X
2149(that)X
2335(can)X
2510(be)X
2642(used)X
2859(to)X
2975(build)X
3214(up)X
3351(similar)X
3659(functionality.)X
720 4464(They)N
943(fall)X
1097(into)X
1272(three)X
1490(categories,)X
1930(byte-stream)X
2410(mechanisms,)X
2935(message-based)X
3537(or)X
3642(RPC)X
3848(systems,)X
720 4572(and)N
883(device-like)X
1336(mechanisms.)X
920 4713(Message)N
1282(systems,)X
1636(including)X
2026(RPC)X
2233(implementations,)X
2926(are)X
3070(useful)X
3331(for)X
3469(implementing)X
4032(ser-)X
720 4821(vices)N
947(outside)X
1254(the)X
1401(operating)X
1794(system)X
2090(kernel.)X
2408(However,)X
2813(they)X
3008(are)X
3155(usually)X
3461(not)X
3612(integrated)X
4026(into)X
720 4929(the)N
870(\256le)X
1025(system)X
1324(name)X
1565(space,)X
1836(so)X
1954(an)X
2078(extra)X
2304(name)X
2546(service)X
2852(is)X
2949(required)X
3303(for)X
3448(connecting)X
3904(servers)X
720 5037(and)N
886(clients.)X
1213(One)X
1400(good)X
1619(approach)X
1999(to)X
2101(this)X
2267(kind)X
2465(of)X
2572(system)X
2866(is)X
2957(found)X
3207(in)X
3308(the)X
3452(V-system.)X
3894(It)X
3979(has)X
4133(a)X
720 5145(uniform)N
1064(I/O)X
1226(interface)X
1598(that)X
1777(can)X
1945(be)X
2070(used)X
2280(to)X
2390(connect)X
2725(processes)X
3128([Cheriton87].)X
3708(To)X
3850(properly)X
720 5253(integrate)N
1083(itself)X
1301(into)X
1476(the)X
1619(V)X
1713(distributed)X
2150(name)X
2384(space,)X
2647(however,)X
3026(each)X
3227(server)X
3486(must)X
3697(handle)X
3978(nam-)X
720 5361(ing)N
871(operations)X
1300(as)X
1408(well.)X
1650(The)X
1828(pseudo-device)X
2413(interface)X
2780(is)X
2873(simpler)X
3191(in)X
3295(this)X
3463(respect)X
3765(as)X
3874(the)X
4021(ker-)X
720 5469(nel)N
862(takes)X
1084(care)X
1269(of)X
1373(naming.)X
3 f
2400 6048(11)N

12 p
%%Page: 12 12
12 s 12 xH 0 xS 3 f
1 f
10 f
1235 813(i)N
1260(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1763 912(Pseudo-Device)N
2317(Write)X
2540(vs.)X
2662(Write-behind)X
12 s
10 f
1235 923(i)N
1260(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1633 1022(\(Bytes)N
1885(vs.)X
2007(Microseconds)X
2522(&)X
2613(Context)X
2915(Switches\))X
12 s
10 f
1235 1033(i)N
1260(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1235 1044(i)N
1260(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1303 1143(Size)N
1628(Write)X
2005(Write-Behind)X
2673(Ctx)X
2823(Swtch)X
3221(Opt)X
3375(Swtch)X
12 s
10 f
1235 1154(i)N
1260(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1235 1165(i)N
1260(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1387 1264(32)N
1649(2330)X
2212(910)X
2866(40)X
3416(36)X
12 s
10 f
1235 1275(i)N
1260(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1387 1374(64)N
1649(2370)X
2212(940)X
2866(63)X
3416(53)X
12 s
10 f
1235 1385(i)N
1260(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1343 1484(128)N
1649(2400)X
2168(1000)X
2822(100)X
3416(84)X
12 s
10 f
1235 1495(i)N
1260(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1343 1594(256)N
1649(2450)X
2168(1120)X
2822(178)X
3372(167)X
12 s
10 f
1235 1605(i)N
1260(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1343 1704(512)N
1649(2590)X
2168(1420)X
2822(382)X
3372(334)X
12 s
10 f
1235 1715(i)N
1260(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
11 s
1 f
1299 1814(1024)N
1649(3030)X
2168(2660)X
2778(2000)X
3328(1000)X
12 s
10 f
1235 1826(i)N
1260(iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii)X
1235(c)X
1773(c)Y
1677(c)Y
1581(c)Y
1485(c)Y
1389(c)Y
1293(c)Y
1197(c)Y
1101(c)Y
1005(c)Y
909(c)Y
1547 1826(c)N
1802(c)Y
1706(c)Y
1610(c)Y
1514(c)Y
1418(c)Y
1322(c)Y
1226(c)Y
1130(c)Y
1911 1826(c)N
1802(c)Y
1706(c)Y
1610(c)Y
1514(c)Y
1418(c)Y
1322(c)Y
1226(c)Y
1130(c)Y
2585 1826(c)N
1802(c)Y
1706(c)Y
1610(c)Y
1514(c)Y
1418(c)Y
1322(c)Y
1226(c)Y
1130(c)Y
3132 1826(c)N
1802(c)Y
1706(c)Y
1610(c)Y
1514(c)Y
1418(c)Y
1322(c)Y
1226(c)Y
1130(c)Y
3660 1826(c)N
1773(c)Y
1677(c)Y
1581(c)Y
1485(c)Y
1389(c)Y
1293(c)Y
1197(c)Y
1101(c)Y
1005(c)Y
909(c)Y
3 f
11 s
880 1991(Table)N
1132(4.)X
1 f
1256(The)X
1429(elapsed)X
1729(time)X
1923(in)X
2028(microseconds)X
2548(for)X
2686(a)X
2761(write)X
2978(call)X
3142(with)X
3335(and)X
3499(without)X
3806(write-)X
880 2090(behind,)N
1175(and)X
1334(the)X
1474(number)X
1775(of)X
1880(context)X
2172(switches)X
2507(taken)X
2730(during)X
2992(1000)X
3200(iterations)X
3561(of)X
3666(the)X
3806(write-)X
880 2189(behind)N
1144(run)X
1285(vs.)X
1409(the)X
1541(optimal)X
1836(number)X
2129(of)X
2226(switches.)X
2597(The)X
2758(write-behind)X
3232(times)X
3448(re\257ect)X
3692(a)X
3756(smaller)X
880 2288(number)N
1172(of)X
1268(context)X
1551(switches)X
1877(because)X
2178(of)X
2274(write-behind.)X
2791(The)X
2951(optimal)X
3245(number)X
3537(of)X
3632(switches)X
3957(is)X
880 2387(not)N
1020(obtained)X
1352(because)X
1658(the)X
1794(scheduler)X
2159(preempts)X
2510(the)X
2646(client)X
2871(before)X
3123(it)X
3201(completely)X
3622(\256lls)X
3783(the)X
3919(re-)X
880 2486(quest)N
1100(buffer.)X
1392(At)X
1514(1024)X
1724(bytes)X
1944(only)X
2135(one)X
2296(request)X
2584(\256ts)X
2725(into)X
2896(the)X
3037(server's)X
3347(request)X
3634(buffer,)X
3903(but)X
880 2585(there)N
1078(are)X
1207(extra)X
1405(context)X
1687(switches)X
2012(due)X
2161(to)X
2252(a)X
2313(bug)X
2467(in)X
2558(the)X
2688(scheduler.)X
12 s
920 2822(Byte-stream)N
1442(mechanisms,)X
1993(such)X
2220(as)X
2351(UNIX)X
2641(pipes,)X
2919(UNIX)X
3209(System)X
3543(V)X
3664(named)X
3973(pipes)X
720 2930([Dolotta80],)N
1232(UNIX)X
1510(pseudo-terminals,)X
2236(and)X
2413(4.3)X
2571(BSD)X
2795(sockets,)X
3140(are)X
3296(limited)X
3608(to)X
3721(providing)X
4133(a)X
720 3038(reliable)N
1039(byte)X
1234(stream)X
1521(between)X
1872(processes.)X
2318(Usually)X
2647(any)X
2816(extra)X
3039(processing,)X
3504(like)X
3679(terminal)X
4031(line)X
720 3146(editing)N
1024(or)X
1140(a)X
1219(network)X
1569(protocol,)X
1949(is)X
2048(implemented)X
2587(inside)X
2852(the)X
3005(kernel.)X
3329(Pseudo-devices)X
3962(move)X
720 3254(the)N
862(processing)X
1297(out)X
1444(of)X
1548(the)X
1690(kernel,)X
1979(and)X
2142(allow)X
2380(for)X
2516(more)X
2738(general)X
3046(operations)X
3471(via)X
3613(iocontrol\(\).)X
920 3395(The)N
1095(Version)X
1424(Eight)X
1658(stream)X
1940(facility)X
2239([Ritchie84])X
2703(also)X
2884(provides)X
3241(byte)X
3433(stream)X
3716(connections)X
720 3503(between)N
1069(processes,)X
1489(but)X
1640(it)X
1722(can)X
1883(be)X
2001(extended)X
2376(to)X
2478(allow)X
2719(emulation)X
3132(of)X
3239(an)X
3357(I/O)X
3512(device)X
3791(by)X
3914(a)X
3984(user-)X
720 3611(level)N
948(process)X
1276([Presotto85].)X
1840(One)X
2041(extension)X
2451(converts)X
2818(iocontrol\(\))X
3271(calls)X
3489(into)X
3680(special)X
3989(mes-)X
720 3719(sages)N
966(that)X
1149(appear)X
1444(in)X
1557(the)X
1713(byte)X
1917(stream)X
2212(to)X
2325(the)X
2481(server)X
2754(process.)X
3128(Another)X
3481(extension)X
3887(lets)X
4058(the)X
720 3827(server)N
988(``mount'')X
1395(a)X
1471(stream)X
1761(on)X
1890(a)X
1966(\256le)X
2123(and)X
2296(return)X
2560(new)X
2754(streams)X
3082(to)X
3191(clients)X
3477(that)X
3656(open)X
3877(the)X
4029(\256le.)X
720 3935(This)N
919(achieves)X
1279(the)X
1425(name)X
1662(transparency)X
2181(that)X
2353(pseudo-devices)X
2973(have,)X
3206(and)X
3372(lets)X
3533(the)X
3678(server)X
3940(multi-)X
720 4043(plex)N
918(itself)X
1143(among)X
1437(several)X
1742(clients.)X
2074(The)X
2256(main)X
2482(difference)X
2906(between)X
3260(pseudo-devices)X
3886(and)X
4058(the)X
720 4151(stream)N
1009(facility)X
1315(\(aside)X
1577(from)X
1796(the)X
1946(underlying)X
2395 0.2411(implementation\))AX
3065(is)X
3161(the)X
3311(way)X
3503(the)X
3652(interfaces)X
4058(are)X
720 4259(used;)N
952(the)X
1099(stream)X
1385(facility)X
1688(is)X
1782(designed)X
2154(to)X
2259(support)X
2577(different)X
2939(combinations)X
3488(of)X
3598(kernel-resident)X
720 4367(processing)N
1161(units,)X
1402(whereas)X
1747(the)X
1895(pseudo-device)X
2481(mechanism)X
2950(is)X
3044(oriented)X
3390(solely)X
3650(towards)X
3984(user-)X
720 4475(level)N
932 0.2548(implementation)AX
1562(of)X
1666(services.)X
920 4616(The)N
1103(watchdog)X
1510(facility)X
1817(proposed)X
2202(by)X
2331(Bershad)X
2679(and)X
2851(Pinkerton)X
3259([Bershad88])X
3768(provides)X
4133(a)X
720 4724(different)N
1087(way)X
1282(to)X
1392(extend)X
1684(the)X
1837(UNIX)X
2111(\256le)X
2269(system,)X
2595(but)X
2753(it)X
2842(can)X
3010(be)X
3135(used)X
3345(to)X
3454(achieve)X
3783(nearly)X
4058(the)X
720 4832(same)N
943(effect)X
1188(as)X
1293(pseudo-devices.)X
1959(A)X
2053(``watchdog'')X
2580(process)X
2893(can)X
3052(attach)X
3308(itself)X
3526(to)X
3627(a)X
3696(\256le)X
3845(or)X
3951(direc-)X
720 4940(tory)N
902(and)X
1068(take)X
1256(over)X
1454(some,)X
1708(or)X
1815(all,)X
1963(of)X
2070(the)X
2215(operations)X
2642(on)X
2764(the)X
2908(\256le.)X
3105(The)X
3281(watchdog)X
3681(process)X
3995(is)X
4085(an)X
720 5048(un-privileged)N
1295(user)X
1511(process,)X
1879(but)X
2059(the)X
2234(interface)X
2629(is)X
2750(implemented)X
3311(in)X
3443(the)X
3618(kernel)X
3916(so)X
4058(the)X
720 5156(watchdog's)N
1189(existence)X
1574(is)X
1664(transparent.)X
2166(Watchdogs)X
2625(may)X
2816(either)X
3061(wait)X
3252(around)X
3544(for)X
3681(guarded)X
4016(\256les)X
720 5264(to)N
829(be)X
954(opened,)X
1290(or)X
1404(they)X
1604(are)X
1756(created)X
2069(dynamically)X
2580(at)X
2684(open-time)X
3109(by)X
3239(a)X
3316(master)X
3607(watchdog)X
4016(pro-)X
720 5372(cess.)N
971(The)X
1164(main)X
1400(differences)X
1871(between)X
2234(the)X
2394(systems)X
2740(are)X
2900(that)X
3087(pseudo-devices)X
3722(provide)X
4058(the)X
720 5480(server)N
987(with)X
1190(an)X
1313(asynchronous)X
1873(read-write)X
2301(interface)X
2671(to)X
2779(reduce)X
3069(overhead,)X
3479(and)X
3651(the)X
3802(watchdog)X
720 5588(process)N
1032(can)X
1190(handle)X
1471(subsets)X
1772(of)X
1876(\256le)X
2023(operations.)X
3 f
2400 6048(12)N

13 p
%%Page: 13 13
12 s 12 xH 0 xS 3 f
720 780(7.)N
840(Conclusion)X
1 f
920 921(Pseudo-devices)N
1550(provide)X
1876(a)X
1951(way)X
2143(to)X
2250(integrate)X
2620(a)X
2695(user-level)X
3107(server)X
3374(process)X
3694(into)X
3877(Sprite's)X
720 1029(distributed)N
1157(\256le)X
1305(system.)X
1645(By)X
1781(making)X
2094(the)X
2236(service)X
2533(appear)X
2814(as)X
2918(a)X
2985(special)X
3277(I/O)X
3429(device,)X
3729(the)X
3871(existing)X
720 1137(open-close-read-write)N
1591(interface)X
1955(is)X
2045(retained.)X
2431(Pseudo-devices)X
3056(are)X
3201(named)X
3485(and)X
3651(protected)X
4037(just)X
720 1245(like)N
891(other)X
1115(\256les.)X
1349(Byte)X
1556(stream)X
1838(communication)X
2463(is)X
2552(via)X
2695(read\(\))X
2950(and)X
3114(write\(\),)X
3425(and)X
3589(read-ahead)X
4037(and)X
720 1353(write-behind)N
1245(can)X
1412(be)X
1536(used)X
1745(for)X
1890(asynchronous)X
2451(communication.)X
3132(Iocontrol\(\))X
3583(is)X
3681(available)X
4064(for)X
720 1461(operations)N
1149(speci\256c)X
1471(to)X
1574(the)X
1720(pseudo-device,)X
2328(and)X
2495(can)X
2656(be)X
2774(used)X
2977(as)X
3084(the)X
3229(transport)X
3598(mechanism)X
4064(for)X
720 1569(an)N
858(RPC)X
1086(system.)X
1448(The)X
1645(standard)X
2018(interface)X
2403(also)X
2605(means)X
2898(that)X
3090(the)X
3255 0.2548(implementation)AX
3909(of)X
4037(any)X
720 1677(speci\256c)N
1050(pseudo-device)X
1642(could)X
1892(be)X
2019(moved)X
2317(into)X
2502(the)X
2655(kernel)X
2931(for)X
3078(better)X
3333(performance,)X
3879(or)X
3994(even)X
720 1785(implemented)N
1248(in)X
1347(hardware,)X
1753(without)X
2071(having)X
2357(to)X
2456(change)X
2753(any)X
2916(clients.)X
920 1926(The)N
1103(performance)X
1623(of)X
1737(the)X
1889 0.2548(implementation)AX
2529(is)X
2627(acceptable)X
3069(at)X
3173(this)X
3346(point,)X
3602(although)X
3973(some)X
720 2034(further)N
1019(tuning)X
1302(may)X
1505(be)X
1633(possible.)X
2033(The)X
2220(buffering)X
2615(system)X
2919(represents)X
3346(our)X
3511(initial)X
3774(attempt)X
4101(to)X
720 2142(improve)N
1069(the)X
1215(performance)X
1730(and)X
1897(robustness)X
2330(of)X
2439(the)X
2586(system)X
2882(over)X
3082(an)X
3202(earlier)X
3478(pipe-based)X
3924(imple-)X
720 2250(mentation.)N
1181(There)X
1433(is)X
1524(additional)X
1937(mapping)X
2301(overhead)X
2681(associated)X
3104(with)X
3301(copying)X
3637(data)X
3824(from)X
4037(one)X
720 2358(user)N
920(process)X
1248(to)X
1363(another,)X
1716(so)X
1841(that)X
2026(pseudo-devices)X
2659(are)X
2817(not)X
2980(quite)X
3213(as)X
3333(fast)X
3512(as)X
3632(regular)X
3946(Sprite)X
720 2466(pipes.)N
999(However,)X
1403(the)X
1549(request)X
1855(buffer)X
2118(is)X
2210(relatively)X
2603(simple)X
2888(for)X
3028(the)X
3174(server)X
3437(to)X
3540(manage,)X
3892(and)X
4058(the)X
720 2574(fact)N
889(that)X
1058(it)X
1136(is)X
1224(pre-allocated)X
1752(allows)X
2027(some)X
2254(optimizations)X
2803(in)X
2902(the)X
3044(server.)X
920 2715(We)N
1099(currently)X
1492(use)X
1665(pseudo-devices)X
2303(to)X
2424(implement)X
2883(terminal)X
3251(drivers,)X
3588(the)X
3752(X)X
3867(window)X
720 2823(server,)N
1021(and)X
1202(the)X
1362(TCP/IP)X
1692(protocol)X
2055(family.)X
2397(Future)X
2690(work)X
2929(includes)X
3292(extending)X
3713(the)X
3872(pseudo-)X
720 2931(device)N
1020(mechanism)X
1507(to)X
1630(a)X
1721(``pseudo-\256le)X
2260(system'')X
2640(mechanism)X
3128(that)X
3322(can)X
3505(be)X
3645(used)X
3870(to)X
3994(tran-)X
720 3039(sparently)N
1097(access)X
1367(foreign)X
1669(\256le)X
1816(systems.)X
3 f
720 3243(References)N
1 f
10 s
720 3474(Bershad88.)N
1400(B.)X
1493(N.)X
1591(Bershad)X
1874(and)X
2010(C.)X
2103(B.)X
2196(Pinkerton,)X
2547(``Watchdogs)X
2983(-)X
3031(Extending)X
3381(the)X
3500(UNIX)X
3722(File)X
3867(System'',)X
2 f
1400 3564(USENIX)N
1696(Association)X
2089(1988)X
2269(Winter)X
2507(Conference)X
2897(Proceedings)X
1 f
3298(,)X
3338(Feb.)X
3498(1988,)X
3698(267-275.)X
720 3687(Cheriton87.)N
1400(D.)X
1499(R.)X
1594(Cheriton,)X
1916(``UIO:)X
2157(A)X
2237(uniform)X
2517(I/O)X
2646(interface)X
2950(for)X
3066(distributed)X
3430(systems'',)X
2 f
3779(ACM)X
3970(Trans.)X
1400 3777(on)N
1500(Computer)X
1840(Systems)X
2114(5)X
1 f
(,)S
2194(1)X
2254(\(Feb.)X
2441(1987\),)X
2668(12-46.)X
720 3900(Dolotta80.)N
1400(T.)X
1497(A.)X
1603(Dolotta,)X
1891(S.)X
1983(B.)X
2085(Olsson)X
2336(and)X
2481(A.)X
2588(G.)X
2695(Petrucelli,)X
2 f
3051(Unix)X
3236(User's)X
3479(Manual,)X
3777(Release)X
4056(3.0)X
1 f
(,)S
1400 3990(Bell)N
1553(Laboratories,)X
1999(Murray)X
2260(Hill,)X
2424(NJ,)X
2553(June)X
2720(1980.)X
720 4113(Nelson88.)N
1400(M.)X
1535(Nelson,)X
1826(B.)X
1943(Welch)X
2197(and)X
2357(J.)X
2453(Ousterhout,)X
2874(``Caching)X
3240(in)X
3347(the)X
3490(Sprite)X
3726(Network)X
4052(File)X
1400 4203(System'',)N
2 f
1729(Trans.)X
1955(Computer)X
2295(Systems)X
2569(6)X
1 f
(,)S
2649(1)X
2709(\(Feb.)X
2896(1988\),)X
3123(134-154.)X
720 4326(Ousterhout88.)N
1400(J.)X
1489(Ousterhout,)X
1903(A.)X
2019(Cherenson,)X
2420(F.)X
2523(Douglis,)X
2835(M.)X
2965(Nelson)X
3231(and)X
3386(B.)X
3498(Welch,)X
3767(``The)X
3985(Sprite)X
1400 4416(Network)N
1701(Operating)X
2042(System'',)X
2 f
2371(IEEE)X
2565(Computer)X
2905(21)X
1 f
(,)S
3025(2)X
3085(\(Feb.)X
3272(1988\),)X
3499(23-36.)X
720 4539(IP81.)N
1400(J.)X
1471(Postel,)X
1706(``Internet)X
2030(Protocol'',)X
2 f
2395(RFC)X
2566(791)X
1 f
(,)S
2726(Sep.)X
2886(1981.)X
720 4662(Presotto85.)N
1400(D.)X
1499(L.)X
1589(Presotto)X
1872(and)X
2010(D.)X
2110(M.)X
2223(Ritchie,)X
2496(``Interprocess)X
2965(Communication)X
3502(in)X
3586(the)X
3706(Eighth)X
3941(Edition)X
1400 4752(Unix)N
1598(System'',)X
2 f
1944(USENIX)X
2257(Association)X
2667(1985)X
2864(Summer)X
3164(Conference)X
3571(Proceedings)X
1 f
3972(,)X
4029(June)X
1400 4842(1985,)N
1600(309-316.)X
720 4965(Ritchie84.)N
1400(D.)X
1500(Ritchie,)X
1773(``A)X
1907(Stream)X
2156(Input-Output)X
2596(System'',)X
2 f
2927(The)X
3069(Bell)X
3220(System)X
3465(Technical)X
3804(Journal)X
4076(63)X
1 f
(,)S
1400 5055(8)N
1460(Part)X
1609(2)X
1669(\(Oct.)X
1852(1984\),)X
2079(1897-1910.)X
720 5178(Schei\257er86.)N
1400(R.)X
1493(W.)X
1609(Schei\257er)X
1914(and)X
2051(J.)X
2123(Gettys,)X
2373(``The)X
2573(X)X
2652(Window)X
2949(System'',)X
2 f
3279(ACM)X
3469(Trans.)X
3696(on)X
3797(Graphics)X
4116(5)X
1 f
(,)S
1400 5268(2)N
1460(\(Apr.)X
1652(1986\),)X
1879(79-109.)X
720 5391(Welch86a.)N
1400(B.)X
1520(B.)X
1640(Welch,)X
1918(``The)X
2145(Sprite)X
2384(Remote)X
2681(Procedure)X
3055(Call)X
3236(System'',)X
3593(Technical)X
3958(Report)X
1400 5481(UCB/Computer)N
1926(Science)X
2196(Dpt.)X
2356(86/302,)X
2618(University)X
2976(of)X
3063(California,)X
3428(Berkeley,)X
3758(June)X
3925(1986.)X
720 5604(Welch86b.)N
1400(B.)X
1494(B.)X
1588(Welch)X
1819(and)X
1956(J.)X
2028(K.)X
2128(Ousterhout,)X
2526(``Pre\256x)X
2793(Tables:)X
3051(A)X
3131(Simple)X
3379(Mechanism)X
3775(for)X
3891(Locating)X
1400 5694(Files)N
1575(in)X
1657(a)X
1713(Distributed)X
2093(Filesystem'',)X
2 f
2533(Proc.)X
2729(of)X
2811(the)X
2929(6th)X
3051(ICDCS)X
1 f
3282(,)X
3322(May)X
3489(1986,)X
3689(184-189.)X
3 f
2408 6048(13)N

13 p
%%Trailer
xt

xs
